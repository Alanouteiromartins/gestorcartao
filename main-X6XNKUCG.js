var dN=Object.defineProperty,hN=Object.defineProperties;var fN=Object.getOwnPropertyDescriptors;var hE=Object.getOwnPropertySymbols,pN=Object.getPrototypeOf,mN=Object.prototype.hasOwnProperty,gN=Object.prototype.propertyIsEnumerable,yN=Reflect.get;var fE=(t,e,n)=>e in t?dN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,L=(t,e)=>{for(var n in e||={})mN.call(e,n)&&fE(t,n,e[n]);if(hE)for(var n of hE(e))gN.call(e,n)&&fE(t,n,e[n]);return t},de=(t,e)=>hN(t,fN(e));var Ur=(t,e,n)=>yN(pN(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function pE(t,e){return Object.is(t,e)}var Qe=null,Pu=!1,Ou=1,Jn=Symbol("SIGNAL");function ve(t){let e=Qe;return Qe=t,e}function mE(){return Qe}var xa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function np(t){if(Pu)throw new Error("");if(Qe===null)return;Qe.consumerOnSignalRead(t);let e=Qe.nextProducerIndex++;if(Lu(Qe),e<Qe.producerNode.length&&Qe.producerNode[e]!==t&&Na(Qe)){let n=Qe.producerNode[e];Vu(n,Qe.producerIndexOfThis[e])}Qe.producerNode[e]!==t&&(Qe.producerNode[e]=t,Qe.producerIndexOfThis[e]=Na(Qe)?_E(t,Qe,e):0),Qe.producerLastReadVersion[e]=t.version}function vN(){Ou++}function gE(t){if(!(Na(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ou)){if(!t.producerMustRecompute(t)&&!ip(t)){t.dirty=!1,t.lastCleanEpoch=Ou;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ou}}function yE(t){if(t.liveConsumerNode===void 0)return;let e=Pu;Pu=!0;try{for(let n of t.liveConsumerNode)n.dirty||_N(n)}finally{Pu=e}}function vE(){return Qe?.consumerAllowSignalWrites!==!1}function _N(t){t.dirty=!0,yE(t),t.consumerMarkedDirty?.(t)}function Fu(t){return t&&(t.nextProducerIndex=0),ve(t)}function rp(t,e){if(ve(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Na(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Vu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ip(t){Lu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(gE(n),r!==n.version))return!0}return!1}function op(t){if(Lu(t),Na(t))for(let e=0;e<t.producerNode.length;e++)Vu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function _E(t,e,n){if(IE(t),t.liveConsumerNode.length===0&&wE(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=_E(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Vu(t,e){if(IE(t),t.liveConsumerNode.length===1&&wE(t))for(let r=0;r<t.producerNode.length;r++)Vu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Lu(i),i.producerIndexOfThis[r]=e}}function Na(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Lu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function IE(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function wE(t){return t.producerNode!==void 0}function EE(t){let e=Object.create(IN);e.computation=t;let n=()=>{if(gE(e),np(e),e.value===ku)throw e.error;return e.value};return n[Jn]=e,n}var ep=Symbol("UNSET"),tp=Symbol("COMPUTING"),ku=Symbol("ERRORED"),IN=de(L({},xa),{value:ep,dirty:!0,error:null,equal:pE,producerMustRecompute(t){return t.value===ep||t.value===tp},producerRecomputeValue(t){if(t.value===tp)throw new Error("Detected cycle in computations.");let e=t.value;t.value=tp;let n=Fu(t),r;try{r=t.computation()}catch(i){r=ku,t.error=i}finally{rp(t,n)}if(e!==ep&&e!==ku&&r!==ku&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function wN(){throw new Error}var DE=wN;function CE(){DE()}function bE(t){DE=t}var EN=null;function TE(t){let e=Object.create(AE);e.value=t;let n=()=>(np(e),e.value);return n[Jn]=e,n}function sp(t,e){vE()||CE(),t.equal(t.value,e)||(t.value=e,DN(t))}function SE(t,e){vE()||CE(),sp(t,e(t.value))}var AE=de(L({},xa),{equal:pE,value:void 0});function DN(t){t.version++,vN(),yE(t),EN?.()}function re(t){return typeof t=="function"}function No(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ju=No(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ni(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ue=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(re(r))try{r()}catch(o){e=o instanceof ju?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{RE(o)}catch(s){e=e??[],s instanceof ju?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ju(e)}}add(e){var n;if(e&&e!==this)if(this.closed)RE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ni(n,e)}remove(e){let{_finalizers:n}=this;n&&Ni(n,e),e instanceof t&&e._removeParent(this)}};Ue.EMPTY=(()=>{let t=new Ue;return t.closed=!0,t})();var ap=Ue.EMPTY;function Uu(t){return t instanceof Ue||t&&"closed"in t&&re(t.remove)&&re(t.add)&&re(t.unsubscribe)}function RE(t){re(t)?t():t.unsubscribe()}var dn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var xo={setTimeout(t,e,...n){let{delegate:r}=xo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=xo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Bu(t){xo.setTimeout(()=>{let{onUnhandledError:e}=dn;if(e)e(t);else throw t})}function Pa(){}var ME=cp("C",void 0,void 0);function NE(t){return cp("E",void 0,t)}function xE(t){return cp("N",t,void 0)}function cp(t,e,n){return{kind:t,value:e,error:n}}var xi=null;function Po(t){if(dn.useDeprecatedSynchronousErrorHandling){let e=!xi;if(e&&(xi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=xi;if(xi=null,n)throw r}}else t()}function PE(t){dn.useDeprecatedSynchronousErrorHandling&&xi&&(xi.errorThrown=!0,xi.error=t)}var Pi=class extends Ue{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Uu(e)&&e.add(this)):this.destination=TN}static create(e,n,r){return new Oo(e,n,r)}next(e){this.isStopped?lp(xE(e),this):this._next(e)}error(e){this.isStopped?lp(NE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?lp(ME,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},CN=Function.prototype.bind;function up(t,e){return CN.call(t,e)}var dp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){$u(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){$u(r)}else $u(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){$u(n)}}},Oo=class extends Pi{constructor(e,n,r){super();let i;if(re(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&dn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&up(e.next,o),error:e.error&&up(e.error,o),complete:e.complete&&up(e.complete,o)}):i=e}this.destination=new dp(i)}};function $u(t){dn.useDeprecatedSynchronousErrorHandling?PE(t):Bu(t)}function bN(t){throw t}function lp(t,e){let{onStoppedNotification:n}=dn;n&&xo.setTimeout(()=>n(t,e))}var TN={closed:!0,next:Pa,error:bN,complete:Pa};var ko=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Bt(t){return t}function hp(...t){return fp(t)}function fp(t){return t.length===0?Bt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var me=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=AN(n)?n:new Oo(n,r,i);return Po(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=OE(r),new r((i,o)=>{let s=new Oo({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ko](){return this}pipe(...n){return fp(n)(this)}toPromise(n){return n=OE(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function OE(t){var e;return(e=t??dn.Promise)!==null&&e!==void 0?e:Promise}function SN(t){return t&&re(t.next)&&re(t.error)&&re(t.complete)}function AN(t){return t&&t instanceof Pi||SN(t)&&Uu(t)}function pp(t){return re(t?.lift)}function ge(t){return e=>{if(pp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(t,e,n,r,i){return new mp(t,e,n,r,i)}var mp=class extends Pi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Fo(){return ge((t,e)=>{let n=null;t._refCount++;let r=he(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Vo=class extends me{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,pp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ue;let n=this.getSubject();e.add(this.source.subscribe(he(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ue.EMPTY)}return e}refCount(){return Fo()(this)}};var kE=No(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rt=(()=>{class t extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Hu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new kE}next(n){Po(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Po(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Po(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?ap:(this.currentObservers=null,o.push(n),new Ue(()=>{this.currentObservers=null,Ni(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new me;return n.source=this,n}}return t.create=(e,n)=>new Hu(e,n),t})(),Hu=class extends rt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ap}};var ht=class extends rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var gp={now(){return(gp.delegate||Date).now()},delegate:void 0};var qu=class extends Ue{constructor(e,n){super()}schedule(e,n=0){return this}};var Oa={setInterval(t,e,...n){let{delegate:r}=Oa;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Oa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Lo=class extends qu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Oa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Oa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ni(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var jo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};jo.now=gp.now;var Uo=class extends jo{constructor(e,n=jo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var yp=new Uo(Lo);var zu=class extends Lo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Gu=class extends Uo{};var vp=new Gu(zu);var $t=new me(t=>t.complete());function FE(t){return t&&re(t.schedule)}function VE(t){return t[t.length-1]}function Wu(t){return re(VE(t))?t.pop():void 0}function Br(t){return FE(VE(t))?t.pop():void 0}function _p(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function jE(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function LE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oi(t){return this instanceof Oi?(this.v=t,this):new Oi(t)}function UE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(A){return Promise.resolve(A).then(v,p)}}function a(v,A){r[v]&&(i[v]=function(P){return new Promise(function(x,j){o.push([v,P,x,j])>1||u(v,P)})},A&&(i[v]=A(i[v])))}function u(v,A){try{l(r[v](A))}catch(P){g(o[0][3],P)}}function l(v){v.value instanceof Oi?Promise.resolve(v.value.v).then(h,p):g(o[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function g(v,A){v(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function BE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof LE=="function"?LE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Ku=t=>t&&typeof t.length=="number"&&typeof t!="function";function Qu(t){return re(t?.then)}function Yu(t){return re(t[ko])}function Zu(t){return Symbol.asyncIterator&&re(t?.[Symbol.asyncIterator])}function Ju(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function RN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Xu=RN();function el(t){return re(t?.[Xu])}function tl(t){return UE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Oi(n.read());if(i)return yield Oi(void 0);yield yield Oi(r)}}finally{n.releaseLock()}})}function nl(t){return re(t?.getReader)}function qe(t){if(t instanceof me)return t;if(t!=null){if(Yu(t))return MN(t);if(Ku(t))return NN(t);if(Qu(t))return xN(t);if(Zu(t))return $E(t);if(el(t))return PN(t);if(nl(t))return ON(t)}throw Ju(t)}function MN(t){return new me(e=>{let n=t[ko]();if(re(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function NN(t){return new me(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function xN(t){return new me(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Bu)})}function PN(t){return new me(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function $E(t){return new me(e=>{kN(t,e).catch(n=>e.error(n))})}function ON(t){return $E(tl(t))}function kN(t,e){var n,r,i,o;return jE(this,void 0,void 0,function*(){try{for(n=BE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function kt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function $r(t,e=0){return ge((n,r)=>{n.subscribe(he(r,i=>kt(r,t,()=>r.next(i),e),()=>kt(r,t,()=>r.complete(),e),i=>kt(r,t,()=>r.error(i),e)))})}function Hr(t,e=0){return ge((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function HE(t,e){return qe(t).pipe(Hr(e),$r(e))}function qE(t,e){return qe(t).pipe(Hr(e),$r(e))}function zE(t,e){return new me(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function GE(t,e){return new me(n=>{let r;return kt(n,e,()=>{r=t[Xu](),kt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>re(r?.return)&&r.return()})}function rl(t,e){if(!t)throw new Error("Iterable cannot be null");return new me(n=>{kt(n,e,()=>{let r=t[Symbol.asyncIterator]();kt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function WE(t,e){return rl(tl(t),e)}function KE(t,e){if(t!=null){if(Yu(t))return HE(t,e);if(Ku(t))return zE(t,e);if(Qu(t))return qE(t,e);if(Zu(t))return rl(t,e);if(el(t))return GE(t,e);if(nl(t))return WE(t,e)}throw Ju(t)}function Ae(t,e){return e?KE(t,e):qe(t)}function Y(...t){let e=Br(t);return Ae(t,e)}function Bo(t,e){let n=re(t)?t:()=>t,r=i=>i.error(n());return new me(e?i=>e.schedule(r,0,i):r)}function Ip(t){return!!t&&(t instanceof me||re(t.lift)&&re(t.subscribe))}var Xn=No(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function le(t,e){return ge((n,r)=>{let i=0;n.subscribe(he(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:FN}=Array;function VN(t,e){return FN(e)?t(...e):t(e)}function il(t){return le(e=>VN(t,e))}var{isArray:LN}=Array,{getPrototypeOf:jN,prototype:UN,keys:BN}=Object;function ol(t){if(t.length===1){let e=t[0];if(LN(e))return{args:e,keys:null};if($N(e)){let n=BN(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function $N(t){return t&&typeof t=="object"&&jN(t)===UN}function sl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ka(...t){let e=Br(t),n=Wu(t),{args:r,keys:i}=ol(t);if(r.length===0)return Ae([],e);let o=new me(HN(r,e,i?s=>sl(i,s):Bt));return n?o.pipe(il(n)):o}function HN(t,e,n=Bt){return r=>{QE(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)QE(e,()=>{let l=Ae(t[u],e),h=!1;l.subscribe(he(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function QE(t,e,n){t?kt(n,t,e):e()}function YE(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},v=P=>l<r?A(P):u.push(P),A=P=>{o&&e.next(P),l++;let x=!1;qe(n(P,h++)).subscribe(he(e,j=>{i?.(j),o?v(j):e.next(j)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;u.length&&l<r;){let j=u.shift();s?kt(e,s,()=>A(j)):A(j)}g()}catch(j){e.error(j)}}))};return t.subscribe(he(e,v,()=>{p=!0,g()})),()=>{a?.()}}function ze(t,e,n=1/0){return re(e)?ze((r,i)=>le((o,s)=>e(r,o,i,s))(qe(t(r,i))),n):(typeof e=="number"&&(n=e),ge((r,i)=>YE(r,i,t,n)))}function qr(t=1/0){return ze(Bt,t)}function ZE(){return qr(1)}function $o(...t){return ZE()(Ae(t,Br(t)))}function al(t){return new me(e=>{qe(t()).subscribe(e)})}function wp(...t){let e=Wu(t),{args:n,keys:r}=ol(t),i=new me(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;qe(n[h]).subscribe(he(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?sl(r,a):a),o.complete())}))}});return e?i.pipe(il(e)):i}function Jt(t,e){return ge((n,r)=>{let i=0;n.subscribe(he(r,o=>t.call(e,o,i++)&&r.next(o)))})}function zr(t){return ge((e,n)=>{let r=null,i=!1,o;r=e.subscribe(he(n,void 0,void 0,s=>{o=qe(t(s,zr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function JE(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(he(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function ki(t,e){return re(e)?ze(t,e,1):ze(t,1)}function Gr(t){return ge((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function er(t){return t<=0?()=>$t:ge((e,n)=>{let r=0;e.subscribe(he(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ep(t){return le(()=>t)}function cl(t=qN){return ge((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function qN(){return new Xn}function Fa(t){return ge((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Dn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Jt((i,o)=>t(i,o,r)):Bt,er(1),n?Gr(e):cl(()=>new Xn))}function Ho(t){return t<=0?()=>$t:ge((e,n)=>{let r=[];e.subscribe(he(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Dp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Jt((i,o)=>t(i,o,r)):Bt,Ho(1),n?Gr(e):cl(()=>new Xn))}function Cp(t,e){return ge(JE(t,e,arguments.length>=2,!0))}function bp(...t){let e=Br(t);return ge((n,r)=>{(e?$o(t,n,e):$o(t,n)).subscribe(r)})}function Xt(t,e){return ge((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(he(r,u=>{i?.unsubscribe();let l=0,h=o++;qe(t(u,h)).subscribe(i=he(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Tp(t){return ge((e,n)=>{qe(t).subscribe(he(n,()=>n.complete(),Pa)),!n.closed&&e.subscribe(n)})}function Ye(t,e,n){let r=re(t)||e||n?{next:t,error:e,complete:n}:t;return r?ge((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(he(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Bt}var L0="https://g.co/ng/security#xss",q=class extends Error{constructor(e,n){super(Lm(e,n)),this.code=e}};function Lm(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function za(t){return{toString:t}.toString()}var ul="__parameters__";function zN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function j0(t,e,n){return za(()=>{let r=zN(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(ul)?u[ul]:Object.defineProperty(u,ul,{value:[]})[ul];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Vi=globalThis;function Re(t){for(let e in t)if(t[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function GN(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function xt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(xt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function XE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var WN=Re({__forward_ref__:Re});function Mn(t){return t.__forward_ref__=Mn,t.toString=function(){return xt(this())},t}function Nt(t){return U0(t)?t():t}function U0(t){return typeof t=="function"&&t.hasOwnProperty(WN)&&t.__forward_ref__===Mn}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ei(t){return{providers:t.providers||[],imports:t.imports||[]}}function ql(t){return e0(t,$0)||e0(t,H0)}function B0(t){return ql(t)!==null}function e0(t,e){return t.hasOwnProperty(e)?t[e]:null}function KN(t){let e=t&&(t[$0]||t[H0]);return e||null}function t0(t){return t&&(t.hasOwnProperty(n0)||t.hasOwnProperty(QN))?t[n0]:null}var $0=Re({\u0275prov:Re}),n0=Re({\u0275inj:Re}),H0=Re({ngInjectableDef:Re}),QN=Re({ngInjectorDef:Re}),B=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function q0(t){return t&&!!t.\u0275providers}var YN=Re({\u0275cmp:Re}),ZN=Re({\u0275dir:Re}),JN=Re({\u0275pipe:Re}),XN=Re({\u0275mod:Re}),Il=Re({\u0275fac:Re}),La=Re({__NG_ELEMENT_ID__:Re}),r0=Re({__NG_ENV_ID__:Re});function zl(t){return typeof t=="string"?t:t==null?"":String(t)}function ex(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():zl(t)}function tx(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new q(-200,t)}function jm(t,e){throw new q(-201,!1)}var ue=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ue||{}),Bp;function z0(){return Bp}function Ft(t){let e=Bp;return Bp=t,e}function G0(t,e,n){let r=ql(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ue.Optional)return null;if(e!==void 0)return e;jm(t,"Injector")}var nx={},ja=nx,$p="__NG_DI_FLAG__",wl="ngTempTokenPath",rx="ngTokenPath",ix=/\n/gm,ox="\u0275",i0="__source",Ko;function sx(){return Ko}function Wr(t){let e=Ko;return Ko=t,e}function ax(t,e=ue.Default){if(Ko===void 0)throw new q(-203,!1);return Ko===null?G0(t,void 0,e):Ko.get(t,e&ue.Optional?null:void 0,e)}function Z(t,e=ue.Default){return(z0()||ax)(Nt(t),e)}function k(t,e=ue.Default){return Z(t,Gl(e))}function Gl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Hp(t){let e=[];for(let n=0;n<t.length;n++){let r=Nt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new q(900,!1);let i,o=ue.Default;for(let s=0;s<r.length;s++){let a=r[s],u=cx(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(Z(i,o))}else e.push(Z(r))}return e}function W0(t,e){return t[$p]=e,t.prototype[$p]=e,t}function cx(t){return t[$p]}function ux(t,e,n,r){let i=t[wl];throw e[i0]&&i.unshift(e[i0]),t.message=lx(`
`+t.message,i,n,r),t[rx]=i,t[wl]=null,t}function lx(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==ox?t.slice(2):t;let i=xt(e);if(Array.isArray(e))i=e.map(xt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):xt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(ix,`
  `)}`}var wt=W0(j0("Optional"),8);var Um=W0(j0("SkipSelf"),4);function ji(t,e){let n=t.hasOwnProperty(Il);return n?t[Il]:null}function dx(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function hx(t){return t.flat(Number.POSITIVE_INFINITY)}function Bm(t,e){t.forEach(n=>Array.isArray(n)?Bm(n,e):e(n))}function K0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function El(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function fx(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function px(t,e,n){let r=Ga(t,e);return r>=0?t[r|1]=n:(r=~r,fx(t,r,e,n)),r}function Sp(t,e){let n=Ga(t,e);if(n>=0)return t[n|1]}function Ga(t,e){return mx(t,e,1)}function mx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Yo={},en=[],Zo=new B(""),Q0=new B("",-1),Y0=new B(""),Dl=class{get(e,n=ja){if(n===ja){let r=new Error(`NullInjectorError: No provider for ${xt(e)}!`);throw r.name="NullInjectorError",r}return n}},Z0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Z0||{}),Tn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Tn||{}),Yr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Yr||{});function gx(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function qp(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];yx(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function J0(t){return t===3||t===4||t===6}function yx(t){return t.charCodeAt(0)===64}function Ua(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?o0(t,n,i,null,e[++r]):o0(t,n,i,null,null))}}return t}function o0(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var X0="ng-template";function vx(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&gx(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if($m(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function $m(t){return t.type===4&&t.value!==X0}function _x(t,e,n){let r=t.type===4&&!n?X0:t.value;return e===r}function Ix(t,e,n){let r=4,i=t.attrs,o=i!==null?Dx(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!hn(r)&&!hn(u))return!1;if(s&&hn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!_x(t,u,n)||u===""&&e.length===1){if(hn(r))return!1;s=!0}}else if(r&8){if(i===null||!vx(t,i,u,n)){if(hn(r))return!1;s=!0}}else{let l=e[++a],h=wx(u,i,$m(t),n);if(h===-1){if(hn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(hn(r))return!1;s=!0}}}}return hn(r)||s}function hn(t){return(t&1)===0}function wx(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Cx(e,t)}function Ex(t,e,n=!1){for(let r=0;r<e.length;r++)if(Ix(t,e[r],n))return!0;return!1}function Dx(t){for(let e=0;e<t.length;e++){let n=t[e];if(J0(n))return e}return t.length}function Cx(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function s0(t,e){return t?":not("+e.trim()+")":e}function bx(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!hn(s)&&(e+=s0(o,i),i=""),r=s,o=o||!hn(r);n++}return i!==""&&(e+=s0(o,i)),e}function Tx(t){return t.map(bx).join(",")}function Sx(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!hn(i))break;i=o}r++}return{attrs:e,classes:n}}function it(t){return za(()=>{let e=iD(t),n=de(L({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Z0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Tn.Emulated,styles:t.styles||en,_:null,schemas:t.schemas||null,tView:null,id:""});oD(n);let r=t.dependencies;return n.directiveDefs=c0(r,!1),n.pipeDefs=c0(r,!0),n.id=Mx(n),n})}function Ax(t){return Zr(t)||eD(t)}function Rx(t){return t!==null}function ti(t){return za(()=>({type:t.type,bootstrap:t.bootstrap||en,declarations:t.declarations||en,imports:t.imports||en,exports:t.exports||en,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function a0(t,e){if(t==null)return Yo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Yr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Yr.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Fe(t){return za(()=>{let e=iD(t);return oD(e),e})}function ss(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Zr(t){return t[YN]||null}function eD(t){return t[ZN]||null}function tD(t){return t[JN]||null}function nD(t){let e=Zr(t)||eD(t)||tD(t);return e!==null?e.standalone:!1}function rD(t,e){let n=t[XN]||null;if(!n&&e===!0)throw new Error(`Type ${xt(t)} does not have '\u0275mod' property.`);return n}function iD(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Yo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||en,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:a0(t.inputs,e),outputs:a0(t.outputs),debugInfo:null}}function oD(t){t.features?.forEach(e=>e(t))}function c0(t,e){if(!t)return null;let n=e?tD:Ax;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Rx)}function Mx(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Nn(t){return{\u0275providers:t}}function Nx(...t){return{\u0275providers:sD(!0,t),\u0275fromNgModule:!0}}function sD(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Bm(e,s=>{let a=s;zp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&aD(i,o),n}function aD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Hm(i,o=>{e(o,r)})}}function zp(t,e,n,r){if(t=Nt(t),!t)return!1;let i=null,o=t0(t),s=!o&&Zr(t);if(!o&&!s){let u=t.ngModule;if(o=t0(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)zp(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Bm(o.imports,h=>{zp(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&aD(l,e)}if(!a){let l=ji(i)||(()=>new i);e({provide:i,useFactory:l,deps:en},i),e({provide:Y0,useValue:i,multi:!0},i),e({provide:Zo,useValue:()=>Z(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Hm(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Hm(t,e){for(let n of t)q0(n)&&(n=n.\u0275providers),Array.isArray(n)?Hm(n,e):e(n)}var xx=Re({provide:String,useValue:Re});function cD(t){return t!==null&&typeof t=="object"&&xx in t}function Px(t){return!!(t&&t.useExisting)}function Ox(t){return!!(t&&t.useFactory)}function Jo(t){return typeof t=="function"}function kx(t){return!!t.useClass}var Wl=new B(""),pl={},Fx={},Ap;function qm(){return Ap===void 0&&(Ap=new Dl),Ap}var qt=class{},Ba=class extends qt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Wp(e,s=>this.processProvider(s)),this.records.set(Q0,qo(void 0,this)),i.has("environment")&&this.records.set(qt,qo(void 0,this));let o=this.records.get(Wl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Y0,en,ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ve(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Wr(this),r=Ft(void 0),i;try{return e()}finally{Wr(n),Ft(r)}}get(e,n=ja,r=ue.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(r0))return e[r0](this);r=Gl(r);let i,o=Wr(this),s=Ft(void 0);try{if(!(r&ue.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=Bx(e)&&ql(e);l&&this.injectableDefInScope(l)?u=qo(Gp(e),pl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ue.Self?qm():this.parent;return n=r&ue.Optional&&n===ja?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[wl]=a[wl]||[]).unshift(xt(e)),o)throw a;return ux(a,e,"R3InjectorError",this.source)}else throw a}finally{Ft(s),Wr(o)}}resolveInjectorInitializers(){let e=ve(null),n=Wr(this),r=Ft(void 0),i;try{let o=this.get(Zo,en,ue.Self);for(let s of o)s()}finally{Wr(n),Ft(r),ve(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(xt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processProvider(e){e=Nt(e);let n=Jo(e)?e:Nt(e&&e.provide),r=Lx(e);if(!Jo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=qo(void 0,pl,!0),i.factory=()=>Hp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ve(null);try{return n.value===pl&&(n.value=Fx,n.value=n.factory()),typeof n.value=="object"&&n.value&&Ux(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ve(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Nt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Gp(t){let e=ql(t),n=e!==null?e.factory:ji(t);if(n!==null)return n;if(t instanceof B)throw new q(204,!1);if(t instanceof Function)return Vx(t);throw new q(204,!1)}function Vx(t){if(t.length>0)throw new q(204,!1);let n=KN(t);return n!==null?()=>n.factory(t):()=>new t}function Lx(t){if(cD(t))return qo(void 0,t.useValue);{let e=uD(t);return qo(e,pl)}}function uD(t,e,n){let r;if(Jo(t)){let i=Nt(t);return ji(i)||Gp(i)}else if(cD(t))r=()=>Nt(t.useValue);else if(Ox(t))r=()=>t.useFactory(...Hp(t.deps||[]));else if(Px(t))r=()=>Z(Nt(t.useExisting));else{let i=Nt(t&&(t.useClass||t.provide));if(jx(t))r=()=>new i(...Hp(t.deps));else return ji(i)||Gp(i)}return r}function qo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function jx(t){return!!t.deps}function Ux(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Bx(t){return typeof t=="function"||typeof t=="object"&&t instanceof B}function Wp(t,e){for(let n of t)Array.isArray(n)?Wp(n,e):n&&q0(n)?Wp(n.\u0275providers,e):e(n)}function xn(t,e){t instanceof Ba&&t.assertNotDestroyed();let n,r=Wr(t),i=Ft(void 0);try{return e()}finally{Wr(r),Ft(i)}}function lD(){return z0()!==void 0||sx()!=null}function $x(t){if(!lD())throw new q(-203,!1)}function Hx(t){return typeof t=="function"}var sr=0,se=1,ee=2,It=3,fn=4,mn=5,Cl=6,bl=7,pn=8,Xo=9,Sn=10,Ze=11,$a=12,u0=13,as=14,An=15,Ui=16,zo=17,tr=18,Kl=19,dD=20,Kr=21,Rp=22,tn=23,nn=25,hD=1;var Bi=7,Tl=8,es=9,Ht=10,Sl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Sl||{});function Qr(t){return Array.isArray(t)&&typeof t[hD]=="object"}function ar(t){return Array.isArray(t)&&t[hD]===!0}function fD(t){return(t.flags&4)!==0}function Ql(t){return t.componentOffset>-1}function zm(t){return(t.flags&1)===1}function Jr(t){return!!t.template}function Kp(t){return(t[ee]&512)!==0}var Qp=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function pD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function cr(){return mD}function mD(t){return t.type.prototype.ngOnChanges&&(t.setInput=zx),qx}cr.ngInherit=!0;function qx(){let t=yD(this),e=t?.current;if(e){let n=t.previous;if(n===Yo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function zx(t,e,n,r,i){let o=this.declaredInputs[r],s=yD(t)||Gx(t,{previous:Yo,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Qp(l&&l.currentValue,n,u===Yo),pD(t,e,i,n)}var gD="__ngSimpleChanges__";function yD(t){return t[gD]||null}function Gx(t,e){return t[gD]=e}var l0=null;var Cn=function(t,e,n){l0?.(t,e,n)},vD="svg",Wx="math";function Rn(t){for(;Array.isArray(t);)t=t[sr];return t}function _D(t,e){return Rn(e[t])}function rn(t,e){return Rn(e[t.index])}function ID(t,e){return t.data[e]}function Gm(t,e){return t[e]}function ni(t,e){let n=e[t];return Qr(n)?n:n[sr]}function Kx(t){return(t[ee]&4)===4}function Wm(t){return(t[ee]&128)===128}function Qx(t){return ar(t[It])}function Al(t,e){return e==null?null:t[e]}function wD(t){t[zo]=0}function ED(t){t[ee]&1024||(t[ee]|=1024,Wm(t)&&Zl(t))}function Yx(t,e){for(;t>0;)e=e[as],t--;return e}function Yl(t){return!!(t[ee]&9216||t[tn]?.dirty)}function Yp(t){t[Sn].changeDetectionScheduler?.notify(8),t[ee]&64&&(t[ee]|=1024),Yl(t)&&Zl(t)}function Zl(t){t[Sn].changeDetectionScheduler?.notify(0);let e=$i(t);for(;e!==null&&!(e[ee]&8192||(e[ee]|=8192,!Wm(e)));)e=$i(e)}function DD(t,e){if((t[ee]&256)===256)throw new q(911,!1);t[Kr]===null&&(t[Kr]=[]),t[Kr].push(e)}function Zx(t,e){if(t[Kr]===null)return;let n=t[Kr].indexOf(e);n!==-1&&t[Kr].splice(n,1)}function $i(t){let e=t[It];return ar(e)?e[It]:e}var ce={lFrame:xD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var CD=!1;function Jx(){return ce.lFrame.elementDepthCount}function Xx(){ce.lFrame.elementDepthCount++}function eP(){ce.lFrame.elementDepthCount--}function bD(){return ce.bindingsEnabled}function tP(){return ce.skipHydrationRootTNode!==null}function nP(t){return ce.skipHydrationRootTNode===t}function rP(){ce.skipHydrationRootTNode=null}function Ie(){return ce.lFrame.lView}function Et(){return ce.lFrame.tView}function Km(t){return ce.lFrame.contextLView=t,t[pn]}function Qm(t){return ce.lFrame.contextLView=null,t}function Dt(){let t=TD();for(;t!==null&&t.type===64;)t=t.parent;return t}function TD(){return ce.lFrame.currentTNode}function iP(){let t=ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Wa(t,e){let n=ce.lFrame;n.currentTNode=t,n.isParent=e}function SD(){return ce.lFrame.isParent}function oP(){ce.lFrame.isParent=!1}function AD(){return CD}function d0(t){CD=t}function Ym(){let t=ce.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function sP(t){return ce.lFrame.bindingIndex=t}function Jl(){return ce.lFrame.bindingIndex++}function aP(t){let e=ce.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function cP(){return ce.lFrame.inI18n}function uP(t,e){let n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,Zp(e)}function lP(){return ce.lFrame.currentDirectiveIndex}function Zp(t){ce.lFrame.currentDirectiveIndex=t}function dP(t){let e=ce.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function RD(){return ce.lFrame.currentQueryIndex}function Zm(t){ce.lFrame.currentQueryIndex=t}function hP(t){let e=t[se];return e.type===2?e.declTNode:e.type===1?t[mn]:null}function MD(t,e,n){if(n&ue.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ue.Host);)if(i=hP(o),i===null||(o=o[as],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ce.lFrame=ND();return r.currentTNode=e,r.lView=t,!0}function Jm(t){let e=ND(),n=t[se];ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ND(){let t=ce.lFrame,e=t===null?null:t.child;return e===null?xD(t):e}function xD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function PD(){let t=ce.lFrame;return ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var OD=PD;function Xm(){let t=PD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fP(t){return(ce.lFrame.contextLView=Yx(t,ce.lFrame.contextLView))[pn]}function cs(){return ce.lFrame.selectedIndex}function Hi(t){ce.lFrame.selectedIndex=t}function eg(){let t=ce.lFrame;return ID(t.tView,t.selectedIndex)}function tg(){ce.lFrame.currentNamespace=vD}function ng(){pP()}function pP(){ce.lFrame.currentNamespace=null}function mP(){return ce.lFrame.currentNamespace}var kD=!0;function rg(){return kD}function ig(t){kD=t}function gP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=mD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function og(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function ml(t,e,n){FD(t,e,3,n)}function gl(t,e,n,r){(t[ee]&3)===n&&FD(t,e,n,r)}function Mp(t,e){let n=t[ee];(n&3)===e&&(n&=16383,n+=1,t[ee]=n)}function FD(t,e,n,r){let i=r!==void 0?t[zo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[zo]+=65536),(a<o||o==-1)&&(yP(t,n,e,u),t[zo]=(t[zo]&4294901760)+u+2),u++}function h0(t,e){Cn(4,t,e);let n=ve(null);try{e.call(t)}finally{ve(n),Cn(5,t,e)}}function yP(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ee]>>14<t[zo]>>16&&(t[ee]&3)===e&&(t[ee]+=16384,h0(a,o)):h0(a,o)}var Qo=-1,qi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function vP(t){return t instanceof qi}function _P(t){return(t.flags&8)!==0}function IP(t){return(t.flags&16)!==0}var Np={},Jp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Gl(r);let i=this.injector.get(e,Np,r);return i!==Np||n===Np?i:this.parentInjector.get(e,n,r)}};function VD(t){return t!==Qo}function Rl(t){return t&32767}function wP(t){return t>>16}function Ml(t,e){let n=wP(t),r=e;for(;n>0;)r=r[as],n--;return r}var Xp=!0;function Nl(t){let e=Xp;return Xp=t,e}var EP=256,LD=EP-1,jD=5,DP=0,bn={};function CP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(La)&&(r=n[La]),r==null&&(r=n[La]=DP++);let i=r&LD,o=1<<i;e.data[t+(i>>jD)]|=o}function xl(t,e){let n=UD(t,e);if(n!==-1)return n;let r=e[se];r.firstCreatePass&&(t.injectorIndex=e.length,xp(r.data,t),xp(e,null),xp(r.blueprint,null));let i=sg(t,e),o=t.injectorIndex;if(VD(i)){let s=Rl(i),a=Ml(i,e),u=a[se].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function xp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function UD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function sg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=zD(i),r===null)return Qo;if(n++,i=i[as],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Qo}function em(t,e,n){CP(t,e,n)}function bP(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(J0(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function BD(t,e,n){if(n&ue.Optional||t!==void 0)return t;jm(e,"NodeInjector")}function $D(t,e,n,r){if(n&ue.Optional&&r===void 0&&(r=null),!(n&(ue.Self|ue.Host))){let i=t[Xo],o=Ft(void 0);try{return i?i.get(e,r,n&ue.Optional):G0(e,r,n&ue.Optional)}finally{Ft(o)}}return BD(r,e,n)}function HD(t,e,n,r=ue.Default,i){if(t!==null){if(e[ee]&2048&&!(r&ue.Self)){let s=RP(t,e,n,r,bn);if(s!==bn)return s}let o=qD(t,e,n,r,bn);if(o!==bn)return o}return $D(e,n,r,i)}function qD(t,e,n,r,i){let o=SP(n);if(typeof o=="function"){if(!MD(e,t,r))return r&ue.Host?BD(i,n,r):$D(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ue.Optional))jm(n);else return s}finally{OD()}}else if(typeof o=="number"){let s=null,a=UD(t,e),u=Qo,l=r&ue.Host?e[An][mn]:null;for((a===-1||r&ue.SkipSelf)&&(u=a===-1?sg(t,e):e[a+8],u===Qo||!p0(r,!1)?a=-1:(s=e[se],a=Rl(u),e=Ml(u,e)));a!==-1;){let h=e[se];if(f0(o,a,h.data)){let p=TP(a,e,n,s,r,l);if(p!==bn)return p}u=e[a+8],u!==Qo&&p0(r,e[se].data[a+8]===l)&&f0(o,a,e)?(s=h,a=Rl(u),e=Ml(u,e)):a=-1}}return i}function TP(t,e,n,r,i,o){let s=e[se],a=s.data[t+8],u=r==null?Ql(a)&&Xp:r!=s&&(a.type&3)!==0,l=i&ue.Host&&o===a,h=yl(a,s,n,u,l);return h!==null?zi(e,s,h,a):bn}function yl(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let v=p;v<g;v++){let A=s[v];if(v<u&&n===A||v>=u&&A.type===n)return v}if(i){let v=s[u];if(v&&Jr(v)&&v.type===n)return u}return null}function zi(t,e,n,r){let i=t[n],o=e.data;if(vP(i)){let s=i;s.resolving&&tx(ex(o[n]));let a=Nl(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Ft(s.injectImpl):null,h=MD(t,r,ue.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&gP(n,o[n],e)}finally{l!==null&&Ft(l),Nl(a),s.resolving=!1,OD()}}return i}function SP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(La)?t[La]:void 0;return typeof e=="number"?e>=0?e&LD:AP:e}function f0(t,e,n){let r=1<<t;return!!(n[e+(t>>jD)]&r)}function p0(t,e){return!(t&ue.Self)&&!(t&ue.Host&&e)}var Li=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return HD(this._tNode,this._lView,e,Gl(r),n)}};function AP(){return new Li(Dt(),Ie())}function ur(t){return za(()=>{let e=t.prototype.constructor,n=e[Il]||tm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Il]||tm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function tm(t){return U0(t)?()=>{let e=tm(Nt(t));return e&&e()}:ji(t)}function RP(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ee]&2048&&!(s[ee]&512);){let a=qD(o,s,n,r|ue.Self,bn);if(a!==bn)return a;let u=o.parent;if(!u){let l=s[dD];if(l){let h=l.get(n,bn,r);if(h!==bn)return h}u=zD(s),s=s[as]}o=u}return i}function zD(t){let e=t[se],n=e.type;return n===2?e.declTNode:n===1?t[mn]:null}function ag(t){return bP(Dt(),t)}function m0(t,e=null,n=null,r){let i=GD(t,e,n,r);return i.resolveInjectorInitializers(),i}function GD(t,e=null,n=null,r,i=new Set){let o=[n||en,Nx(t)];return r=r||(typeof t=="object"?void 0:xt(t)),new Ba(o,e||qm(),r||null,i)}var ft=class t{static{this.THROW_IF_NOT_FOUND=ja}static{this.NULL=new Dl}static create(e,n){if(Array.isArray(e))return m0({name:""},n,e,"");{let r=e.name??"";return m0({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=$({token:t,providedIn:"any",factory:()=>Z(Q0)})}static{this.__NG_ELEMENT_ID__=-1}};var MP=new B("");MP.__NG_ELEMENT_ID__=t=>{let e=Dt();if(e===null)throw new q(204,!1);if(e.type&2)return e.value;if(t&ue.Optional)return null;throw new q(204,!1)};var NP="ngOriginalError";function Pp(t){return t[NP]}var WD=!0,cg=(()=>{class t{static{this.__NG_ELEMENT_ID__=xP}static{this.__NG_ENV_ID__=n=>n}}return t})(),nm=class extends cg{constructor(e){super(),this._lView=e}onDestroy(e){return DD(this._lView,e),()=>Zx(this._lView,e)}};function xP(){return new nm(Ie())}var us=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ht(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}}return t})();var rm=class extends rt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,lD()&&(this.destroyRef=k(cg,{optional:!0})??void 0,this.pendingTasks=k(us,{optional:!0})??void 0)}emit(e){let n=ve(null);try{super.next(e)}finally{ve(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ue&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Be=rm;function Pl(...t){}function KD(t){let e,n;function r(){t=Pl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function g0(t){return queueMicrotask(()=>t()),()=>{t=Pl}}var ug="isAngularZone",Ol=ug+"_ID",PP=0,Ce=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Be(!1),this.onMicrotaskEmpty=new Be(!1),this.onStable=new Be(!1),this.onError=new Be(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=WD}=e;if(typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,FP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ug)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,OP,Pl,Pl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},OP={};function lg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function kP(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){KD(()=>{t.callbackScheduled=!1,im(t),t.isCheckStableRunning=!0,lg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),im(t)}function FP(t){let e=()=>{kP(t)},n=PP++;t._inner=t._inner.fork({name:"angular",properties:{[ug]:!0,[Ol]:n,[Ol+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(VP(u))return r.invokeTask(o,s,a,u);try{return y0(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),v0(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return y0(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!LP(u)&&e(),v0(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,im(t),lg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function im(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function y0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function v0(t){t._nesting--,lg(t)}var om=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Be,this.onMicrotaskEmpty=new Be,this.onStable=new Be,this.onError=new Be}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function VP(t){return QD(t,"__ignore_ng_zone__")}function LP(t){return QD(t,"__scheduler_tick__")}function QD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var nr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Pp(e);for(;n&&Pp(n);)n=Pp(n);return n||null}},jP=new B("",{providedIn:"root",factory:()=>{let t=k(Ce),e=k(nr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function UP(){return ls(Dt(),Ie())}function ls(t,e){return new Vt(rn(t,e))}var Vt=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=UP}}return t})();function BP(t){return t instanceof Vt?t.nativeElement:t}function $P(){return this._results[Symbol.iterator]()}var sm=class t{get changes(){return this._changes??=new Be}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=$P)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=hx(e);(this._changesDetected=!dx(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function YD(t){return(t.flags&128)===128}var ZD=new Map,HP=0;function qP(){return HP++}function zP(t){ZD.set(t[Kl],t)}function am(t){ZD.delete(t[Kl])}var _0="__ngContext__";function Gi(t,e){Qr(e)?(t[_0]=e[Kl],zP(e)):t[_0]=e}function JD(t){return eC(t[$a])}function XD(t){return eC(t[fn])}function eC(t){for(;t!==null&&!ar(t);)t=t[fn];return t}var cm;function tC(t){cm=t}function GP(){if(cm!==void 0)return cm;if(typeof document<"u")return document;throw new q(210,!1)}var dg=new B("",{providedIn:"root",factory:()=>WP}),WP="ng",hg=new B(""),Pn=new B("",{providedIn:"platform",factory:()=>"unknown"});var fg=new B("",{providedIn:"root",factory:()=>GP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var KP="h",QP="b";var YP=()=>null;function pg(t,e,n=!1){return YP(t,e,n)}var nC=!1,ZP=new B("",{providedIn:"root",factory:()=>nC});var ll;function JP(){if(ll===void 0&&(ll=null,Vi.trustedTypes))try{ll=Vi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ll}function I0(t){return JP()?.createScriptURL(t)||t}var kl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${L0})`}};function Ka(t){return t instanceof kl?t.changingThisBreaksApplicationSecurity:t}function mg(t,e){let n=XP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${L0})`)}return n===e}function XP(t){return t instanceof kl&&t.getTypeName()||null}var e1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function rC(t){return t=String(t),t.match(e1)?t:"unsafe:"+t}var Xl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Xl||{});function t1(t){let e=oC();return e?e.sanitize(Xl.URL,t)||"":mg(t,"URL")?Ka(t):rC(zl(t))}function n1(t){let e=oC();if(e)return I0(e.sanitize(Xl.RESOURCE_URL,t)||"");if(mg(t,"ResourceURL"))return I0(Ka(t));throw new q(904,!1)}function r1(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?n1:t1}function iC(t,e,n){return r1(e,n)(t)}function oC(){let t=Ie();return t&&t[Sn].sanitizer}function sC(t){return t instanceof Function?t():t}function i1(t){return(t??k(ft)).get(Pn)==="browser"}var rr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(rr||{}),o1;function gg(t,e){return o1(t,e)}function Go(t,e,n,r,i){if(r!=null){let o,s=!1;ar(r)?o=r:Qr(r)&&(s=!0,r=r[sr]);let a=Rn(r);t===0&&n!==null?i==null?dC(e,n,a):Fl(e,n,a,i||null,!0):t===1&&n!==null?Fl(e,n,a,i||null,!0):t===2?I1(e,a,s):t===3&&e.destroyNode(a),o!=null&&E1(e,t,o,n,i)}}function s1(t,e){return t.createText(e)}function a1(t,e,n){t.setValue(e,n)}function aC(t,e,n){return t.createElement(e,n)}function c1(t,e){cC(t,e),e[sr]=null,e[mn]=null}function u1(t,e,n,r,i,o){r[sr]=i,r[mn]=e,ed(t,r,n,1,i,o)}function cC(t,e){e[Sn].changeDetectionScheduler?.notify(9),ed(t,e,e[Ze],2,null,null)}function l1(t){let e=t[$a];if(!e)return Op(t[se],t);for(;e;){let n=null;if(Qr(e))n=e[$a];else{let r=e[Ht];r&&(n=r)}if(!n){for(;e&&!e[fn]&&e!==t;)Qr(e)&&Op(e[se],e),e=e[It];e===null&&(e=t),Qr(e)&&Op(e[se],e),n=e&&e[fn]}e=n}}function d1(t,e,n,r){let i=Ht+r,o=n.length;r>0&&(n[i-1][fn]=e),r<o-Ht?(e[fn]=n[i],K0(n,Ht+r,e)):(n.push(e),e[fn]=null),e[It]=n;let s=e[Ui];s!==null&&n!==s&&uC(s,e);let a=e[tr];a!==null&&a.insertView(t),Yp(e),e[ee]|=128}function uC(t,e){let n=t[es],r=e[It];if(Qr(r))t[ee]|=Sl.HasTransplantedViews;else{let i=r[It][An];e[An]!==i&&(t[ee]|=Sl.HasTransplantedViews)}n===null?t[es]=[e]:n.push(e)}function yg(t,e){let n=t[es],r=n.indexOf(e);n.splice(r,1)}function um(t,e){if(t.length<=Ht)return;let n=Ht+e,r=t[n];if(r){let i=r[Ui];i!==null&&i!==t&&yg(i,r),e>0&&(t[n-1][fn]=r[fn]);let o=El(t,Ht+e);c1(r[se],r);let s=o[tr];s!==null&&s.detachView(o[se]),r[It]=null,r[fn]=null,r[ee]&=-129}return r}function lC(t,e){if(!(e[ee]&256)){let n=e[Ze];n.destroyNode&&ed(t,e,n,3,null,null),l1(e)}}function Op(t,e){if(e[ee]&256)return;let n=ve(null);try{e[ee]&=-129,e[ee]|=256,e[tn]&&op(e[tn]),f1(t,e),h1(t,e),e[se].type===1&&e[Ze].destroy();let r=e[Ui];if(r!==null&&ar(e[It])){r!==e[It]&&yg(r,e);let i=e[tr];i!==null&&i.detachView(t)}am(e)}finally{ve(n)}}function h1(t,e){let n=t.cleanup,r=e[bl];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[bl]=null);let i=e[Kr];if(i!==null){e[Kr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function f1(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof qi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Cn(4,a,u);try{u.call(a)}finally{Cn(5,a,u)}}else{Cn(4,i,o);try{o.call(i)}finally{Cn(5,i,o)}}}}}function p1(t,e,n){return m1(t,e.parent,n)}function m1(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[sr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Tn.None||o===Tn.Emulated)return null}return rn(r,n)}}function Fl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function dC(t,e,n){t.appendChild(e,n)}function w0(t,e,n,r,i){r!==null?Fl(t,e,n,r,i):dC(t,e,n)}function hC(t,e){return t.parentNode(e)}function g1(t,e){return t.nextSibling(e)}function y1(t,e,n){return _1(t,e,n)}function v1(t,e,n){return t.type&40?rn(t,n):null}var _1=v1,E0;function vg(t,e,n,r){let i=p1(t,r,e),o=e[Ze],s=r.parent||e[mn],a=y1(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)w0(o,i,n[u],a,!1);else w0(o,i,n,a,!1);E0!==void 0&&E0(o,r,e,n,i)}function Va(t,e){if(e!==null){let n=e.type;if(n&3)return rn(e,t);if(n&4)return lm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Va(t,r);{let i=t[e.index];return ar(i)?lm(-1,i):Rn(i)}}else{if(n&128)return Va(t,e.next);if(n&32)return gg(e,t)()||Rn(t[e.index]);{let r=fC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=$i(t[An]);return Va(i,r)}else return Va(t,e.next)}}}return null}function fC(t,e){if(e!==null){let r=t[An][mn],i=e.projection;return r.projection[i]}return null}function lm(t,e){let n=Ht+t+1;if(n<e.length){let r=e[n],i=r[se].firstChild;if(i!==null)return Va(r,i)}return e[Bi]}function I1(t,e,n){t.removeChild(null,e,n)}function _g(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Gi(Rn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)_g(t,e,n.child,r,i,o,!1),Go(e,t,i,a,o);else if(u&32){let l=gg(n,r),h;for(;h=l();)Go(e,t,i,h,o);Go(e,t,i,a,o)}else u&16?w1(t,e,r,n,i,o):Go(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ed(t,e,n,r,i,o){_g(n,r,t.firstChild,e,i,o,!1)}function w1(t,e,n,r,i,o){let s=n[An],u=s[mn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Go(e,t,i,h,o)}else{let l=u,h=s[It];YD(r)&&(l.flags|=128),_g(t,e,l,h,i,o,!0)}}function E1(t,e,n,r,i){let o=n[Bi],s=Rn(n);o!==s&&Go(e,t,r,o,i);for(let a=Ht;a<n.length;a++){let u=n[a];ed(u[se],u,t,e,r,o)}}function D1(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:rr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=rr.Important),t.setStyle(n,r,i,o))}}function C1(t,e,n){t.setAttribute(e,"style",n)}function pC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function mC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&qp(t,e,r),i!==null&&pC(t,e,i),o!==null&&C1(t,e,o)}var Yi={};function Q(t=1){gC(Et(),Ie(),cs()+t,!1)}function gC(t,e,n,r){if(!r)if((e[ee]&3)===3){let o=t.preOrderCheckHooks;o!==null&&ml(e,o,n)}else{let o=t.preOrderHooks;o!==null&&gl(e,o,0,n)}Hi(n)}function z(t,e=ue.Default){let n=Ie();if(n===null)return Z(t,e);let r=Dt();return HD(r,n,Nt(t),e)}function yC(){let t="invalid";throw new Error(t)}function vC(t,e,n,r,i,o){let s=ve(null);try{let a=null;i&Yr.SignalBased&&(a=e[r][Jn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Yr.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):pD(e,a,r,o)}finally{ve(s)}}function b1(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Hi(~i);else{let o=i,s=n[++r],a=n[++r];uP(s,o);let u=e[o];a(2,u)}}}finally{Hi(-1)}}function td(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[sr]=i,p[ee]=r|4|128|8|64,(l!==null||t&&t[ee]&2048)&&(p[ee]|=2048),wD(p),p[It]=p[as]=t,p[pn]=n,p[Sn]=s||t&&t[Sn],p[Ze]=a||t&&t[Ze],p[Xo]=u||t&&t[Xo]||null,p[mn]=o,p[Kl]=qP(),p[Cl]=h,p[dD]=l,p[An]=e.type==2?t[An]:p,p}function nd(t,e,n,r,i){let o=t.data[e];if(o===null)o=T1(t,e,n,r,i),cP()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=iP();o.injectorIndex=s===null?-1:s.injectorIndex}return Wa(o,!0),o}function T1(t,e,n,r,i){let o=TD(),s=SD(),a=s?o:o&&o.parent,u=t.data[e]=x1(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function _C(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function IC(t,e,n,r,i){let o=cs(),s=r&2;try{Hi(-1),s&&e.length>nn&&gC(t,e,nn,!1),Cn(s?2:0,i),n(r,i)}finally{Hi(o),Cn(s?3:1,i)}}function wC(t,e,n){if(fD(e)){let r=ve(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{ve(r)}}}function EC(t,e,n){bD()&&(L1(t,e,n,rn(n,e)),(n.flags&64)===64&&AC(t,e,n))}function DC(t,e,n=rn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function CC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ig(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ig(t,e,n,r,i,o,s,a,u,l,h){let p=nn+r,g=p+i,v=S1(p,g),A=typeof l=="function"?l():l;return v[se]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:h}}function S1(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Yi);return n}function A1(t,e,n,r){let o=r.get(ZP,nC)||n===Tn.ShadowDom,s=t.selectRootElement(e,o);return R1(s),s}function R1(t){M1(t)}var M1=()=>null;function N1(t,e,n,r){let i=NC(e);i.push(n),t.firstCreatePass&&xC(t).push(r,i.length-1)}function x1(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return tP()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function D0(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Yr.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?C0(r,n,l,a,u):C0(r,n,l,a)}return r}function C0(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function P1(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],g=n?n.get(p):null,v=g?g.inputs:null,A=g?g.outputs:null;u=D0(0,p.inputs,h,u,v),l=D0(1,p.outputs,h,l,A);let P=u!==null&&s!==null&&!$m(e)?Q1(u,h,s):null;a.push(P)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function O1(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function bC(t,e,n,r,i,o,s,a){let u=rn(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(wg(t,n,h,r,i),Ql(e)&&k1(n,e.index)):e.type&3?(r=O1(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function k1(t,e){let n=ni(e,t);n[ee]&16||(n[ee]|=64)}function TC(t,e,n,r){if(bD()){let i=r===null?null:{"":-1},o=U1(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&SC(t,e,n,s,i,a),i&&B1(n,r,i)}n.mergedAttrs=Ua(n.mergedAttrs,n.attrs)}function SC(t,e,n,r,i,o){for(let l=0;l<r.length;l++)em(xl(n,e),t,r[l].type);H1(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=_C(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Ua(n.mergedAttrs,h.hostAttrs),q1(t,n,e,u,h),$1(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}P1(t,n,o)}function F1(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;V1(s)!=a&&s.push(a),s.push(n,r,o)}}function V1(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function L1(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Ql(n)&&z1(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||xl(n,e),Gi(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=zi(e,t,a,n);if(Gi(l,e),s!==null&&K1(e,a-i,l,u,n,s),Jr(u)){let h=ni(n.index,e);h[pn]=zi(e,t,a,n)}}}function AC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=lP();try{Hi(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Zp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&j1(u,l)}}finally{Hi(-1),Zp(s)}}function j1(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function U1(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(Ex(e,s.selectors,!1))if(r||(r=[]),Jr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;dm(t,e,u)}else r.unshift(s),dm(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function dm(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function B1(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new q(-301,!1);r.push(e[i],o)}}}function $1(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Jr(e)&&(n[""]=t)}}function H1(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function q1(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ji(i.type,!0)),s=new qi(o,Jr(i),z);t.blueprint[r]=s,n[r]=s,F1(t,e,r,_C(t,n,i.hostVars,Yi),i)}function z1(t,e,n){let r=rn(e,t),i=CC(n),o=t[Sn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=rd(t,td(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function G1(t,e,n,r,i,o){let s=rn(t,e);W1(e[Ze],s,o,t.value,n,r,i)}function W1(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?zl(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function K1(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];vC(r,n,u,l,h,p)}}function Q1(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function RC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function MC(t,e){let n=t.contentQueries;if(n!==null){let r=ve(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Zm(o),a.contentQueries(2,e[s],s)}}}finally{ve(r)}}}function rd(t,e){return t[$a]?t[u0][fn]=e:t[$a]=e,t[u0]=e,e}function hm(t,e,n){Zm(0);let r=ve(null);try{e(t,n)}finally{ve(r)}}function NC(t){return t[bl]??=[]}function xC(t){return t.cleanup??=[]}function PC(t,e){let n=t[Xo],r=n?n.get(nr,null):null;r&&r.handleError(e)}function wg(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];vC(h,l,r,a,u,i)}}function Y1(t,e,n){let r=_D(e,t);a1(t[Ze],r,n)}function Z1(t,e){let n=ni(e,t),r=n[se];J1(r,n);let i=n[sr];i!==null&&n[Cl]===null&&(n[Cl]=pg(i,n[Xo])),Eg(r,n,n[pn])}function J1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Eg(t,e,n){Jm(e);try{let r=t.viewQuery;r!==null&&hm(1,r,n);let i=t.template;i!==null&&IC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[tr]?.finishViewCreation(t),t.staticContentQueries&&MC(t,e),t.staticViewQueries&&hm(2,t.viewQuery,n);let o=t.components;o!==null&&X1(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ee]&=-5,Xm()}}function X1(t,e){for(let n=0;n<e.length;n++)Z1(t,e[n])}function eO(t,e,n,r){let i=ve(null);try{let o=e.tView,a=t[ee]&4096?4096:16,u=td(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Ui]=l;let h=t[tr];return h!==null&&(u[tr]=h.createEmbeddedView(o)),Eg(o,u,n),u}finally{ve(i)}}function b0(t,e){return!e||e.firstChild===null||YD(t)}function tO(t,e,n,r=!0){let i=e[se];if(d1(i,e,t,n),r){let s=lm(n,t),a=e[Ze],u=hC(a,t[Bi]);u!==null&&u1(i,t[mn],a,e,u,s)}let o=e[Cl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Vl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Rn(o)),ar(o)&&nO(o,r);let s=n.type;if(s&8)Vl(t,e,n.child,r);else if(s&32){let a=gg(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=fC(e,n);if(Array.isArray(a))r.push(...a);else{let u=$i(e[An]);Vl(u[se],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function nO(t,e){for(let n=Ht;n<t.length;n++){let r=t[n],i=r[se].firstChild;i!==null&&Vl(r[se],r,i,e)}t[Bi]!==t[sr]&&e.push(t[Bi])}var OC=[];function rO(t){return t[tn]??iO(t)}function iO(t){let e=OC.pop()??Object.create(sO);return e.lView=t,e}function oO(t){t.lView[tn]!==t&&(t.lView=null,OC.push(t))}var sO=de(L({},xa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Zl(t.lView)},consumerOnSignalRead(){this.lView[tn]=this}});function aO(t){let e=t[tn]??Object.create(cO);return e.lView=t,e}var cO=de(L({},xa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=$i(t.lView);for(;e&&!kC(e[se]);)e=$i(e);e&&ED(e)},consumerOnSignalRead(){this.lView[tn]=this}});function kC(t){return t.type!==2}var uO=100;function FC(t,e=!0,n=0){let r=t[Sn],i=r.rendererFactory,o=!1;o||i.begin?.();try{lO(t,n)}catch(s){throw e&&PC(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function lO(t,e){let n=AD();try{d0(!0),fm(t,e);let r=0;for(;Yl(t);){if(r===uO)throw new q(103,!1);r++,fm(t,1)}}finally{d0(n)}}function dO(t,e,n,r){let i=e[ee];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Sn].inlineEffectRunner?.flush(),Jm(e);let a=!0,u=null,l=null;o||(kC(t)?(l=rO(e),u=Fu(l)):mE()===null?(a=!1,l=aO(e),u=Fu(l)):e[tn]&&(op(e[tn]),e[tn]=null));try{wD(e),sP(t.bindingStartIndex),n!==null&&IC(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let v=t.preOrderCheckHooks;v!==null&&ml(e,v,null)}else{let v=t.preOrderHooks;v!==null&&gl(e,v,0,null),Mp(e,0)}if(s||hO(e),VC(e,0),t.contentQueries!==null&&MC(t,e),!o)if(h){let v=t.contentCheckHooks;v!==null&&ml(e,v)}else{let v=t.contentHooks;v!==null&&gl(e,v,1),Mp(e,1)}b1(t,e);let p=t.components;p!==null&&jC(e,p,0);let g=t.viewQuery;if(g!==null&&hm(2,g,r),!o)if(h){let v=t.viewCheckHooks;v!==null&&ml(e,v)}else{let v=t.viewHooks;v!==null&&gl(e,v,2),Mp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Rp]){for(let v of e[Rp])v();e[Rp]=null}o||(e[ee]&=-73)}catch(h){throw o||Zl(e),h}finally{l!==null&&(rp(l,u),a&&oO(l)),Xm()}}function VC(t,e){for(let n=JD(t);n!==null;n=XD(n))for(let r=Ht;r<n.length;r++){let i=n[r];LC(i,e)}}function hO(t){for(let e=JD(t);e!==null;e=XD(e)){if(!(e[ee]&Sl.HasTransplantedViews))continue;let n=e[es];for(let r=0;r<n.length;r++){let i=n[r];ED(i)}}}function fO(t,e,n){let r=ni(e,t);LC(r,n)}function LC(t,e){Wm(t)&&fm(t,e)}function fm(t,e){let r=t[se],i=t[ee],o=t[tn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ip(o)),s||=!1,o&&(o.dirty=!1),t[ee]&=-9217,s)dO(r,t,r.template,t[pn]);else if(i&8192){VC(t,1);let a=r.components;a!==null&&jC(t,a,1)}}function jC(t,e,n){for(let r=0;r<e.length;r++)fO(t,e[r],n)}function Dg(t,e){let n=AD()?64:1088;for(t[Sn].changeDetectionScheduler?.notify(e);t;){t[ee]|=n;let r=$i(t);if(Kp(t)&&!r)return t;t=r}return null}var Wi=class{get rootNodes(){let e=this._lView,n=e[se];return Vl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pn]}set context(e){this._lView[pn]=e}get destroyed(){return(this._lView[ee]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[It];if(ar(e)){let n=e[Tl],r=n?n.indexOf(this):-1;r>-1&&(um(e,r),El(n,r))}this._attachedToViewContainer=!1}lC(this._lView[se],this._lView)}onDestroy(e){DD(this._lView,e)}markForCheck(){Dg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ee]&=-129}reattach(){Yp(this._lView),this._lView[ee]|=128}detectChanges(){this._lView[ee]|=1024,FC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Kp(this._lView),n=this._lView[Ui];n!==null&&!e&&yg(n,this._lView),cC(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=e;let n=Kp(this._lView),r=this._lView[Ui];r!==null&&!n&&uC(r,this._lView),Yp(this._lView)}},Ki=(()=>{class t{static{this.__NG_ELEMENT_ID__=gO}}return t})(),pO=Ki,mO=class extends pO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=eO(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Wi(i)}};function gO(){return Cg(Dt(),Ie())}function Cg(t,e){return t.type&4?new mO(e,t,ls(t,e)):null}var $5=new RegExp(`^(\\d+)*(${QP}|${KP})*(.*)`);var yO=()=>null;function T0(t,e){return yO(t,e)}var ts=class{},id=new B("",{providedIn:"root",factory:()=>!1});var UC=new B(""),BC=new B(""),pm=class{},Ll=class{};function vO(t){let e=Error(`No component factory found for ${xt(t)}.`);return e[_O]=t,e}var _O="ngComponent";var mm=class{resolveComponentFactory(e){throw vO(e)}},ns=class{static{this.NULL=new mm}},rs=class{},On=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>IO()}}return t})();function IO(){let t=Ie(),e=Dt(),n=ni(e.index,t);return(Qr(n)?n:t)[Ze]}var wO=(()=>{class t{static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>null})}}return t})();function gm(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=XE(i,a);else if(o==2){let u=a,l=e[++s];r=XE(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var jl=class extends ns{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Zr(e);return new is(n,this.ngModule)}};function S0(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Yr.None;e?n.push({propName:s,templateName:r,isSignal:(a&Yr.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function EO(t){let e=t.toLowerCase();return e==="svg"?vD:e==="math"?Wx:null}var is=class extends Ll{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=S0(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return S0(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Tx(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=ve(null);try{i=i||this.ngModule;let s=i instanceof qt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Jp(e,s):e,u=a.get(rs,null);if(u===null)throw new q(407,!1);let l=a.get(wO,null),h=a.get(ts,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},g=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",A=r?A1(g,r,this.componentDef.encapsulation,a):aC(g,v,EO(v)),P=512;this.componentDef.signals?P|=4096:this.componentDef.onPush||(P|=16);let x=null;A!==null&&(x=pg(A,a,!0));let j=Ig(0,null,null,1,0,null,null,null,null,null,null),H=td(null,j,null,P,null,null,p,g,a,null,x);Jm(H);let W,oe,xe=null;try{let ne=this.componentDef,D,y=null;ne.findHostDirectiveDefs?(D=[],y=new Map,ne.findHostDirectiveDefs(ne,D,y),D.push(ne)):D=[ne];let I=DO(H,A);xe=CO(I,A,ne,D,H,p,g),oe=ID(j,nn),A&&SO(g,ne,A,r),n!==void 0&&AO(oe,this.ngContentSelectors,n),W=TO(xe,ne,D,y,H,[RO]),Eg(j,H,null)}catch(ne){throw xe!==null&&am(xe),am(H),ne}finally{Xm()}return new ym(this.componentType,W,ls(oe,H),H,oe)}finally{ve(o)}}},ym=class extends pm{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Wi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;wg(o[se],o,i,e,n),this.previousInputValues.set(e,n);let s=ni(this._tNode.index,o);Dg(s,1)}}get injector(){return new Li(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function DO(t,e){let n=t[se],r=nn;return t[r]=e,nd(n,r,2,"#host",null)}function CO(t,e,n,r,i,o,s){let a=i[se];bO(r,t,e,s);let u=null;e!==null&&(u=pg(e,i[Xo]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=td(i,CC(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&dm(a,t,r.length-1),rd(i,p),i[t.index]=p}function bO(t,e,n,r){for(let i of t)e.mergedAttrs=Ua(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(gm(e,e.mergedAttrs,!0),n!==null&&mC(r,n,e))}function TO(t,e,n,r,i,o){let s=Dt(),a=i[se],u=rn(s,i);SC(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,g=zi(i,a,p,s);Gi(g,i)}AC(a,i,s),u&&Gi(u,i);let l=zi(i,a,s.directiveStart+s.componentOffset,s);if(t[pn]=i[pn]=l,o!==null)for(let h of o)h(l,e);return wC(a,s,i),l}function SO(t,e,n,r){if(r)qp(t,n,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=Sx(e.selectors[0]);i&&qp(t,n,i),o&&o.length>0&&pC(t,n,o.join(" "))}}function AO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function RO(){let t=Dt();og(Ie()[se],t)}var ri=(()=>{class t{static{this.__NG_ELEMENT_ID__=MO}}return t})();function MO(){let t=Dt();return HC(t,Ie())}var NO=ri,$C=class extends NO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ls(this._hostTNode,this._hostLView)}get injector(){return new Li(this._hostTNode,this._hostLView)}get parentInjector(){let e=sg(this._hostTNode,this._hostLView);if(VD(e)){let n=Ml(e,this._hostLView),r=Rl(e),i=n[se].data[r+8];return new Li(i,n)}else return new Li(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=A0(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ht}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=T0(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,b0(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!Hx(e),a;if(s)a=n;else{let A=n||{};a=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let u=s?e:new is(Zr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let P=(s?l:this.parentInjector).get(qt,null);P&&(o=P)}let h=Zr(u.componentType??{}),p=T0(this._lContainer,h?.id??null),g=p?.firstChild??null,v=u.create(l,i,g,o);return this.insertImpl(v.hostView,a,b0(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Qx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[It],l=new $C(u,u[mn],u[It]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return tO(s,i,o,r),e.attachToViewContainerRef(),K0(kp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=A0(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=um(this._lContainer,n);r&&(El(kp(this._lContainer),n),lC(r[se],r))}detach(e){let n=this._adjustIndex(e,-1),r=um(this._lContainer,n);return r&&El(kp(this._lContainer),n)!=null?new Wi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function A0(t){return t[Tl]}function kp(t){return t[Tl]||(t[Tl]=[])}function HC(t,e){let n,r=e[t.index];return ar(r)?n=r:(n=RC(r,e,null,t),e[t.index]=n,rd(e,n)),PO(n,e,t,r),new $C(n,t,e)}function xO(t,e){let n=t[Ze],r=n.createComment(""),i=rn(e,t),o=hC(n,i);return Fl(n,o,r,g1(n,i),!1),r}var PO=FO,OO=()=>!1;function kO(t,e,n){return OO(t,e,n)}function FO(t,e,n,r){if(t[Bi])return;let i;n.type&8?i=Rn(r):i=xO(e,n),t[Bi]=i}var vm=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},_m=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)bg(e,n).matches!==null&&this.queries[n].setDirty()}},Im=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=qO(e):this.predicate=e}},wm=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Em=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,VO(n,o)),this.matchTNodeWithReadOption(e,n,yl(n,e,o,!1,!1))}else r===Ki?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,yl(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Vt||i===ri||i===Ki&&n.type&4)this.addMatch(n.index,-2);else{let o=yl(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function VO(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function LO(t,e){return t.type&11?ls(t,e):t.type&4?Cg(t,e):null}function jO(t,e,n,r){return n===-1?LO(e,t):n===-2?UO(t,e,r):zi(t,t[se],n,e)}function UO(t,e,n){if(n===Vt)return ls(e,t);if(n===Ki)return Cg(e,t);if(n===ri)return HC(e,t)}function qC(t,e,n,r){let i=e[tr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(jO(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Dm(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=qC(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=Ht;p<h.length;p++){let g=h[p];g[Ui]===g[It]&&Dm(g[se],g,l,r)}if(h[es]!==null){let p=h[es];for(let g=0;g<p.length;g++){let v=p[g];Dm(v[se],v,l,r)}}}}}return r}function BO(t,e){return t[tr].queries[e].queryList}function $O(t,e,n){let r=new sm((n&4)===4);return N1(t,e,r,r.destroy),(e[tr]??=new _m).queries.push(new vm(r))-1}function HO(t,e,n,r){let i=Et();if(i.firstCreatePass){let o=Dt();zO(i,new Im(e,n,r),o.index),GO(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return $O(i,Ie(),n)}function qO(t){return t.split(",").map(e=>e.trim())}function zO(t,e,n){t.queries===null&&(t.queries=new wm),t.queries.track(new Em(e,n))}function GO(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function bg(t,e){return t.queries.getByIndex(e)}function WO(t,e){let n=t[se],r=bg(n,e);return r.crossesNgTemplate?Dm(n,t,e,[]):qC(n,t,r,e)}var R0=new Set;function ds(t){R0.has(t)||(R0.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function KO(t){return typeof t=="function"&&t[Jn]!==void 0}function Qa(t,e){ds("NgSignals");let n=TE(t),r=n[Jn];return e?.equal&&(r.equal=e.equal),n.set=i=>sp(r,i),n.update=i=>SE(r,i),n.asReadonly=QO.bind(n),n}function QO(){let t=this[Jn];if(t.readonlyFn===void 0){let e=()=>this();e[Jn]=t,t.readonlyFn=e}return t.readonlyFn}function zC(t){return KO(t)&&typeof t.set=="function"}function YO(t){return Object.getPrototypeOf(t.prototype).constructor}function on(t){let e=YO(t.type),n=!0,r=[t];for(;e;){let i;if(Jr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=dl(t.inputs),s.inputTransforms=dl(t.inputTransforms),s.declaredInputs=dl(t.declaredInputs),s.outputs=dl(t.outputs);let a=i.hostBindings;a&&tk(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&XO(t,u),l&&ek(t,l),ZO(t,i),GN(t.outputs,i.outputs),Jr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===on&&(n=!1)}}e=Object.getPrototypeOf(e)}JO(r)}function ZO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function JO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ua(i.hostAttrs,n=Ua(n,i.hostAttrs))}}function dl(t){return t===Yo?{}:t===en?[]:t}function XO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function ek(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function tk(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Tg(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Xr=class{},Ha=class{};var Cm=class extends Xr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jl(this);let o=rD(e);this._bootstrapComponents=sC(o.bootstrap),this._r3Injector=GD(e,n,[{provide:Xr,useValue:this},{provide:ns,useValue:this.componentFactoryResolver},...r],xt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},bm=class extends Ha{constructor(e){super(),this.moduleType=e}create(e){return new Cm(this.moduleType,e,[])}};var Ul=class extends Xr{constructor(e){super(),this.componentFactoryResolver=new jl(this),this.instance=null;let n=new Ba([...e.providers,{provide:Xr,useValue:this},{provide:ns,useValue:this.componentFactoryResolver}],e.parent||qm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function od(t,e,n=null){return new Ul({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function GC(t){return rk(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function nk(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function rk(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Sg(t,e,n){return t[e]=n}function ir(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function WC(t,e,n,r){let i=ir(t,e,n);return ir(t,e+1,r)||i}function ik(t,e,n,r,i){let o=WC(t,e,n,r);return ir(t,e+2,i)||o}function ok(t){return(t.flags&32)===32}function sk(t,e,n,r,i,o,s,a,u){let l=e.consts,h=nd(e,t,4,s||null,a||null);TC(e,n,h,Al(l,u)),og(e,h);let p=h.tView=Ig(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function ak(t,e,n,r,i,o,s,a,u,l){let h=n+nn,p=e.firstCreatePass?sk(h,e,t,r,i,o,s,a,u):e.data[h];Wa(p,!1);let g=ck(e,t,p,n);rg()&&vg(e,t,g,p),Gi(g,t);let v=RC(g,t,g,p);return t[h]=v,rd(t,v),kO(v,p,t),zm(p)&&EC(e,t,p),u!=null&&DC(t,p,l),p}function Ct(t,e,n,r,i,o,s,a){let u=Ie(),l=Et(),h=Al(l.consts,o);return ak(u,l,t,e,n,r,i,h,s,a),Ct}var ck=uk;function uk(t,e,n,r){return ig(!0),e[Ze].createComment("")}var Wo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Wo||{}),KC=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}}return t})(),Tm=class t{constructor(){this.ngZone=k(Ce),this.scheduler=k(ts),this.errorHandler=k(nr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Wo.EarlyRead,Wo.Write,Wo.MixedReadWrite,Wo.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}},Sm=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Ag(t,e){!e?.injector&&$x(Ag);let n=e?.injector??k(ft);return i1(n)?(ds("NgAfterNextRender"),dk(t,n,e,!0)):hk}function lk(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function dk(t,e,n,r){let i=e.get(KC);i.impl??=e.get(Tm);let o=n?.phase??Wo.MixedReadWrite,s=n?.manualCleanup!==!0?e.get(cg):null,a=new Sm(i.impl,lk(t,o),r,s);return i.impl.register(a),a}var hk={destroy(){}};function Ya(t,e,n,r){let i=Ie(),o=Jl();if(ir(i,o,e)){let s=Et(),a=eg();G1(a,i,t,e,n,r)}return Ya}function fk(t,e,n,r){return ir(t,Jl(),n)?e+zl(n)+r:Yi}function hl(t,e){return t<<17|e<<2}function Qi(t){return t>>17&32767}function pk(t){return(t&2)==2}function mk(t,e){return t&131071|e<<17}function Am(t){return t|2}function os(t){return(t&131068)>>2}function Fp(t,e){return t&-131069|e<<2}function gk(t){return(t&1)===1}function Rm(t){return t|1}function yk(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Qi(s),u=os(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Ga(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=Qi(t[a+1]);t[r+1]=hl(g,a),g!==0&&(t[g+1]=Fp(t[g+1],r)),t[a+1]=mk(t[a+1],r)}else t[r+1]=hl(a,0),a!==0&&(t[a+1]=Fp(t[a+1],r)),a=r;else t[r+1]=hl(u,0),a===0?a=r:t[u+1]=Fp(t[u+1],r),u=r;l&&(t[r+1]=Am(t[r+1])),M0(t,h,r,!0),M0(t,h,r,!1),vk(e,h,t,r,o),s=hl(a,u),o?e.classBindings=s:e.styleBindings=s}function vk(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ga(o,e)>=0&&(n[r+1]=Rm(n[r+1]))}function M0(t,e,n,r){let i=t[n+1],o=e===null,s=r?Qi(i):os(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];_k(u,e)&&(a=!0,t[s+1]=r?Rm(l):Am(l)),s=r?Qi(l):os(l)}a&&(t[n+1]=r?Am(i):Rm(i))}function _k(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ga(t,e)>=0:!1}function Je(t,e,n){let r=Ie(),i=Jl();if(ir(r,i,e)){let o=Et(),s=eg();bC(o,s,r,t,e,r[Ze],n,!1)}return Je}function N0(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";wg(t,n,o[s],s,r)}function sd(t,e){return Ik(t,e,null,!0),sd}function Ik(t,e,n,r){let i=Ie(),o=Et(),s=aP(2);if(o.firstUpdatePass&&Ek(o,t,s,r),e!==Yi&&ir(i,s,e)){let a=o.data[cs()];Sk(o,a,i,i[Ze],t,i[s+1]=Ak(e,n),r,s)}}function wk(t,e){return e>=t.expandoStartIndex}function Ek(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[cs()],s=wk(t,n);Rk(o,r)&&e===null&&!s&&(e=!1),e=Dk(i,o,e,r),yk(i,o,e,n,s,r)}}function Dk(t,e,n,r){let i=dP(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Vp(null,t,e,n,r),n=qa(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Vp(i,t,e,n,r),o===null){let u=Ck(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Vp(null,t,e,u[1],r),u=qa(u,e.attrs,r),bk(t,e,r,u))}else o=Tk(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function Ck(t,e,n){let r=n?e.classBindings:e.styleBindings;if(os(r)!==0)return t[Qi(r)]}function bk(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Qi(i)]=r}function Tk(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=qa(r,s,n)}return qa(r,e.attrs,n)}function Vp(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=qa(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function qa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),px(t,s,n?!0:e[++o]))}return t===void 0?null:t}function Sk(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=gk(l)?x0(u,e,n,i,os(l),s):void 0;if(!Bl(h)){Bl(o)||pk(l)&&(o=x0(u,null,n,i,a,s));let p=_D(cs(),n);D1(r,s,p,i,o)}}function x0(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===Yi&&(g=p?en:void 0);let v=p?Sp(g,r):h===r?g:void 0;if(l&&!Bl(v)&&(v=Sp(u,r)),Bl(v)&&(a=v,s))return a;let A=t[i+1];i=s?Qi(A):os(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Sp(u,r))}return a}function Bl(t){return t!==void 0}function Ak(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=xt(Ka(t)))),t}function Rk(t,e){return(t.flags&(e?8:16))!==0}function Mk(t,e,n,r,i,o){let s=e.consts,a=Al(s,i),u=nd(e,t,2,r,a);return TC(e,n,u,Al(s,o)),u.attrs!==null&&gm(u,u.attrs,!1),u.mergedAttrs!==null&&gm(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function T(t,e,n,r){let i=Ie(),o=Et(),s=nn+t,a=i[Ze],u=o.firstCreatePass?Mk(s,o,i,e,n,r):o.data[s],l=Nk(o,i,u,a,e,t);i[s]=l;let h=zm(u);return Wa(u,!0),mC(a,l,u),!ok(u)&&rg()&&vg(o,i,l,u),Jx()===0&&Gi(l,i),Xx(),h&&(EC(o,i,u),wC(o,u,i)),r!==null&&DC(i,u),T}function S(){let t=Dt();SD()?oP():(t=t.parent,Wa(t,!1));let e=t;nP(e)&&rP(),eP();let n=Et();return n.firstCreatePass&&(og(n,t),fD(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&_P(e)&&N0(n,e,Ie(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&IP(e)&&N0(n,e,Ie(),e.stylesWithoutHost,!1),S}function Oe(t,e,n,r){return T(t,e,n,r),S(),Oe}var Nk=(t,e,n,r,i,o)=>(ig(!0),aC(r,i,mP()));function Rg(){return Ie()}var Fi=void 0;function xk(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var Pk=["en",[["a","p"],["AM","PM"],Fi],[["AM","PM"],Fi,Fi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fi,"{1} 'at' {0}",Fi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",xk],Lp={};function Lt(t){let e=Ok(t),n=P0(e);if(n)return n;let r=e.split("-")[0];if(n=P0(r),n)return n;if(r==="en")return Pk;throw new q(701,!1)}function P0(t){return t in Lp||(Lp[t]=Vi.ng&&Vi.ng.common&&Vi.ng.common.locales&&Vi.ng.common.locales[t]),Lp[t]}var Ve=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ve||{});function Ok(t){return t.toLowerCase().replace(/_/g,"-")}var $l="en-US",kk="USD";var Fk=$l;function Vk(t){typeof t=="string"&&(Fk=t.toLowerCase().replace(/_/g,"-"))}var Lk=(t,e,n)=>{};function Le(t,e,n,r){let i=Ie(),o=Et(),s=Dt();return QC(o,i,i[Ze],s,t,e,r),Le}function jk(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[bl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function QC(t,e,n,r,i,o,s){let a=zm(r),l=t.firstCreatePass&&xC(t),h=e[pn],p=NC(e),g=!0;if(r.type&3||s){let P=rn(r,e),x=s?s(P):P,j=p.length,H=s?oe=>s(Rn(oe[r.index])):r.index,W=null;if(!s&&a&&(W=jk(t,e,i,r.index)),W!==null){let oe=W.__ngLastListenerFn__||W;oe.__ngNextListenerFn__=o,W.__ngLastListenerFn__=o,g=!1}else{o=k0(r,e,h,o),Lk(P,i,o);let oe=n.listen(x,i,o);p.push(o,oe),l&&l.push(i,H,j,j+1)}}else o=k0(r,e,h,o);let v=r.outputs,A;if(g&&v!==null&&(A=v[i])){let P=A.length;if(P)for(let x=0;x<P;x+=2){let j=A[x],H=A[x+1],xe=e[j][H].subscribe(o),ne=p.length;p.push(o,xe),l&&l.push(i,r.index,ne,-(ne+1))}}}function O0(t,e,n,r){let i=ve(null);try{return Cn(6,e,n),n(r)!==!1}catch(o){return PC(t,o),!1}finally{Cn(7,e,n),ve(i)}}function k0(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?ni(t.index,e):e;Dg(s,5);let a=O0(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=O0(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function lr(t=1){return fP(t)}function YC(t,e,n,r){HO(t,e,n,r)}function ZC(t){let e=Ie(),n=Et(),r=RD();Zm(r+1);let i=bg(n,r);if(t.dirty&&Kx(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=WO(e,r);t.reset(o,BP),t.notifyOnChanges()}return!0}return!1}function JC(){return BO(Ie(),RD())}function Uk(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function N(t,e=""){let n=Ie(),r=Et(),i=t+nn,o=r.firstCreatePass?nd(r,i,1,e,null):r.data[i],s=Bk(r,n,o,e,t);n[i]=s,rg()&&vg(r,n,s,o),Wa(o,!1)}var Bk=(t,e,n,r,i)=>(ig(!0),s1(e[Ze],r));function ot(t){return dr("",t,""),ot}function dr(t,e,n){let r=Ie(),i=fk(r,t,e,n);return i!==Yi&&Y1(r,cs(),i),dr}function Xe(t,e,n){zC(e)&&(e=e());let r=Ie(),i=Jl();if(ir(r,i,e)){let o=Et(),s=eg();bC(o,s,r,t,e,r[Ze],n,!1)}return Xe}function st(t,e){let n=zC(t);return n&&t.set(e),n}function et(t,e){let n=Ie(),r=Et(),i=Dt();return QC(r,n,n[Ze],i,t,e),et}function $k(t,e,n){let r=Et();if(r.firstCreatePass){let i=Jr(t);Mm(n,r.data,r.blueprint,i,!0),Mm(e,r.data,r.blueprint,i,!1)}}function Mm(t,e,n,r,i){if(t=Nt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Mm(t[o],e,n,r,i);else{let o=Et(),s=Ie(),a=Dt(),u=Jo(t)?t:Nt(t.provide),l=uD(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Jo(t)||!t.multi){let v=new qi(l,i,z),A=Up(u,e,i?h:h+g,p);A===-1?(em(xl(a,s),o,u),jp(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)):(n[A]=v,s[A]=v)}else{let v=Up(u,e,h+g,p),A=Up(u,e,h,h+g),P=v>=0&&n[v],x=A>=0&&n[A];if(i&&!x||!i&&!P){em(xl(a,s),o,u);let j=zk(i?qk:Hk,n.length,i,r,l);!i&&x&&(n[A].providerFactory=j),jp(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(j),s.push(j)}else{let j=XC(n[i?A:v],l,!i&&r);jp(o,t,v>-1?v:A,j)}!i&&r&&x&&n[A].componentProviders++}}}function jp(t,e,n,r){let i=Jo(e),o=kx(e);if(i||o){let u=(o?Nt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function XC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Up(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Hk(t,e,n,r){return Nm(this.multi,[])}function qk(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=zi(n,n[se],this.providerFactory.index,r);o=a.slice(0,s),Nm(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Nm(i,o);return o}function Nm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function zk(t,e,n,r,i){let o=new qi(t,n,z);return o.multi=[],o.index=e,o.componentProviders=0,XC(o,i,r&&!n),o}function ii(t,e=[]){return n=>{n.providersResolver=(r,i)=>$k(r,i?i(t):t,e)}}var Gk=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=sD(!1,n.type),i=r.length>0?od([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=$({token:t,providedIn:"environment",factory:()=>new t(Z(qt))})}}return t})();function at(t){ds("NgStandalone"),t.getStandaloneInjector=e=>e.get(Gk).getOrCreateStandaloneInjector(t)}function Mg(t,e){let n=t[e];return n===Yi?void 0:n}function Wk(t,e,n,r,i,o){let s=e+n;return ir(t,s,i)?Sg(t,s+1,o?r.call(o,i):r(i)):Mg(t,s+1)}function Kk(t,e,n,r,i,o,s){let a=e+n;return WC(t,a,i,o)?Sg(t,a+2,s?r.call(s,i,o):r(i,o)):Mg(t,a+2)}function Qk(t,e,n,r,i,o,s,a){let u=e+n;return ik(t,u,i,o,s)?Sg(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):Mg(t,u+3)}function hr(t,e){let n=Et(),r,i=t+nn;n.firstCreatePass?(r=Yk(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=ji(r.type,!0)),s,a=Ft(z);try{let u=Nl(!1),l=o();return Nl(u),Uk(n,Ie(),i,l),l}finally{Ft(a)}}function Yk(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function eb(t,e,n){let r=t+nn,i=Ie(),o=Gm(i,r);return Ng(i,r)?Wk(i,Ym(),e,o.transform,n,o):o.transform(n)}function hs(t,e,n,r){let i=t+nn,o=Ie(),s=Gm(o,i);return Ng(o,i)?Kk(o,Ym(),e,s.transform,n,r,s):s.transform(n,r)}function tb(t,e,n,r,i){let o=t+nn,s=Ie(),a=Gm(s,o);return Ng(s,o)?Qk(s,Ym(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function Ng(t,e){return t[se].data[e].pure}var or=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},nb=new or("18.2.13");var ad=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var rb=new B("");function Zi(t){return!!t&&typeof t.then=="function"}function ib(t){return!!t&&typeof t.subscribe=="function"}var cd=new B(""),ob=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=k(cd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(Zi(o))n.push(o);else if(ib(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ud=new B("");function Zk(){bE(()=>{throw new q(600,!1)})}function Jk(t){return t.isBoundToModule}var Xk=10;function eF(t,e,n){try{let r=n();return Zi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Ji=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(jP),this.afterRenderManager=k(KC),this.zonelessEnabled=k(id),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new rt,this.afterTick=new rt,this.componentTypes=[],this.components=[],this.isStable=k(us).hasPendingTasks.pipe(le(n=>!n)),this._injector=k(qt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Ll;if(!this._injector.get(ob).done){let g=!i&&nD(n),v=!1;throw new q(405,v)}let s;i?s=n:s=this._injector.get(ns).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=Jk(s)?void 0:this._injector.get(Xr),u=r||s.selector,l=s.create(ft.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(rb,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),vl(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new q(101,!1);let n=ve(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ve(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(rs,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<Xk;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)tF(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Yl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;vl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(ud,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>vl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new q(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function vl(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function tF(t,e,n,r){if(!n&&!Yl(t))return;FC(t,e,n&&!r?0:1)}var xm=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ld=(()=>{class t{compileModuleSync(n){return new bm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=rD(n),o=sC(i.declarations).reduce((s,a)=>{let u=Zr(a);return u&&s.push(new is(u)),s},[]);return new xm(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var nF=(()=>{class t{constructor(){this.zone=k(Ce),this.changeDetectionScheduler=k(ts),this.applicationRef=k(Ji)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),rF=new B("",{factory:()=>!1});function sb({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ce(de(L({},cb()),{scheduleInRootZone:n})),[{provide:Ce,useFactory:t},{provide:Zo,multi:!0,useFactory:()=>{let r=k(nF,{optional:!0});return()=>r.initialize()}},{provide:Zo,multi:!0,useFactory:()=>{let r=k(iF);return()=>{r.initialize()}}},e===!0?{provide:UC,useValue:!0}:[],{provide:BC,useValue:n??WD}]}function ab(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=sb({ngZoneFactory:()=>{let i=cb(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&ds("NgZone_CoalesceEvent"),new Ce(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Nn([{provide:rF,useValue:!0},{provide:id,useValue:!1},r])}function cb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var iF=(()=>{class t{constructor(){this.subscription=new Ue,this.initialized=!1,this.zone=k(Ce),this.pendingTasks=k(us)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var oF=(()=>{class t{constructor(){this.appRef=k(Ji),this.taskService=k(us),this.ngZone=k(Ce),this.zonelessEnabled=k(id),this.disableScheduling=k(UC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ue,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ol):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(BC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof om||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?g0:KD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ol+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,g0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function sF(){return typeof $localize<"u"&&$localize.locale||$l}var Za=new B("",{providedIn:"root",factory:()=>k(Za,ue.Optional|ue.SkipSelf)||sF()}),ub=new B("",{providedIn:"root",factory:()=>kk});var Pm=new B("");function fl(t){return!t.moduleRef}function aF(t){let e=fl(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ce);return n.run(()=>{fl(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(nr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),fl(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Pm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Pm);s.add(o),t.moduleRef.onDestroy(()=>{vl(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return eF(r,n,()=>{let o=e.get(ob);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Za,$l);if(Vk(s||$l),fl(t)){let a=e.get(Ji);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return cF(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function cF(t,e){let n=t.injector.get(Ji);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new q(-403,!1);e.push(t)}var _l=null;function uF(t=[],e){return ft.create({name:e,providers:[{provide:Wl,useValue:"platform"},{provide:Pm,useValue:new Set([()=>_l=null])},...t]})}function lF(t=[]){if(_l)return _l;let e=uF(t);return _l=e,Zk(),dF(e),e}function dF(t){t.get(hg,null)?.forEach(n=>n())}var oi=(()=>{class t{static{this.__NG_ELEMENT_ID__=hF}}return t})();function hF(t){return fF(Dt(),Ie(),(t&16)===16)}function fF(t,e,n){if(Ql(t)&&!n){let r=ni(t.index,e);return new Wi(r,r)}else if(t.type&175){let r=e[An];return new Wi(r,e)}return null}var Om=class{constructor(){}supports(e){return GC(e)}create(e){return new km(e)}},pF=(t,e)=>e,km=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||pF}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<F0(r,i,o)?n:r,a=F0(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let v=g<o.length?o[g]:o[g]=0,A=v+g;h<=A&&A<l&&(o[g]=v+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!GC(e))throw new q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,nk(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Fm(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Hl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Hl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Fm=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Vm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Hl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Vm,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function F0(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function V0(){return new xg([new Om])}var xg=(()=>{class t{static{this.\u0275prov=$({token:t,providedIn:"root",factory:V0})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||V0()),deps:[[t,new Um,new wt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new q(901,!1)}}return t})();function lb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=lF(r),o=[sb({}),{provide:ts,useExisting:oF},...n||[]],s=new Ul({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return aF({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function si(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ja(t,e){ds("NgSignals");let n=EE(t);return e?.equal&&(n[Jn].equal=e.equal),n}function fr(t){let e=ve(null);try{return t()}finally{ve(e)}}function db(t){let e=Zr(t);if(!e)return null;let n=new is(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var _b=null;function vr(){return _b}function Ib(t){_b??=t}var _d=class{};var jt=new B(""),$g=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>k(mF),providedIn:"platform"})}}return t})(),wb=new B(""),mF=(()=>{class t extends $g{constructor(){super(),this._doc=k(jt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vr().getBaseHref(this._doc)}onPopState(n){let r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Hg(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function hb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function mr(t){return t&&t[0]!=="?"?"?"+t:t}var _r=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>k(qg),providedIn:"root"})}}return t})(),Eb=new B(""),qg=(()=>{class t extends _r{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(jt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Hg(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+mr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+mr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+mr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(Z($g),Z(Eb,8))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Db=(()=>{class t extends _r{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Hg(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+mr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+mr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(Z($g),Z(Eb,8))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),fs=(()=>{class t{constructor(n){this._subject=new Be,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=vF(hb(fb(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+mr(r))}normalize(n){return t.stripTrailingSlash(yF(this._basePath,fb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+mr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+mr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=mr}static{this.joinWithSlash=Hg}static{this.stripTrailingSlash=hb}static{this.\u0275fac=function(r){return new(r||t)(Z(_r))}}static{this.\u0275prov=$({token:t,factory:()=>gF(),providedIn:"root"})}}return t})();function gF(){return new fs(Z(_r))}function yF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function fb(t){return t.replace(/\/index.html$/,"")}function vF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Cb={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},bb=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(bb||{});var Pt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Pt||{}),Me=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Me||{}),zt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(zt||{}),Gt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function _F(t){return Lt(t)[Ve.LocaleId]}function IF(t,e,n){let r=Lt(t),i=[r[Ve.DayPeriodsFormat],r[Ve.DayPeriodsStandalone]],o=sn(i,e);return sn(o,n)}function wF(t,e,n){let r=Lt(t),i=[r[Ve.DaysFormat],r[Ve.DaysStandalone]],o=sn(i,e);return sn(o,n)}function EF(t,e,n){let r=Lt(t),i=[r[Ve.MonthsFormat],r[Ve.MonthsStandalone]],o=sn(i,e);return sn(o,n)}function DF(t,e){let r=Lt(t)[Ve.Eras];return sn(r,e)}function dd(t,e){let n=Lt(t);return sn(n[Ve.DateFormat],e)}function hd(t,e){let n=Lt(t);return sn(n[Ve.TimeFormat],e)}function fd(t,e){let r=Lt(t)[Ve.DateTimeFormat];return sn(r,e)}function gr(t,e){let n=Lt(t),r=n[Ve.NumberSymbols][e];if(typeof r>"u"){if(e===Gt.CurrencyDecimal)return n[Ve.NumberSymbols][Gt.Decimal];if(e===Gt.CurrencyGroup)return n[Ve.NumberSymbols][Gt.Group]}return r}function CF(t,e){return Lt(t)[Ve.NumberFormats][e]}function bF(t){return Lt(t)[Ve.Currencies]}function Tb(t){if(!t[Ve.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ve.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function TF(t){let e=Lt(t);return Tb(e),(e[Ve.ExtraData][2]||[]).map(r=>typeof r=="string"?Pg(r):[Pg(r[0]),Pg(r[1])])}function SF(t,e,n){let r=Lt(t);Tb(r);let i=[r[Ve.ExtraData][0],r[Ve.ExtraData][1]],o=sn(i,e)||[];return sn(o,n)||[]}function sn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Pg(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}function AF(t,e,n="en"){let r=bF(n)[t]||Cb[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var RF=2;function MF(t){let e,n=Cb[t];return n&&(e=n[2]),typeof e=="number"?e:RF}var NF=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,pd={},xF=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,yr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(yr||{}),De=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(De||{}),Ee=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Ee||{});function PF(t,e,n,r){let i=$F(t);e=pr(n,e)||e;let s=[],a;for(;e;)if(a=xF.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=Ab(r,u),i=BF(i,r,!0));let l="";return s.forEach(h=>{let p=jF(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Id(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function pr(t,e){let n=_F(t);if(pd[n]??={},pd[n][e])return pd[n][e];let r="";switch(e){case"shortDate":r=dd(t,zt.Short);break;case"mediumDate":r=dd(t,zt.Medium);break;case"longDate":r=dd(t,zt.Long);break;case"fullDate":r=dd(t,zt.Full);break;case"shortTime":r=hd(t,zt.Short);break;case"mediumTime":r=hd(t,zt.Medium);break;case"longTime":r=hd(t,zt.Long);break;case"fullTime":r=hd(t,zt.Full);break;case"short":let i=pr(t,"shortTime"),o=pr(t,"shortDate");r=md(fd(t,zt.Short),[i,o]);break;case"medium":let s=pr(t,"mediumTime"),a=pr(t,"mediumDate");r=md(fd(t,zt.Medium),[s,a]);break;case"long":let u=pr(t,"longTime"),l=pr(t,"longDate");r=md(fd(t,zt.Long),[u,l]);break;case"full":let h=pr(t,"fullTime"),p=pr(t,"fullDate");r=md(fd(t,zt.Full),[h,p]);break}return r&&(pd[n][e]=r),r}function md(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function gn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function OF(t,e){return gn(t,3).substring(0,e)}function Ge(t,e,n=0,r=!1,i=!1){return function(o,s){let a=kF(t,o);if((n>0||a>-n)&&(a+=n),t===De.Hours)a===0&&n===-12&&(a=12);else if(t===De.FractionalSeconds)return OF(a,e);let u=gr(s,Gt.MinusSign);return gn(a,e,u,r,i)}}function kF(t,e){switch(t){case De.FullYear:return e.getFullYear();case De.Month:return e.getMonth();case De.Date:return e.getDate();case De.Hours:return e.getHours();case De.Minutes:return e.getMinutes();case De.Seconds:return e.getSeconds();case De.FractionalSeconds:return e.getMilliseconds();case De.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ne(t,e,n=Pt.Format,r=!1){return function(i,o){return FF(i,o,t,e,n,r)}}function FF(t,e,n,r,i,o){switch(n){case Ee.Months:return EF(e,i,r)[t.getMonth()];case Ee.Days:return wF(e,i,r)[t.getDay()];case Ee.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=TF(e),h=SF(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[v,A]=g,P=s>=v.hours&&a>=v.minutes,x=s<A.hours||s===A.hours&&a<A.minutes;if(v.hours<A.hours){if(P&&x)return!0}else if(P||x)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return IF(e,i,r)[s<12?0:1];case Ee.Eras:return DF(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function gd(t){return function(e,n,r){let i=-1*r,o=gr(n,Gt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case yr.Short:return(i>=0?"+":"")+gn(s,2,o)+gn(Math.abs(i%60),2,o);case yr.ShortGMT:return"GMT"+(i>=0?"+":"")+gn(s,1,o);case yr.Long:return"GMT"+(i>=0?"+":"")+gn(s,2,o)+":"+gn(Math.abs(i%60),2,o);case yr.Extended:return r===0?"Z":(i>=0?"+":"")+gn(s,2,o)+":"+gn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var VF=0,vd=4;function LF(t){let e=Id(t,VF,1).getDay();return Id(t,0,1+(e<=vd?vd:vd+7)-e)}function Sb(t){let e=t.getDay(),n=e===0?-3:vd-e;return Id(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Og(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=Sb(n),s=LF(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return gn(i,t,gr(r,Gt.MinusSign))}}function yd(t,e=!1){return function(n,r){let o=Sb(n).getFullYear();return gn(o,t,gr(r,Gt.MinusSign),e)}}var kg={};function jF(t){if(kg[t])return kg[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ne(Ee.Eras,Me.Abbreviated);break;case"GGGG":e=Ne(Ee.Eras,Me.Wide);break;case"GGGGG":e=Ne(Ee.Eras,Me.Narrow);break;case"y":e=Ge(De.FullYear,1,0,!1,!0);break;case"yy":e=Ge(De.FullYear,2,0,!0,!0);break;case"yyy":e=Ge(De.FullYear,3,0,!1,!0);break;case"yyyy":e=Ge(De.FullYear,4,0,!1,!0);break;case"Y":e=yd(1);break;case"YY":e=yd(2,!0);break;case"YYY":e=yd(3);break;case"YYYY":e=yd(4);break;case"M":case"L":e=Ge(De.Month,1,1);break;case"MM":case"LL":e=Ge(De.Month,2,1);break;case"MMM":e=Ne(Ee.Months,Me.Abbreviated);break;case"MMMM":e=Ne(Ee.Months,Me.Wide);break;case"MMMMM":e=Ne(Ee.Months,Me.Narrow);break;case"LLL":e=Ne(Ee.Months,Me.Abbreviated,Pt.Standalone);break;case"LLLL":e=Ne(Ee.Months,Me.Wide,Pt.Standalone);break;case"LLLLL":e=Ne(Ee.Months,Me.Narrow,Pt.Standalone);break;case"w":e=Og(1);break;case"ww":e=Og(2);break;case"W":e=Og(1,!0);break;case"d":e=Ge(De.Date,1);break;case"dd":e=Ge(De.Date,2);break;case"c":case"cc":e=Ge(De.Day,1);break;case"ccc":e=Ne(Ee.Days,Me.Abbreviated,Pt.Standalone);break;case"cccc":e=Ne(Ee.Days,Me.Wide,Pt.Standalone);break;case"ccccc":e=Ne(Ee.Days,Me.Narrow,Pt.Standalone);break;case"cccccc":e=Ne(Ee.Days,Me.Short,Pt.Standalone);break;case"E":case"EE":case"EEE":e=Ne(Ee.Days,Me.Abbreviated);break;case"EEEE":e=Ne(Ee.Days,Me.Wide);break;case"EEEEE":e=Ne(Ee.Days,Me.Narrow);break;case"EEEEEE":e=Ne(Ee.Days,Me.Short);break;case"a":case"aa":case"aaa":e=Ne(Ee.DayPeriods,Me.Abbreviated);break;case"aaaa":e=Ne(Ee.DayPeriods,Me.Wide);break;case"aaaaa":e=Ne(Ee.DayPeriods,Me.Narrow);break;case"b":case"bb":case"bbb":e=Ne(Ee.DayPeriods,Me.Abbreviated,Pt.Standalone,!0);break;case"bbbb":e=Ne(Ee.DayPeriods,Me.Wide,Pt.Standalone,!0);break;case"bbbbb":e=Ne(Ee.DayPeriods,Me.Narrow,Pt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ne(Ee.DayPeriods,Me.Abbreviated,Pt.Format,!0);break;case"BBBB":e=Ne(Ee.DayPeriods,Me.Wide,Pt.Format,!0);break;case"BBBBB":e=Ne(Ee.DayPeriods,Me.Narrow,Pt.Format,!0);break;case"h":e=Ge(De.Hours,1,-12);break;case"hh":e=Ge(De.Hours,2,-12);break;case"H":e=Ge(De.Hours,1);break;case"HH":e=Ge(De.Hours,2);break;case"m":e=Ge(De.Minutes,1);break;case"mm":e=Ge(De.Minutes,2);break;case"s":e=Ge(De.Seconds,1);break;case"ss":e=Ge(De.Seconds,2);break;case"S":e=Ge(De.FractionalSeconds,1);break;case"SS":e=Ge(De.FractionalSeconds,2);break;case"SSS":e=Ge(De.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=gd(yr.Short);break;case"ZZZZZ":e=gd(yr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=gd(yr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=gd(yr.Long);break;default:return null}return kg[t]=e,e}function Ab(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function UF(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function BF(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=Ab(e,i);return UF(t,r*(o-i))}function $F(t){if(pb(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Id(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(NF))return HF(r)}let e=new Date(t);if(!pb(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function HF(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function pb(t){return t instanceof Date&&!isNaN(t.valueOf())}var qF=/^(\d+)?\.((\d+)(-(\d+))?)?$/,mb=22,wd=".",Xa="0",zF=";",GF=",",Fg="#",gb="\xA4";function WF(t,e,n,r,i,o,s=!1){let a="",u=!1;if(!isFinite(t))a=gr(n,Gt.Infinity);else{let l=ZF(t);s&&(l=YF(l));let h=e.minInt,p=e.minFrac,g=e.maxFrac;if(o){let H=o.match(qF);if(H===null)throw new Error(`${o} is not a valid digit info`);let W=H[1],oe=H[3],xe=H[5];W!=null&&(h=Vg(W)),oe!=null&&(p=Vg(oe)),xe!=null?g=Vg(xe):oe!=null&&p>g&&(g=p)}JF(l,p,g);let v=l.digits,A=l.integerLen,P=l.exponent,x=[];for(u=v.every(H=>!H);A<h;A++)v.unshift(0);for(;A<0;A++)v.unshift(0);A>0?x=v.splice(A,v.length):(x=v,v=[0]);let j=[];for(v.length>=e.lgSize&&j.unshift(v.splice(-e.lgSize,v.length).join(""));v.length>e.gSize;)j.unshift(v.splice(-e.gSize,v.length).join(""));v.length&&j.unshift(v.join("")),a=j.join(gr(n,r)),x.length&&(a+=gr(n,i)+x.join("")),P&&(a+=gr(n,Gt.Exponential)+"+"+P)}return t<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function KF(t,e,n,r,i){let o=CF(e,bb.Currency),s=QF(o,gr(e,Gt.MinusSign));return s.minFrac=MF(r),s.maxFrac=s.minFrac,WF(t,s,e,Gt.CurrencyGroup,Gt.CurrencyDecimal,i).replace(gb,n).replace(gb,"").trim()}function QF(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(zF),i=r[0],o=r[1],s=i.indexOf(wd)!==-1?i.split(wd):[i.substring(0,i.lastIndexOf(Xa)+1),i.substring(i.lastIndexOf(Xa)+1)],a=s[0],u=s[1]||"";n.posPre=a.substring(0,a.indexOf(Fg));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===Xa?n.minFrac=n.maxFrac=h+1:p===Fg?n.maxFrac=h+1:n.posSuf+=p}let l=a.split(GF);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(Fg);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function YF(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function ZF(t){let e=Math.abs(t)+"",n=0,r,i,o,s,a;for((i=e.indexOf(wd))>-1&&(e=e.replace(wd,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Xa;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Xa;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>mb&&(r=r.splice(0,mb-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function JF(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+t.integerLen,h=r.reduceRight(function(p,g,v,A){return g=g+p,A[v]=g<10?g:g-10,u&&(A[v]===0&&v>=l?A.pop():u=!1),g>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function Vg(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function Rb(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Lg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ps=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Lg(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),yb(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);yb(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(z(ri),z(Ki),z(xg))}}static{this.\u0275dir=Fe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function yb(t,e){t.context.$implicit=e.item}var ai=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new jg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){vb("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){vb("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(z(ri),z(Ki))}}static{this.\u0275dir=Fe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),jg=class{constructor(){this.$implicit=null,this.ngIf=null}};function vb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${xt(e)}'.`)}function zg(t,e){return new q(2100,!1)}var XF="mediumDate",eV=new B(""),tV=new B(""),Dd=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??XF,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return PF(n,s,o||this.locale,a)}catch(s){throw zg(t,s.message)}}static{this.\u0275fac=function(r){return new(r||t)(z(Za,16),z(eV,24),z(tV,24))}}static{this.\u0275pipe=ss({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var Cd=(()=>{class t{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",o,s){if(!nV(n))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=AF(a,i==="symbol"?"wide":"narrow",s):a=i);try{let u=rV(n);return KF(u,s,a,r,o)}catch(u){throw zg(t,u.message)}}static{this.\u0275fac=function(r){return new(r||t)(z(Za,16),z(ub,16))}}static{this.\u0275pipe=ss({name:"currency",type:t,pure:!0,standalone:!0})}}return t})();function nV(t){return!(t==null||t===""||t!==t)}function rV(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var Mb=(()=>{class t{transform(n,r,i){if(n==null)return null;if(!this.supports(n))throw zg(t,n);return n.slice(r,i)}supports(n){return typeof n=="string"||Array.isArray(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=ss({name:"slice",type:t,pure:!1,standalone:!0})}}return t})();var Wt=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ti({type:t})}static{this.\u0275inj=ei({})}}return t})(),Gg="browser",iV="server";function oV(t){return t===Gg}function Wg(t){return t===iV}var Nb=(()=>{class t{static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>oV(k(Pn))?new Ug(k(jt),window):new Bg})}}return t})(),Ug=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=sV(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function sV(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Bg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ed=class{};var Yg=class extends _d{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Zg=class t extends Yg{static makeCurrent(){Ib(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=aV();return n==null?null:cV(n)}resetBaseElement(){ec=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Rb(document.cookie,e)}},ec=null;function aV(){return ec=ec||document.querySelector("base"),ec?ec.getAttribute("href"):null}function cV(t){return new URL(t,document.baseURI).pathname}var uV=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),Jg=new B(""),kb=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new q(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(Z(Jg),Z(Ce))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),bd=class{constructor(e){this._doc=e}},Kg="ng-app-id",Fb=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Wg(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Kg}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Kg),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Kg,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(Z(jt),Z(dg),Z(fg,8),Z(Pn))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),Qg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ey=/%COMP%/g,Vb="%COMP%",lV=`_nghost-${Vb}`,dV=`_ngcontent-${Vb}`,hV=!0,fV=new B("",{providedIn:"root",factory:()=>hV});function pV(t){return dV.replace(ey,t)}function mV(t){return lV.replace(ey,t)}function Lb(t,e){return e.map(n=>n.replace(ey,t))}var xb=(()=>{class t{constructor(n,r,i,o,s,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Wg(a),this.defaultRenderer=new tc(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Tn.ShadowDom&&(r=de(L({},r),{encapsulation:Tn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Td?i.applyToHost(n):i instanceof nc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Tn.Emulated:o=new Td(u,l,r,this.appId,h,s,a,p);break;case Tn.ShadowDom:return new Xg(u,l,n,r,s,a,this.nonce,p);default:o=new nc(u,l,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(Z(kb),Z(Fb),Z(dg),Z(fV),Z(jt),Z(Pn),Z(Ce),Z(fg))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),tc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Qg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Pb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Pb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Qg[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Qg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(rr.DashCase|rr.Important)?e.style.setProperty(n,r,i&rr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&rr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=vr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Pb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Xg=class extends tc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Lb(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},nc=class extends tc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Lb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Td=class extends nc{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=pV(l),this.hostAttr=mV(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},gV=(()=>{class t extends bd{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(Z(jt))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),Ob=["alt","control","meta","shift"],yV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},_V=(()=>{class t extends bd{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vr().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Ob.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=yV[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Ob.forEach(s=>{if(s!==i){let a=vV[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(Z(jt))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();function jb(t,e){return lb(L({rootComponent:t},IV(e)))}function IV(t){return{appProviders:[...bV,...t?.providers??[]],platformProviders:CV}}function wV(){Zg.makeCurrent()}function EV(){return new nr}function DV(){return tC(document),document}var CV=[{provide:Pn,useValue:Gg},{provide:hg,useValue:wV,multi:!0},{provide:jt,useFactory:DV,deps:[]}];var bV=[{provide:Wl,useValue:"root"},{provide:nr,useFactory:EV,deps:[]},{provide:Jg,useClass:gV,multi:!0,deps:[jt,Ce,Pn]},{provide:Jg,useClass:_V,multi:!0,deps:[jt]},xb,Fb,kb,{provide:rs,useExisting:xb},{provide:Ed,useClass:uV,deps:[]},[]];var Ub=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(Z(jt))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ae="primary",yc=Symbol("RouteTitle"),oy=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Is(t){return new oy(t)}function SV(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function AV(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!kn(t[n],e[n]))return!1;return!0}function kn(t,e){let n=t?sy(t):void 0,r=e?sy(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Zb(t[i],e[i]))return!1;return!0}function sy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Zb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function Jb(t){return t.length>0?t[t.length-1]:null}function ui(t){return Ip(t)?t:Zi(t)?Ae(Promise.resolve(t)):Y(t)}var RV={exact:eT,subset:tT},Xb={exact:MV,subset:NV,ignored:()=>!0};function Bb(t,e,n){return RV[n.paths](t.root,e.root,n.matrixParams)&&Xb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function MV(t,e){return kn(t,e)}function eT(t,e,n){if(!to(t.segments,e.segments)||!Rd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!eT(t.children[r],e.children[r],n))return!1;return!0}function NV(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Zb(t[n],e[n]))}function tT(t,e,n){return nT(t,e,e.segments,n)}function nT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!to(i,n)||e.hasChildren()||!Rd(i,n,r))}else if(t.segments.length===n.length){if(!to(t.segments,n)||!Rd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!tT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!to(t.segments,i)||!Rd(t.segments,i,r)||!t.children[ae]?!1:nT(t.children[ae],e,o,r)}}function Rd(t,e,n){return e.every((r,i)=>Xb[n](t[i].parameters,r.parameters))}var wr=class{constructor(e=new be([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Is(this.queryParams),this._queryParamMap}toString(){return OV.serialize(this)}},be=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Md(this)}},eo=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Is(this.parameters),this._parameterMap}toString(){return iT(this)}};function xV(t,e){return to(t,e)&&t.every((n,r)=>kn(n.parameters,e[r].parameters))}function to(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function PV(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ae&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ae&&(n=n.concat(e(i,r)))}),n}var vc=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>new ws,providedIn:"root"})}}return t})(),ws=class{parse(e){let n=new cy(e);return new wr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${rc(e.root,!0)}`,r=VV(e.queryParams),i=typeof e.fragment=="string"?`#${kV(e.fragment)}`:"";return`${n}${r}${i}`}},OV=new ws;function Md(t){return t.segments.map(e=>iT(e)).join("/")}function rc(t,e){if(!t.hasChildren())return Md(t);if(e){let n=t.children[ae]?rc(t.children[ae],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ae&&r.push(`${i}:${rc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=PV(t,(r,i)=>i===ae?[rc(t.children[ae],!1)]:[`${i}:${rc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ae]!=null?`${Md(t)}/${n[0]}`:`${Md(t)}/(${n.join("//")})`}}function rT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sd(t){return rT(t).replace(/%3B/gi,";")}function kV(t){return encodeURI(t)}function ay(t){return rT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nd(t){return decodeURIComponent(t)}function $b(t){return Nd(t.replace(/\+/g,"%20"))}function iT(t){return`${ay(t.path)}${FV(t.parameters)}`}function FV(t){return Object.entries(t).map(([e,n])=>`;${ay(e)}=${ay(n)}`).join("")}function VV(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Sd(n)}=${Sd(i)}`).join("&"):`${Sd(n)}=${Sd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var LV=/^[^\/()?;#]+/;function ty(t){let e=t.match(LV);return e?e[0]:""}var jV=/^[^\/()?;=#]+/;function UV(t){let e=t.match(jV);return e?e[0]:""}var BV=/^[^=?&#]+/;function $V(t){let e=t.match(BV);return e?e[0]:""}var HV=/^[^&#]+/;function qV(t){let e=t.match(HV);return e?e[0]:""}var cy=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ae]=new be(e,n)),r}parseSegment(){let e=ty(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(e),new eo(Nd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=UV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=ty(this.remaining);i&&(r=i,this.capture(r))}e[Nd(n)]=Nd(r)}parseQueryParam(e){let n=$V(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=qV(this.remaining);s&&(r=s,this.capture(r))}let i=$b(n),o=$b(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ty(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ae);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ae]:new be([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new q(4011,!1)}};function oT(t){return t.segments.length>0?new be([],{[ae]:t}):t}function sT(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=sT(i);if(r===ae&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new be(t.segments,e);return zV(n)}function zV(t){if(t.numberOfChildren===1&&t.children[ae]){let e=t.children[ae];return new be(t.segments.concat(e.segments),e.children)}return t}function no(t){return t instanceof wr}function GV(t,e,n=null,r=null){let i=aT(t);return cT(i,e,n,r)}function aT(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new be(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=oT(r);return e??i}function cT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return ny(i,i,i,n,r);let o=WV(e);if(o.toRoot())return ny(i,i,new be([],{}),n,r);let s=KV(o,i,t),a=s.processChildren?sc(s.segmentGroup,s.index,o.commands):lT(s.segmentGroup,s.index,o.commands);return ny(i,s.segmentGroup,a,n,r)}function xd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function uc(t){return typeof t=="object"&&t!=null&&t.outlets}function ny(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=uT(t,e,n);let a=oT(sT(s));return new wr(a,o,i)}function uT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=uT(o,e,n)}),new be(t.segments,r)}var Pd=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&xd(r[0]))throw new q(4003,!1);let i=r.find(uc);if(i&&i!==Jb(r))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function WV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Pd(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Pd(n,e,r)}var ys=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function KV(t,e,n){if(t.isAbsolute)return new ys(e,!0,0);if(!n)return new ys(e,!1,NaN);if(n.parent===null)return new ys(n,!0,0);let r=xd(t.commands[0])?0:1,i=n.segments.length-1+r;return QV(n,i,t.numberOfDoubleDots)}function QV(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new q(4005,!1);i=r.segments.length}return new ys(r,!1,i-o)}function YV(t){return uc(t[0])?t[0].outlets:{[ae]:t}}function lT(t,e,n){if(t??=new be([],{}),t.segments.length===0&&t.hasChildren())return sc(t,e,n);let r=ZV(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new be(t.segments.slice(0,r.pathIndex),{});return o.children[ae]=new be(t.segments.slice(r.pathIndex),t.children),sc(o,0,i)}else return r.match&&i.length===0?new be(t.segments,{}):r.match&&!t.hasChildren()?uy(t,e,n):r.match?sc(t,0,i):uy(t,e,n)}function sc(t,e,n){if(n.length===0)return new be(t.segments,{});{let r=YV(n),i={};if(Object.keys(r).some(o=>o!==ae)&&t.children[ae]&&t.numberOfChildren===1&&t.children[ae].segments.length===0){let o=sc(t.children[ae],e,n);return new be(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=lT(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new be(t.segments,i)}}function ZV(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(uc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!qb(u,l,s))return o;r+=2}else{if(!qb(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function uy(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(uc(o)){let u=JV(o.outlets);return new be(r,u)}if(i===0&&xd(n[0])){let u=t.segments[e];r.push(new eo(u.path,Hb(n[0]))),i++;continue}let s=uc(o)?o.outlets[ae]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&xd(a)?(r.push(new eo(s,Hb(a))),i+=2):(r.push(new eo(s,{})),i++)}return new be(r,{})}function JV(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=uy(new be([],{}),0,r))}),e}function Hb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function qb(t,e,n){return t==n.path&&kn(e,n.parameters)}var ac="imperative",ct=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ct||{}),an=class{constructor(e,n){this.id=e,this.url=n}},Es=class extends an{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ct.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},vn=class extends an{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ct.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Qt||{}),Od=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Od||{}),Ir=class extends an{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ct.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ci=class extends an{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ct.NavigationSkipped}},lc=class extends an{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ct.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},kd=class extends an{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ct.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ly=class extends an{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ct.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dy=class extends an{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ct.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},hy=class extends an{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ct.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fy=class extends an{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ct.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},py=class{constructor(e){this.route=e,this.type=ct.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},my=class{constructor(e){this.route=e,this.type=ct.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},gy=class{constructor(e){this.snapshot=e,this.type=ct.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yy=class{constructor(e){this.snapshot=e,this.type=ct.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vy=class{constructor(e){this.snapshot=e,this.type=ct.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_y=class{constructor(e){this.snapshot=e,this.type=ct.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fd=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=ct.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},dc=class{},Ds=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function XV(t,e){return t.providers&&!t._injector&&(t._injector=od(t.providers,e,`Route: ${t.path}`)),t._injector??e}function yn(t){return t.outlet||ae}function eL(t,e){let n=t.filter(r=>yn(r)===e);return n.push(...t.filter(r=>yn(r)!==e)),n}function _c(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Iy=class{get injector(){return _c(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Ic(this.rootInjector),this.attachRef=null}},Ic=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Iy(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(Z(qt))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Vd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=wy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=wy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Ey(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ey(e,this._root).map(n=>n.value)}};function wy(t,e){if(t===e.value)return e;for(let n of e.children){let r=wy(t,n);if(r)return r}return null}function Ey(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Ey(t,n);if(r.length)return r.unshift(e),r}return[]}var Kt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function gs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ld=class extends Vd{constructor(e,n){super(e),this.snapshot=n,Ny(this,e)}toString(){return this.snapshot.toString()}};function dT(t){let e=tL(t),n=new ht([new eo("",{})]),r=new ht({}),i=new ht({}),o=new ht({}),s=new ht(""),a=new Fn(n,r,o,s,i,ae,t,e.root);return a.snapshot=e.root,new Ld(new Kt(a,[]),e)}function tL(t){let e={},n={},r={},i="",o=new vs([],e,r,i,n,ae,t,null,{});return new Ud("",new Kt(o,[]))}var Fn=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(le(l=>l[yc]))??Y(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(le(e=>Is(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(le(e=>Is(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function jd(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),t.params),data:L(L({},e.data),t.data),resolve:L(L(L(L({},t.data),e.data),i?.data),t._resolvedData)}:r={params:L({},t.params),data:L({},t.data),resolve:L(L({},t.data),t._resolvedData??{})},i&&fT(i)&&(r.resolve[yc]=i.title),r}var vs=class{get title(){return this.data?.[yc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Is(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Is(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ud=class extends Vd{constructor(e,n){super(n),this.url=e,Ny(this,n)}toString(){return hT(this._root)}};function Ny(t,e){e.value._routerState=t,e.children.forEach(n=>Ny(t,n))}function hT(t){let e=t.children.length>0?` { ${t.children.map(hT).join(", ")} } `:"";return`${t.value}${e}`}function ry(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,kn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),kn(e.params,n.params)||t.paramsSubject.next(n.params),AV(e.url,n.url)||t.urlSubject.next(n.url),kn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Dy(t,e){let n=kn(t.params,e.params)&&xV(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Dy(t.parent,e.parent))}function fT(t){return typeof t.title=="string"||t.title===null}var xy=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ae,this.activateEvents=new Be,this.deactivateEvents=new Be,this.attachEvents=new Be,this.detachEvents=new Be,this.parentContexts=k(Ic),this.location=k(ri),this.changeDetector=k(oi),this.inputBinder=k(qd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Cy(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Fe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[cr]})}}return t})(),Cy=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Fn?this.route:e===Ic?this.childContexts:this.parent.get(e,n)}},qd=new B(""),zb=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=ka([r.queryParams,r.params,r.data]).pipe(Xt(([o,s,a],u)=>(a=L(L(L({},o),s),a),u===0?Y(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=db(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();function nL(t,e,n){let r=hc(t,e._root,n?n._root:void 0);return new Ld(r,e)}function hc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=rL(t,e,n);return new Kt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>hc(t,a)),s}}let r=iL(e.value),i=e.children.map(o=>hc(t,o));return new Kt(r,i)}}function rL(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return hc(t,r,i);return hc(t,r)})}function iL(t){return new Fn(new ht(t.url),new ht(t.params),new ht(t.queryParams),new ht(t.fragment),new ht(t.data),t.outlet,t.component,t)}var fc=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},pT="ngNavigationCancelingError";function Bd(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=no(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=mT(!1,Qt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function mT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[pT]=!0,n.cancellationCode=e,n}function oL(t){return gT(t)&&no(t.url)}function gT(t){return!!t&&t[pT]}var sL=(t,e,n,r)=>le(i=>(new by(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),by=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),ry(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=gs(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=gs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=gs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=gs(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new _y(o.value.snapshot))}),e.children.length&&this.forwardEvent(new yy(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(ry(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ry(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},$d=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},_s=class{constructor(e,n){this.component=e,this.route=n}};function aL(t,e,n){let r=t._root,i=e?e._root:null;return ic(r,i,n,[r.value])}function cL(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ts(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!B0(t)?t:e.get(t):r}function ic(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=gs(e);return t.children.forEach(s=>{uL(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>cc(a,n.getContext(s),i)),i}function uL(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=lL(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new $d(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ic(t,e,a?a.children:null,r,i):ic(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new _s(a.outlet.component,s))}else s&&cc(e,a,i),i.canActivateChecks.push(new $d(r)),o.component?ic(t,null,a?a.children:null,r,i):ic(t,null,n,r,i);return i}function lL(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!to(t.url,e.url);case"pathParamsOrQueryParamsChange":return!to(t.url,e.url)||!kn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dy(t,e)||!kn(t.queryParams,e.queryParams);case"paramsChange":default:return!Dy(t,e)}}function cc(t,e,n){let r=gs(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?cc(s,e.children.getContext(o),n):cc(s,null,n):cc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new _s(e.outlet.component,i)):n.canDeactivateChecks.push(new _s(null,i)):n.canDeactivateChecks.push(new _s(null,i))}function wc(t){return typeof t=="function"}function dL(t){return typeof t=="boolean"}function hL(t){return t&&wc(t.canLoad)}function fL(t){return t&&wc(t.canActivate)}function pL(t){return t&&wc(t.canActivateChild)}function mL(t){return t&&wc(t.canDeactivate)}function gL(t){return t&&wc(t.canMatch)}function yT(t){return t instanceof Xn||t?.name==="EmptyError"}var Ad=Symbol("INITIAL_VALUE");function Cs(){return Xt(t=>ka(t.map(e=>e.pipe(er(1),bp(Ad)))).pipe(le(e=>{for(let n of e)if(n!==!0){if(n===Ad)return Ad;if(n===!1||yL(n))return n}return!0}),Jt(e=>e!==Ad),er(1)))}function yL(t){return no(t)||t instanceof fc}function vL(t,e){return ze(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Y(de(L({},n),{guardsResult:!0})):_L(s,r,i,t).pipe(ze(a=>a&&dL(a)?IL(r,o,t,e):Y(a)),le(a=>de(L({},n),{guardsResult:a})))})}function _L(t,e,n,r){return Ae(t).pipe(ze(i=>bL(i.component,i.route,n,e,r)),Dn(i=>i!==!0,!0))}function IL(t,e,n,r){return Ae(e).pipe(ki(i=>$o(EL(i.route.parent,r),wL(i.route,r),CL(t,i.path,n),DL(t,i.route,n))),Dn(i=>i!==!0,!0))}function wL(t,e){return t!==null&&e&&e(new vy(t)),Y(!0)}function EL(t,e){return t!==null&&e&&e(new gy(t)),Y(!0)}function DL(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Y(!0);let i=r.map(o=>al(()=>{let s=_c(e)??n,a=Ts(o,s),u=fL(a)?a.canActivate(e,t):xn(s,()=>a(e,t));return ui(u).pipe(Dn())}));return Y(i).pipe(Cs())}function CL(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>cL(s)).filter(s=>s!==null).map(s=>al(()=>{let a=s.guards.map(u=>{let l=_c(s.node)??n,h=Ts(u,l),p=pL(h)?h.canActivateChild(r,t):xn(l,()=>h(r,t));return ui(p).pipe(Dn())});return Y(a).pipe(Cs())}));return Y(o).pipe(Cs())}function bL(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Y(!0);let s=o.map(a=>{let u=_c(e)??i,l=Ts(a,u),h=mL(l)?l.canDeactivate(t,e,n,r):xn(u,()=>l(t,e,n,r));return ui(h).pipe(Dn())});return Y(s).pipe(Cs())}function TL(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Y(!0);let o=i.map(s=>{let a=Ts(s,t),u=hL(a)?a.canLoad(e,n):xn(t,()=>a(e,n));return ui(u)});return Y(o).pipe(Cs(),vT(r))}function vT(t){return hp(Ye(e=>{if(typeof e!="boolean")throw Bd(t,e)}),le(e=>e===!0))}function SL(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Y(!0);let o=i.map(s=>{let a=Ts(s,t),u=gL(a)?a.canMatch(e,n):xn(t,()=>a(e,n));return ui(u)});return Y(o).pipe(Cs(),vT(r))}var pc=class{constructor(e){this.segmentGroup=e||null}},mc=class extends Error{constructor(e){super(),this.urlTree=e}};function ms(t){return Bo(new pc(t))}function AL(t){return Bo(new q(4e3,!1))}function RL(t){return Bo(mT(!1,Qt.GuardRejected))}var Ty=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Y(r);if(i.numberOfChildren>1||!i.children[ae])return AL(`${e.redirectTo}`);i=i.children[ae]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,params:v,data:A,title:P}=i,x=xn(o,()=>a({params:v,data:A,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,title:P}));if(x instanceof wr)throw new mc(x);n=x}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new mc(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new wr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new be(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new q(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Sy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ML(t,e,n,r,i){let o=_T(t,e,n);return o.matched?(r=XV(e,r),SL(r,e,n,i).pipe(le(s=>s===!0?o:L({},Sy)))):Y(o)}function _T(t,e,n){if(e.path==="**")return NL(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?L({},Sy):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||SV)(n,t,e);if(!i)return L({},Sy);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function NL(t){return{matched:!0,parameters:t.length>0?Jb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Gb(t,e,n,r){return n.length>0&&OL(t,n,r)?{segmentGroup:new be(e,PL(r,new be(n,t.children))),slicedSegments:[]}:n.length===0&&kL(t,n,r)?{segmentGroup:new be(t.segments,xL(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new be(t.segments,t.children),slicedSegments:n}}function xL(t,e,n,r){let i={};for(let o of n)if(zd(t,e,o)&&!r[yn(o)]){let s=new be([],{});i[yn(o)]=s}return L(L({},r),i)}function PL(t,e){let n={};n[ae]=e;for(let r of t)if(r.path===""&&yn(r)!==ae){let i=new be([],{});n[yn(r)]=i}return n}function OL(t,e,n){return n.some(r=>zd(t,e,r)&&yn(r)!==ae)}function kL(t,e,n){return n.some(r=>zd(t,e,r))}function zd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function FL(t,e,n){return e.length===0&&!t.children[n]}var Ay=class{};function VL(t,e,n,r,i,o,s="emptyOnly"){return new Ry(t,e,n,r,i,s,o).recognize()}var LL=31,Ry=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ty(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new q(4002,`'${e.segmentGroup}'`)}recognize(){let e=Gb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(le(({children:n,rootSnapshot:r})=>{let i=new Kt(r,n),o=new Ud("",i),s=GV(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new vs([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ae,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ae,n).pipe(le(r=>({children:r,rootSnapshot:n})),zr(r=>{if(r instanceof mc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof pc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(le(s=>s instanceof Kt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ae(o).pipe(ki(s=>{let a=r.children[s],u=eL(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Cp((s,a)=>(s.push(...a),s)),Gr(null),Dp(),ze(s=>{if(s===null)return ms(r);let a=IT(s);return jL(a),Y(a)}))}processSegment(e,n,r,i,o,s,a){return Ae(n).pipe(ki(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(zr(l=>{if(l instanceof pc)return Y(null);throw l}))),Dn(u=>!!u),zr(u=>{if(yT(u))return FL(r,i,o)?Y(new Ay):ms(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return yn(r)!==s&&(s===ae||!zd(i,o,r))?ms(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):ms(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=_T(n,i,o);if(!u)return ms(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>LL&&(this.allowRedirects=!1));let v=new vs(o,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Wb(i),yn(i),i.component??i._loadedComponent??null,i,Kb(i)),A=jd(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(A.params),v.data=Object.freeze(A.data);let P=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,P).pipe(ze(x=>this.processSegment(e,r,n,x.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=ML(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Xt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Xt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:v}=u,A=new vs(g,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Wb(r),yn(r),r.component??r._loadedComponent??null,r,Kb(r)),P=jd(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(P.params),A.data=Object.freeze(P.data);let{segmentGroup:x,slicedSegments:j}=Gb(n,g,v,l);if(j.length===0&&x.hasChildren())return this.processChildren(h,l,x,A).pipe(le(W=>new Kt(A,W)));if(l.length===0&&j.length===0)return Y(new Kt(A,[]));let H=yn(r)===o;return this.processSegment(h,l,x,j,H?ae:o,!0,A).pipe(le(W=>new Kt(A,W instanceof Kt?[W]:[])))}))):ms(n)))}getChildConfig(e,n,r){return n.children?Y({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Y({routes:n._loadedRoutes,injector:n._loadedInjector}):TL(e,n,r,this.urlSerializer).pipe(ze(i=>i?this.configLoader.loadChildren(e,n).pipe(Ye(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):RL(n))):Y({routes:[],injector:e})}};function jL(t){t.sort((e,n)=>e.value.outlet===ae?-1:n.value.outlet===ae?1:e.value.outlet.localeCompare(n.value.outlet))}function UL(t){let e=t.value.routeConfig;return e&&e.path===""}function IT(t){let e=[],n=new Set;for(let r of t){if(!UL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=IT(r.children);e.push(new Kt(r.value,i))}return e.filter(r=>!n.has(r))}function Wb(t){return t.data||{}}function Kb(t){return t.resolve||{}}function BL(t,e,n,r,i,o){return ze(s=>VL(t,e,n,r,s.extractedUrl,i,o).pipe(le(({state:a,tree:u})=>de(L({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function $L(t,e){return ze(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of wT(u))s.add(l);let a=0;return Ae(s).pipe(ki(u=>o.has(u)?HL(u,r,t,e):(u.data=jd(u,u.parent,t).resolve,Y(void 0))),Ye(()=>a++),Ho(1),ze(u=>a===s.size?Y(n):$t))})}function wT(t){let e=t.children.map(n=>wT(n)).flat();return[t,...e]}function HL(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!fT(i)&&(o[yc]=i.title),qL(o,t,e,r).pipe(le(s=>(t._resolvedData=s,t.data=jd(t,t.parent,n).resolve,null)))}function qL(t,e,n,r){let i=sy(t);if(i.length===0)return Y({});let o={};return Ae(i).pipe(ze(s=>zL(t[s],e,n,r).pipe(Dn(),Ye(a=>{if(a instanceof fc)throw Bd(new ws,a);o[s]=a}))),Ho(1),Ep(o),zr(s=>yT(s)?$t:Bo(s)))}function zL(t,e,n,r){let i=_c(e)??r,o=Ts(t,i),s=o.resolve?o.resolve(e,n):xn(i,()=>o(e,n));return ui(s)}function iy(t){return Xt(e=>{let n=t(e);return n?Ae(n).pipe(le(()=>e)):Y(e)})}var ET=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ae);return r}getResolvedTitleForRoute(n){return n.data[yc]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>k(GL),providedIn:"root"})}}return t})(),GL=(()=>{class t extends ET{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(Z(Ub))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ec=new B("",{providedIn:"root",factory:()=>({})}),WL=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=it({type:t,selectors:[["ng-component"]],standalone:!0,features:[at],decls:1,vars:0,template:function(r,i){r&1&&Oe(0,"router-outlet")},dependencies:[xy],encapsulation:2})}}return t})();function Py(t){let e=t.children&&t.children.map(Py),n=e?de(L({},t),{children:e}):L({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ae&&(n.component=WL),n}var gc=new B(""),Oy=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(ld)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Y(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=ui(n.loadComponent()).pipe(le(DT),Ye(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Fa(()=>{this.componentLoaders.delete(n)})),i=new Vo(r,()=>new rt).pipe(Fo());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=KL(r,this.compiler,n,this.onLoadEndListener).pipe(Fa(()=>{this.childrenLoaders.delete(r)})),s=new Vo(o,()=>new rt).pipe(Fo());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function KL(t,e,n,r){return ui(t.loadChildren()).pipe(le(DT),ze(i=>i instanceof Ha||Array.isArray(i)?Y(i):Ae(e.compileModuleAsync(i))),le(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(gc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Py),injector:o}}))}function QL(t){return t&&typeof t=="object"&&"default"in t}function DT(t){return QL(t)?t.default:t}var ky=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>k(YL),providedIn:"root"})}}return t})(),YL=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),CT=new B(""),bT=new B("");function ZL(t,e,n){let r=t.get(bT),i=t.get(jt);return t.get(Ce).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),JL(t))),{onViewTransitionCreated:u}=r;return u&&xn(t,()=>u({transition:a,from:e,to:n})),s})}function JL(t){return new Promise(e=>{Ag({read:()=>setTimeout(e)},{injector:t})})}var XL=new B(""),Fy=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new rt,this.transitionAbortSubject=new rt,this.configLoader=k(Oy),this.environmentInjector=k(qt),this.urlSerializer=k(vc),this.rootContexts=k(Ic),this.location=k(fs),this.inputBindingEnabled=k(qd,{optional:!0})!==null,this.titleStrategy=k(ET),this.options=k(Ec,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(ky),this.createViewTransition=k(CT,{optional:!0}),this.navigationErrorHandler=k(XL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null;let n=i=>this.events.next(new py(i)),r=i=>this.events.next(new my(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(de(L(L({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new ht({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ac,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Jt(o=>o.id!==0),le(o=>de(L({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Xt(o=>{let s=!1,a=!1;return Y(o).pipe(Xt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Qt.SupersededByNewNavigation),$t;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?de(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new ci(u.id,this.urlSerializer.serialize(u.rawUrl),p,Od.IgnoredSameUrlNavigation)),u.resolve(!1),$t}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Y(u).pipe(Xt(p=>{let g=this.transitions?.getValue();return this.events.next(new Es(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?$t:Promise.resolve(p)}),BL(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ye(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=de(L({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let g=new kd(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:g,source:v,restoredState:A,extras:P}=u,x=new Es(p,this.urlSerializer.serialize(g),v,A);this.events.next(x);let j=dT(this.rootComponentType).snapshot;return this.currentTransition=o=de(L({},u),{targetSnapshot:j,urlAfterRedirects:g,extras:de(L({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,Y(o)}else{let p="";return this.events.next(new ci(u.id,this.urlSerializer.serialize(u.extractedUrl),p,Od.IgnoredByUrlHandlingStrategy)),u.resolve(!1),$t}}),Ye(u=>{let l=new ly(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),le(u=>(this.currentTransition=o=de(L({},u),{guards:aL(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),vL(this.environmentInjector,u=>this.events.next(u)),Ye(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Bd(this.urlSerializer,u.guardsResult);let l=new dy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Jt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Qt.GuardRejected),!1)),iy(u=>{if(u.guards.canActivateChecks.length)return Y(u).pipe(Ye(l=>{let h=new hy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Xt(l=>{let h=!1;return Y(l).pipe($L(this.paramsInheritanceStrategy,this.environmentInjector),Ye({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",Qt.NoDataFromResolver)}}))}),Ye(l=>{let h=new fy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),iy(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ye(g=>{h.component=g}),le(()=>{})));for(let g of h.children)p.push(...l(g));return p};return ka(l(u.targetSnapshot.root)).pipe(Gr(null),er(1))}),iy(()=>this.afterPreactivation()),Xt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Ae(h).pipe(le(()=>o)):Y(o)}),le(u=>{let l=nL(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=de(L({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Ye(()=>{this.events.next(new dc)}),sL(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),er(1),Ye({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new vn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),Tp(this.transitionAbortSubject.pipe(Ye(u=>{throw u}))),Fa(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Qt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),zr(u=>{if(a=!0,gT(u))this.events.next(new Ir(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),oL(u)?this.events.next(new Ds(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new lc(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let h=xn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof fc){let{message:p,cancellationCode:g}=Bd(this.urlSerializer,h);this.events.next(new Ir(o.id,this.urlSerializer.serialize(o.extractedUrl),p,g)),this.events.next(new Ds(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(u);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return $t}))}))}cancelNavigationTransition(n,r,i){let o=new Ir(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function e2(t){return t!==ac}var t2=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>k(n2),providedIn:"root"})}}return t})(),My=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},n2=(()=>{class t extends My{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ur(t)))(i||t)}})()}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),TT=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>k(r2),providedIn:"root"})}}return t})(),r2=(()=>{class t extends TT{constructor(){super(...arguments),this.location=k(fs),this.urlSerializer=k(vc),this.options=k(Ec,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(ky),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new wr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=dT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Es)this.stateMemento=this.createStateMemento();else if(n instanceof ci)this.rawUrlTree=r.initialUrl;else if(n instanceof kd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof dc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Ir&&(n.code===Qt.GuardRejected||n.code===Qt.NoDataFromResolver)?this.restoreHistory(r):n instanceof lc?this.restoreHistory(r,!0):n instanceof vn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof wr?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=L(L({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=L(L({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ur(t)))(i||t)}})()}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),oc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(oc||{});function ST(t,e){t.events.pipe(Jt(n=>n instanceof vn||n instanceof Ir||n instanceof lc||n instanceof ci),le(n=>n instanceof vn||n instanceof ci?oc.COMPLETE:(n instanceof Ir?n.code===Qt.Redirect||n.code===Qt.SupersededByNewNavigation:!1)?oc.REDIRECTING:oc.FAILED),Jt(n=>n!==oc.REDIRECTING),er(1)).subscribe(()=>{e()})}function i2(t){throw t}var o2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},s2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},bt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(ad),this.stateManager=k(TT),this.options=k(Ec,{optional:!0})||{},this.pendingTasks=k(us),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(Fy),this.urlSerializer=k(vc),this.location=k(fs),this.urlHandlingStrategy=k(ky),this._events=new rt,this.errorHandler=this.options.errorHandler||i2,this.navigated=!1,this.routeReuseStrategy=k(t2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(gc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(qd,{optional:!0}),this.eventsSubscription=new Ue,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Ir&&r.code!==Qt.Redirect&&r.code!==Qt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof vn)this.navigated=!0;else if(r instanceof Ds){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||e2(i.source)},s);this.scheduleNavigation(a,ac,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}c2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ac,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Py),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=aT(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return cT(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=no(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ac,null,r)}navigate(n,r={skipLocationChange:!1}){return a2(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=L({},o2):r===!1?i=L({},s2):i=r,no(n))return Bb(this.currentUrlTree,n,i);let o=this.parseUrl(n);return Bb(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return ST(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function a2(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new q(4008,!1)}function c2(t){return!(t instanceof dc)&&!(t instanceof Ds)}var bs=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new rt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof vn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(no(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:iC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:no(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(z(bt),z(Fn),ag("tabindex"),z(On),z(Vt),z(_r))}}static{this.\u0275dir=Fe({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Le("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ya("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",si],skipLocationChange:[2,"skipLocationChange","skipLocationChange",si],replaceUrl:[2,"replaceUrl","replaceUrl",si],routerLink:"routerLink"},standalone:!0,features:[Tg,cr]})}}return t})(),AT=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Be,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof vn&&this.update()})}ngAfterContentInit(){Y(this.links.changes,Y(null)).pipe(qr()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ae(n).pipe(qr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=u2(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static{this.\u0275fac=function(r){return new(r||t)(z(bt),z(Vt),z(On),z(oi),z(bs,8))}}static{this.\u0275dir=Fe({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&YC(o,bs,5),r&2){let s;ZC(s=JC())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[cr]})}}return t})();function u2(t){return!!t.paths}var Hd=class{};var l2=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Jt(n=>n instanceof vn),ki(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=od(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ae(i).pipe(qr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=Y(null);let o=i.pipe(ze(s=>s===null?Y(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ae([o,s]).pipe(qr())}else return o})}static{this.\u0275fac=function(r){return new(r||t)(Z(bt),Z(ld),Z(qt),Z(Hd),Z(Oy))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),RT=new B(""),d2=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Es?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof vn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof ci&&n.code===Od.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Fd&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Fd(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){yC()}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();function MT(t,...e){return Nn([{provide:gc,multi:!0,useValue:t},[],{provide:Fn,useFactory:NT,deps:[bt]},{provide:ud,multi:!0,useFactory:xT},e.map(n=>n.\u0275providers)])}function NT(t){return t.routerState.root}function Dc(t,e){return{\u0275kind:t,\u0275providers:e}}function xT(){let t=k(ft);return e=>{let n=t.get(Ji);if(e!==n.components[0])return;let r=t.get(bt),i=t.get(PT);t.get(Vy)===1&&r.initialNavigation(),t.get(OT,null,ue.Optional)?.setUpPreloading(),t.get(RT,null,ue.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var PT=new B("",{factory:()=>new rt}),Vy=new B("",{providedIn:"root",factory:()=>1});function h2(){return Dc(2,[{provide:Vy,useValue:0},{provide:cd,multi:!0,deps:[ft],useFactory:e=>{let n=e.get(wb,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(bt),o=e.get(PT);ST(i,()=>{r(!0)}),e.get(Fy).afterPreactivation=()=>(r(!0),o.closed?Y(void 0):o),i.initialNavigation()}))}}])}function f2(){return Dc(3,[{provide:cd,multi:!0,useFactory:()=>{let e=k(bt);return()=>{e.setUpLocationChangeListener()}}},{provide:Vy,useValue:2}])}var OT=new B("");function p2(t){return Dc(0,[{provide:OT,useExisting:l2},{provide:Hd,useExisting:t}])}function m2(){return Dc(8,[zb,{provide:qd,useExisting:zb}])}function g2(t){let e=[{provide:CT,useValue:ZL},{provide:bT,useValue:L({skipNextTransition:!!t?.skipInitialTransition},t)}];return Dc(9,e)}var Qb=new B("ROUTER_FORROOT_GUARD"),y2=[fs,{provide:vc,useClass:ws},bt,Ic,{provide:Fn,useFactory:NT,deps:[bt]},Oy,[]],kT=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[y2,[],{provide:gc,multi:!0,useValue:n},{provide:Qb,useFactory:w2,deps:[[bt,new wt,new Um]]},{provide:Ec,useValue:r||{}},r?.useHash?_2():I2(),v2(),r?.preloadingStrategy?p2(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?E2(r):[],r?.bindToComponentInputs?m2().\u0275providers:[],r?.enableViewTransitions?g2().\u0275providers:[],D2()]}}static forChild(n){return{ngModule:t,providers:[{provide:gc,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(Z(Qb,8))}}static{this.\u0275mod=ti({type:t})}static{this.\u0275inj=ei({})}}return t})();function v2(){return{provide:RT,useFactory:()=>{let t=k(Nb),e=k(Ce),n=k(Ec),r=k(Fy),i=k(vc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new d2(i,r,t,e,n)}}}function _2(){return{provide:_r,useClass:Db}}function I2(){return{provide:_r,useClass:qg}}function w2(t){return"guarded"}function E2(t){return[t.initialNavigation==="disabled"?f2().\u0275providers:[],t.initialNavigation==="enabledBlocking"?h2().\u0275providers:[]]}var Yb=new B("");function D2(){return[{provide:Yb,useFactory:xT},{provide:ud,multi:!0,useExisting:Yb}]}var VT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},C2=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},LT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,v=l&63;u||(v=64,s||(g=64)),r.push(n[h],n[p],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):C2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new jy;let g=o<<2|a>>4;if(r.push(g),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},jy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},b2=function(t){let e=VT(t);return LT.encodeByteArray(e,!0)},Cc=function(t){return b2(t).replace(/\./g,"")},By=function(t){try{return LT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function T2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var S2=()=>T2().__FIREBASE_DEFAULTS__,A2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},R2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&By(t[1]);return e&&JSON.parse(e)},Kd=()=>{try{return S2()||A2()||R2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$y=t=>{var e,n;return(n=(e=Kd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jT=t=>{let e=$y(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Hy=()=>{var t;return(t=Kd())===null||t===void 0?void 0:t.config},qy=t=>{var e;return(e=Kd())===null||e===void 0?void 0:e[`_${t}`]};var Wd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function UT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Cc(JSON.stringify(n)),Cc(JSON.stringify(s)),""].join(".")}function ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function M2(){var t;let e=(t=Kd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $T(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zT(){let t=ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GT(){return!M2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zy(){try{return typeof indexedDB=="object"}catch{return!1}}function WT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var N2="FirebaseError",Yt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=N2,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Er.prototype.create)}},Er=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?x2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Yt(i,a,r)}};function x2(t,e){return t.replace(P2,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var P2=/\{\$([^}]+)}/g;function KT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ro(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(FT(o)&&FT(s)){if(!ro(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function FT(t){return t!==null&&typeof t=="object"}function bc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ss(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function As(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function QT(t,e){let n=new Uy(t,e);return n.subscribe.bind(n)}var Uy=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");O2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ly),i.error===void 0&&(i.error=Ly),i.complete===void 0&&(i.complete=Ly);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function O2(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ly(){}var e8=4*60*60*1e3;function Ot(t){return t&&t._delegate?t._delegate:t}var cn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var io="[DEFAULT]";var Gy=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Wd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F2(e))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=io){return this.instances.has(e)}getOptions(e=io){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:k2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=io){return this.component?this.component.multipleInstances?e:io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function k2(t){return t===io?void 0:t}function F2(t){return t.instantiationMode==="EAGER"}var Qd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Gy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var V2=[],fe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(fe||{}),L2={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},j2=fe.INFO,U2={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},B2=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=U2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},li=class{constructor(e){this.name=e,this._logLevel=j2,this._logHandler=B2,this._userLogHandler=null,V2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var $2=(t,e)=>e.some(n=>t instanceof n),YT,ZT;function H2(){return YT||(YT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q2(){return ZT||(ZT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var JT=new WeakMap,Ky=new WeakMap,XT=new WeakMap,Wy=new WeakMap,Yy=new WeakMap;function z2(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Vn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&JT.set(n,t)}).catch(()=>{}),Yy.set(e,t),e}function G2(t){if(Ky.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Ky.set(t,e)}var Qy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ky.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eS(t){Qy=t(Qy)}function W2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Yd(this),e,...n);return XT.set(r,e.sort?e.sort():[e]),Vn(r)}:q2().includes(t)?function(...e){return t.apply(Yd(this),e),Vn(JT.get(this))}:function(...e){return Vn(t.apply(Yd(this),e))}}function K2(t){return typeof t=="function"?W2(t):(t instanceof IDBTransaction&&G2(t),$2(t,H2())?new Proxy(t,Qy):t)}function Vn(t){if(t instanceof IDBRequest)return z2(t);if(Wy.has(t))return Wy.get(t);let e=K2(t);return e!==t&&(Wy.set(t,e),Yy.set(e,t)),e}var Yd=t=>Yy.get(t);function nS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Vn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Vn(s.result),u.oldVersion,u.newVersion,Vn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var Q2=["get","getKey","getAll","getAllKeys","count"],Y2=["put","add","delete","clear"],Zy=new Map;function tS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zy.get(e))return Zy.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Y2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Q2.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Zy.set(e,o),o}eS(t=>de(L({},t),{get:(e,n,r)=>tS(e,n)||t.get(e,n,r),has:(e,n)=>!!tS(e,n)||t.has(e,n)}));var Xy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Z2(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Z2(t){let e=t.getComponent();return e?.type==="VERSION"}var ev="@firebase/app",rS="0.10.13";var Dr=new li("@firebase/app"),J2="@firebase/app-compat",X2="@firebase/analytics-compat",ej="@firebase/analytics",tj="@firebase/app-check-compat",nj="@firebase/app-check",rj="@firebase/auth",ij="@firebase/auth-compat",oj="@firebase/database",sj="@firebase/data-connect",aj="@firebase/database-compat",cj="@firebase/functions",uj="@firebase/functions-compat",lj="@firebase/installations",dj="@firebase/installations-compat",hj="@firebase/messaging",fj="@firebase/messaging-compat",pj="@firebase/performance",mj="@firebase/performance-compat",gj="@firebase/remote-config",yj="@firebase/remote-config-compat",vj="@firebase/storage",_j="@firebase/storage-compat",Ij="@firebase/firestore",wj="@firebase/vertexai-preview",Ej="@firebase/firestore-compat",Dj="firebase",Cj="10.14.1";var tv="[DEFAULT]",bj={[ev]:"fire-core",[J2]:"fire-core-compat",[ej]:"fire-analytics",[X2]:"fire-analytics-compat",[nj]:"fire-app-check",[tj]:"fire-app-check-compat",[rj]:"fire-auth",[ij]:"fire-auth-compat",[oj]:"fire-rtdb",[sj]:"fire-data-connect",[aj]:"fire-rtdb-compat",[cj]:"fire-fn",[uj]:"fire-fn-compat",[lj]:"fire-iid",[dj]:"fire-iid-compat",[hj]:"fire-fcm",[fj]:"fire-fcm-compat",[pj]:"fire-perf",[mj]:"fire-perf-compat",[gj]:"fire-rc",[yj]:"fire-rc-compat",[vj]:"fire-gcs",[_j]:"fire-gcs-compat",[Ij]:"fire-fst",[Ej]:"fire-fst-compat",[wj]:"fire-vertex","fire-js":"fire-js",[Dj]:"fire-js-all"};var Tc=new Map,Tj=new Map,nv=new Map;function iS(t,e){try{t.container.addComponent(e)}catch(n){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hi(t){let e=t.name;if(nv.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;nv.set(e,t);for(let n of Tc.values())iS(n,t);for(let n of Tj.values())iS(n,t);return!0}function Ac(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _n(t){return t.settings!==void 0}var Sj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},di=new Er("app","Firebase",Sj);var rv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw di.create("app-deleted",{appName:this._name})}};var fi=Cj;function sv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:tv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw di.create("bad-app-name",{appName:String(i)});if(n||(n=Hy()),!n)throw di.create("no-options");let o=Tc.get(i);if(o){if(ro(n,o.options)&&ro(r,o.config))return o;throw di.create("duplicate-app",{appName:i})}let s=new Qd(i);for(let u of nv.values())s.addComponent(u);let a=new rv(n,r,s);return Tc.set(i,a),a}function Rs(t=tv){let e=Tc.get(t);if(!e&&t===tv&&Hy())return sv();if(!e)throw di.create("no-app",{appName:t});return e}function Zd(){return Array.from(Tc.values())}function tt(t,e,n){var r;let i=(r=bj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(a.join(" "));return}hi(new cn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Aj="firebase-heartbeat-database",Rj=1,Sc="firebase-heartbeat-store",Jy=null;function cS(){return Jy||(Jy=nS(Aj,Rj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sc)}catch(n){console.warn(n)}}}}).catch(t=>{throw di.create("idb-open",{originalErrorMessage:t.message})})),Jy}function Mj(t){return _(this,null,function*(){try{let n=(yield cS()).transaction(Sc),r=yield n.objectStore(Sc).get(uS(t));return yield n.done,r}catch(e){if(e instanceof Yt)Dr.warn(e.message);else{let n=di.create("idb-get",{originalErrorMessage:e?.message});Dr.warn(n.message)}}})}function oS(t,e){return _(this,null,function*(){try{let r=(yield cS()).transaction(Sc,"readwrite");yield r.objectStore(Sc).put(e,uS(t)),yield r.done}catch(n){if(n instanceof Yt)Dr.warn(n.message);else{let r=di.create("idb-set",{originalErrorMessage:n?.message});Dr.warn(r.message)}}})}function uS(t){return`${t.name}!${t.options.appId}`}var Nj=1024,xj=30*24*60*60*1e3,iv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new ov(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=sS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=xj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Dr.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=sS(),{heartbeatsToSend:r,unsentEntries:i}=Pj(this._heartbeatsCache.heartbeats),o=Cc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Dr.warn(n),""}})}};function sS(){return new Date().toISOString().substring(0,10)}function Pj(t,e=Nj){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),aS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),aS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var ov=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return zy()?WT().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Mj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return oS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return oS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function aS(t){return Cc(JSON.stringify({version:2,heartbeats:t})).length}function Oj(t){hi(new cn("platform-logger",e=>new Xy(e),"PRIVATE")),hi(new cn("heartbeat",e=>new iv(e),"PRIVATE")),tt(ev,rS,t),tt(ev,rS,"esm2017"),tt("fire-js","")}Oj("");var kj="firebase",Fj="10.14.1";tt(kj,Fj,"app");var so=new or("ANGULARFIRE2_VERSION");function Xd(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Rc=(t,e)=>{let n=e?[e]:Zd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ns=class{constructor(){return Rc(Vj)}},Vj="app-check";function Ms(){}var Jd=class{zone;delegate;constructor(e,n=vp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},av=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ms,{},Ms,Ms)),n.pipe(Ye({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},xs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Jd(Zone.current)),this.insideAngular=n.run(()=>new Jd(Zone.current,yp)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Z(Ce))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function eh(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Lj(t){return eh().ngZone.runOutsideAngular(()=>t())}function oo(t){return eh().ngZone.run(()=>t())}function jj(t){return Uj(eh())(t)}function Uj(t){return function(n){return n=n.lift(new av(t.ngZone)),n.pipe(Hr(t.outsideAngular),$r(t.insideAngular))}}var Bj=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),oo(()=>t.apply(void 0,r))},un=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=oo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ms,{},Ms,Ms))),r[o]=Bj(r[o],n));let i=Lj(()=>t.apply(this,r));if(!e)if(i instanceof me){let o=eh();return i.pipe(Hr(o.outsideAngular),$r(o.insideAngular))}else return oo(()=>i);return i instanceof me?i.pipe(jj):i instanceof Promise?oo(()=>new Promise((o,s)=>i.then(a=>oo(()=>o(a)),a=>oo(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:oo(()=>i)};var Cr=class{constructor(e){return e}},ao=class{constructor(){return Zd()}};function $j(t){return t&&t.length===1?t[0]:new Cr(Rs())}var cv=new B("angularfire2._apps"),Hj={provide:Cr,useFactory:$j,deps:[[new wt,cv]]},qj={provide:ao,deps:[[new wt,cv]]};function zj(t){return(e,n)=>{let r=n.get(Pn);tt("angularfire",so.full,"core"),tt("angularfire",so.full,"app"),tt("angular",nb.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Cr(i)}}function lS(t,...e){return Nn([Hj,qj,{provide:cv,useFactory:zj(t),multi:!0,deps:[Ce,ft,xs,...e]}])}var dS=un(sv,!0);function AS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var RS=AS,MS=new Er("auth","Firebase",AS());var sh=new li("@firebase/auth");function Gj(t,...e){sh.logLevel<=fe.WARN&&sh.warn(`Auth (${fi}): ${t}`,...e)}function nh(t,...e){sh.logLevel<=fe.ERROR&&sh.error(`Auth (${fi}): ${t}`,...e)}function jn(t,...e){throw Nv(t,...e)}function co(t,...e){return Nv(t,...e)}function NS(t,e,n){let r=Object.assign(Object.assign({},RS()),{[e]:n});return new Er("auth","Firebase",r).create(e,{appName:t.name})}function Sr(t){return NS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nv(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MS.create(t,...e)}function J(t,e,...n){if(!t)throw Nv(e,...n)}function br(t){let e="INTERNAL ASSERTION FAILED: "+t;throw nh(e),new Error(e)}function mi(t,e){t||br(e)}function hv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Wj(){return hS()==="http:"||hS()==="https:"}function hS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Kj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Wj()||HT()||"connection"in navigator)?navigator.onLine:!0}function Qj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var uo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,mi(n>e,"Short delay should be less than long delay!"),this.isMobile=BT()||qT()}get(){return Kj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function xv(t,e){mi(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ah=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Yj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Zj=new uo(3e4,6e4);function gi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ar(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){return xS(t,i,()=>_(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=bc(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);let v=Object.assign({method:e,headers:g},l);return $T()||(v.referrerPolicy="no-referrer"),ah.fetch()(PS(t,t.config.apiHost,n,p),v)}))})}function xS(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Yj),e);try{let i=new fv(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw th(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw th(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw th(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw NS(t,h,l);jn(t,h)}}catch(i){if(i instanceof Yt)throw i;jn(t,"network-request-failed",{message:String(i)})}})}function Fc(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield Ar(t,e,n,r,i);return"mfaPendingCredential"in l&&jn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function PS(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?xv(t.config,i):`${t.config.apiScheme}://${i}`}function Jj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var fv=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(co(this.auth,"network-request-failed")),Zj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function th(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=co(t,e,r);return i.customData._tokenResponse=n,i}function fS(t){return t!==void 0&&t.enterprise!==void 0}var pv=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Jj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function Xj(t,e){return _(this,null,function*(){return Ar(t,"GET","/v2/recaptchaConfig",gi(t,e))})}function eU(t,e){return _(this,null,function*(){return Ar(t,"POST","/v1/accounts:delete",e)})}function OS(t,e){return _(this,null,function*(){return Ar(t,"POST","/v1/accounts:lookup",e)})}function Mc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Pv(t,e=!1){return _(this,null,function*(){let n=Ot(t),r=yield n.getIdToken(e),i=Ov(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Mc(uv(i.auth_time)),issuedAtTime:Mc(uv(i.iat)),expirationTime:Mc(uv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function uv(t){return Number(t)*1e3}function Ov(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{let i=By(n);return i?JSON.parse(i):(nh("Failed to decode base64 JWT payload"),null)}catch(i){return nh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function pS(t){let e=Ov(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ps(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Yt&&tU(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function tU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var mv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var xc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mc(this.lastLoginAt),this.creationTime=Mc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ch(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ps(t,OS(n,{idToken:r}));J(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?kS(o.providerUserInfo):[],a=nU(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new xc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function kv(t){return _(this,null,function*(){let e=Ot(t);yield ch(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function nU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kS(t){return t.map(e=>{var{providerId:n}=e,r=_p(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function rU(t,e){return _(this,null,function*(){let n=yield xS(t,{},()=>_(this,null,function*(){let r=bc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=PS(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ah.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function iU(t,e){return _(this,null,function*(){return Ar(t,"POST","/v2/accounts:revokeToken",gi(t,e))})}var Nc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");let n=pS(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield rU(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(J(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(J(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return br("not implemented")}};function pi(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Os=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=_p(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield Ps(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Pv(this,e)}reload(){return kv(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield ch(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(_n(this.auth.app))return Promise.reject(Sr(this.auth));let e=yield this.getIdToken();return yield Ps(this,eU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,v=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=n.photoURL)!==null&&s!==void 0?s:void 0,P=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,j=(l=n.createdAt)!==null&&l!==void 0?l:void 0,H=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:W,emailVerified:oe,isAnonymous:xe,providerData:ne,stsTokenManager:D}=n;J(W&&D,e,"internal-error");let y=Nc.fromJSON(this.name,D);J(typeof W=="string",e,"internal-error"),pi(p,e.name),pi(g,e.name),J(typeof oe=="boolean",e,"internal-error"),J(typeof xe=="boolean",e,"internal-error"),pi(v,e.name),pi(A,e.name),pi(P,e.name),pi(x,e.name),pi(j,e.name),pi(H,e.name);let I=new t({uid:W,auth:e,email:g,emailVerified:oe,displayName:p,isAnonymous:xe,photoURL:A,phoneNumber:v,tenantId:P,stsTokenManager:y,createdAt:j,lastLoginAt:H});return ne&&Array.isArray(ne)&&(I.providerData=ne.map(E=>Object.assign({},E))),x&&(I._redirectEventId=x),I}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new Nc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ch(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];J(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?kS(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Nc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new xc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var mS=new Map;function Tr(t){mi(t instanceof Function,"Expected a class definition");let e=mS.get(t);return e?(mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mS.set(t,e),e)}var oU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),gv=oU;function rh(t,e,n){return`firebase:${t}:${e}:${n}`}var uh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=rh(this.userKey,i.apiKey,o),this.fullPersistenceKey=rh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Os._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(Tr(gv),e,r);let i=(yield Promise.all(n.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Tr(gv),s=rh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=Os._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>_(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function gS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BS(e))return"Blackberry";if($S(e))return"Webos";if(VS(e))return"Safari";if((e.includes("chrome/")||LS(e))&&!e.includes("edge/"))return"Chrome";if(US(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function FS(t=ut()){return/firefox\//i.test(t)}function VS(t=ut()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LS(t=ut()){return/crios\//i.test(t)}function jS(t=ut()){return/iemobile/i.test(t)}function US(t=ut()){return/android/i.test(t)}function BS(t=ut()){return/blackberry/i.test(t)}function $S(t=ut()){return/webos/i.test(t)}function Fv(t=ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sU(t=ut()){var e;return Fv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aU(){return zT()&&document.documentMode===10}function HS(t=ut()){return Fv(t)||US(t)||$S(t)||BS(t)||/windows phone/i.test(t)||jS(t)}function qS(t,e=[]){let n;switch(t){case"Browser":n=gS(ut());break;case"Worker":n=`${gS(ut())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fi}/${r}`}var yv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function cU(n){return _(this,arguments,function*(t,e={}){return Ar(t,"GET","/v2/passwordPolicy",gi(t,e))})}var uU=6,vv=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:uU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var _v=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lh(this),this.idTokenSubscription=new lh(this),this.beforeStateQueue=new yv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Tr(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield uh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield OS(this,{idToken:e}),r=yield Os._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(_n(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Qj()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(_n(this.app))return Promise.reject(Sr(this));let n=e?Ot(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return _n(this.app)?Promise.reject(Sr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return _n(this.app)?Promise.reject(Sr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Tr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield cU(this),n=new vv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Er("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield iU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Tr(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=yield uh.create(this,[Tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Gj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ho(t){return Ot(t)}var lh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=QT(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var yh={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lU(t){yh=t}function zS(t){return yh.loadJS(t)}function dU(){return yh.recaptchaEnterpriseScript}function hU(){return yh.gapiScript}function GS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var fU="recaptcha-enterprise",pU="NO_RECAPTCHA",Iv=class{constructor(e){this.type=fU,this.auth=ho(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(this,null,function*(){Xj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new pv(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;fS(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(pU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&fS(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=dU();u.length!==0&&(u+=a),zS(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function yS(t,e,n,r=!1){return _(this,null,function*(){let i=new Iv(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function wv(t,e,n,r){return _(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield yS(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>_(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield yS(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function Vv(t,e){let n=Ac(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(ro(o,e??{}))return i;jn(i,"already-initialized")}return n.initialize({options:e})}function mU(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Tr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Lv(t,e,n){let r=ho(t);J(r._canInitEmulator,r,"emulator-config-failed"),J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=WS(e),{host:s,port:a}=gU(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||yU()}function WS(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gU(t){let e=WS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:vS(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:vS(s)}}}function vS(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function yU(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Pc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,n){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}};function vU(t,e){return _(this,null,function*(){return Ar(t,"POST","/v1/accounts:signUp",e)})}function _U(t,e){return _(this,null,function*(){return Fc(t,"POST","/v1/accounts:signInWithPassword",gi(t,e))})}function IU(t,e){return _(this,null,function*(){return Fc(t,"POST","/v1/accounts:signInWithEmailLink",gi(t,e))})}function wU(t,e){return _(this,null,function*(){return Fc(t,"POST","/v1/accounts:signInWithEmailLink",gi(t,e))})}var Oc=class t extends Pc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wv(e,n,"signInWithPassword",_U);case"emailLink":return IU(e,{email:this._email,oobCode:this._password});default:jn(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wv(e,r,"signUpPassword",vU);case"emailLink":return wU(e,{idToken:n,email:this._email,oobCode:this._password});default:jn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function lv(t,e){return _(this,null,function*(){return Fc(t,"POST","/v1/accounts:signInWithIdp",gi(t,e))})}function EU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DU(t){let e=Ss(As(t)).link,n=e?Ss(As(e)).deep_link_id:null,r=Ss(As(t)).deep_link_id;return(r?Ss(As(r)).link:null)||r||n||e||t}var dh=class t{constructor(e){var n,r,i,o,s,a;let u=Ss(As(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=EU((i=u.mode)!==null&&i!==void 0?i:null);J(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=DU(e);try{return new t(n)}catch{return null}}};var KS=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Oc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=dh.parseLink(r);return J(i,"argument-error"),Oc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),hh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ev=class extends hh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function CU(t,e){return _(this,null,function*(){return Fc(t,"POST","/v1/accounts:signUp",gi(t,e))})}var ks=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield Os._fromIdTokenResponse(e,r,i),s=_S(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=_S(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function _S(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Dv=class t extends Yt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function QS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Dv._fromErrorAndOperation(t,o,e,r):o})}function bU(t,e,n=!1){return _(this,null,function*(){let r=yield Ps(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ks._forOperation(t,"link",r)})}function TU(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(_n(r.app))return Promise.reject(Sr(r));let i="reauthenticate";try{let o=yield Ps(t,QS(r,i,e,t),n);J(o.idToken,r,"internal-error");let s=Ov(o.idToken);J(s,r,"internal-error");let{sub:a}=s;return J(t.uid===a,r,"user-mismatch"),ks._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&jn(r,"user-mismatch"),o}})}function YS(t,e,n=!1){return _(this,null,function*(){if(_n(t.app))return Promise.reject(Sr(t));let r="signIn",i=yield QS(t,r,e),o=yield ks._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function jv(t,e){return _(this,null,function*(){return YS(ho(t),e)})}function ZS(t){return _(this,null,function*(){let e=ho(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Uv(t,e,n){return _(this,null,function*(){if(_n(t.app))return Promise.reject(Sr(t));let r=ho(t),s=yield wv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CU).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&ZS(t),u}),a=yield ks._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Bv(t,e,n){return _n(t.app)?Promise.reject(Sr(t)):jv(Ot(t),KS.credential(e,n)).catch(r=>_(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&ZS(t),r}))}function SU(t,e){return _(this,null,function*(){return Ar(t,"POST","/v1/accounts:update",e)})}function $v(r,i){return _(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let o=Ot(t),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=yield Ps(o,SU(o.auth,a));o.displayName=u.displayName||null,o.photoURL=u.photoUrl||null;let l=o.providerData.find(({providerId:h})=>h==="password");l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),yield o._updateTokensIfNecessary(u)})}function Hv(t,e,n,r){return Ot(t).onIdTokenChanged(e,n,r)}function qv(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}var fh="__sak";var ph=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var AU=1e3,RU=10,MU=(()=>{class t extends ph{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HS(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);aU()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,RU):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},AU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield Ur(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield Ur(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield Ur(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),JS=MU;var NU=(()=>{class t extends ph{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),zv=NU;function xU(t){return Promise.all(t.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var PU=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield xU(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function XS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Cv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=XS("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Ln(){return window}function OU(t){Ln().location.href=t}function eA(){return typeof Ln().WorkerGlobalScope<"u"&&typeof Ln().importScripts=="function"}function kU(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function FU(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function VU(){return eA()?self:null}var tA="firebaseLocalStorageDb",LU=1,mh="firebaseLocalStorage",nA="fbase_key",lo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function vh(t,e){return t.transaction([mh],e?"readwrite":"readonly").objectStore(mh)}function jU(){let t=indexedDB.deleteDatabase(tA);return new lo(t).toPromise()}function bv(){let t=indexedDB.open(tA,LU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(mh,{keyPath:nA})}catch(i){n(i)}}),t.addEventListener("success",()=>_(this,null,function*(){let r=t.result;r.objectStoreNames.contains(mh)?e(r):(r.close(),yield jU(),e(yield bv()))}))})}function IS(t,e,n){return _(this,null,function*(){let r=vh(t,!0).put({[nA]:e,value:n});return new lo(r).toPromise()})}function UU(t,e){return _(this,null,function*(){let n=vh(t,!1).get(e),r=yield new lo(n).toPromise();return r===void 0?null:r.value})}function wS(t,e){let n=vh(t,!0).delete(e);return new lo(n).toPromise()}var BU=800,$U=3,HU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield bv(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>$U)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return eA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=PU._getInstance(VU()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield kU(),!this.activeServiceWorker)return;this.sender=new Cv(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||FU()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield bv();return yield IS(n,fh,"1"),yield wS(n,fh),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>IS(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>UU(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>wS(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=vh(o,!1).getAll();return new lo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),BU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),rA=HU;var W8=GS("rcb"),K8=new uo(3e4,6e4);function qU(t,e){return e?Tr(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var kc=class extends Pc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lv(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lv(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lv(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function zU(t){return YS(t.auth,new kc(t),t.bypassAuthState)}function GU(t){let{auth:e,user:n}=t;return J(n,e,"internal-error"),TU(n,new kc(t),t.bypassAuthState)}function WU(t){return _(this,null,function*(){let{auth:e,user:n}=t;return J(n,e,"internal-error"),bU(n,new kc(t),t.bypassAuthState)})}var Tv=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zU;case"linkViaPopup":case"linkViaRedirect":return WU;case"reauthViaPopup":case"reauthViaRedirect":return GU;default:jn(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Q8=new uo(2e3,1e4);var KU="pendingRedirect",ih=new Map,Sv=class t extends Tv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=ih.get(this.auth._key());if(!e){try{let r=(yield QU(this.resolver,this.auth))?yield Ur(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return Ur(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ur(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function QU(t,e){return _(this,null,function*(){let n=JU(e),r=ZU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function YU(t,e){ih.set(t._key(),e)}function ZU(t){return Tr(t._redirectPersistence)}function JU(t){return rh(KU,t.config.apiKey,t.name)}function XU(t,e,n=!1){return _(this,null,function*(){if(_n(t.app))return Promise.reject(Sr(t));let r=ho(t),i=qU(r,e),s=yield new Sv(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var eB=10*60*1e3,Av=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!iA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(co(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eB&&this.cachedEventUids.clear(),this.cachedEventUids.has(ES(e))}saveEventToCache(e){this.cachedEventUids.add(ES(e)),this.lastProcessedEventTime=Date.now()}};function ES(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function tB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iA(t);default:return!1}}function nB(n){return _(this,arguments,function*(t,e={}){return Ar(t,"GET","/v1/projects",e)})}var rB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iB=/^https?/;function oB(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield nB(t);for(let n of e)try{if(sB(n))return}catch{}jn(t,"unauthorized-domain")})}function sB(t){let e=hv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!iB.test(n))return!1;if(rB.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var aB=new uo(3e4,6e4);function DS(){let t=Ln().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cB(t){return new Promise((e,n)=>{var r,i,o;function s(){DS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DS(),n(co(t,"network-request-failed"))},timeout:aB.get()})}if(!((i=(r=Ln().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ln().gapi)===null||o===void 0)&&o.load)s();else{let a=GS("iframefcb");return Ln()[a]=()=>{gapi.load?s():n(co(t,"network-request-failed"))},zS(`${hU()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw oh=null,e})}var oh=null;function uB(t){return oh=oh||cB(t),oh}var lB=new uo(5e3,15e3),dB="__/auth/iframe",hB="emulator/auth/iframe",fB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mB(t){let e=t.config;J(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?xv(e,hB):`https://${t.config.authDomain}/${dB}`,r={apiKey:e.apiKey,appName:t.name,v:fi},i=pB.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${bc(r).slice(1)}`}function gB(t){return _(this,null,function*(){let e=yield uB(t),n=Ln().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:mB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fB,dontclear:!0},r=>new Promise((i,o)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=co(t,"network-request-failed"),a=Ln().setTimeout(()=>{o(s)},lB.get());function u(){Ln().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var yB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vB=500,_B=600,IB="_blank",wB="http://localhost",gh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function EB(t,e,n,r=vB,i=_B){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},yB),{width:r.toString(),height:i.toString(),top:o,left:s}),l=ut().toLowerCase();n&&(a=LS(l)?IB:n),FS(l)&&(e=e||wB,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[v,A])=>`${g}${v}=${A},`,"");if(sU(l)&&a!=="_self")return DB(e||"",a),new gh(null);let p=window.open(e||"",a,h);J(p,t,"popup-blocked");try{p.focus()}catch{}return new gh(p)}function DB(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var CB="__/auth/handler",bB="emulator/auth/handler",TB=encodeURIComponent("fac");function CS(t,e,n,r,i,o){return _(this,null,function*(){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fi,eventId:i};if(e instanceof hh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",KT(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Ev){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${TB}=${encodeURIComponent(u)}`:"";return`${SB(t)}?${bc(a).slice(1)}${l}`})}function SB({config:t}){return t.emulator?xv(t,bB):`https://${t.authDomain}/${CB}`}var dv="webStorageSupport",Rv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zv,this._completeRedirectFn=XU,this._overrideRedirectResult=YU}_openPopup(e,n,r,i){return _(this,null,function*(){var o;mi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield CS(e,n,r,hv(),i);return EB(e,s,XS())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield CS(e,n,r,hv(),i);return OU(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(mi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield gB(e),r=new Av(e);return n.register("authEvent",i=>(J(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dv,{type:dv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[dv];s!==void 0&&n(!!s),jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HS()||VS()||Fv()}},oA=Rv;var bS="@firebase/auth",TS="1.7.9";var Mv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function AB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RB(t){hi(new cn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;J(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qS(t)},l=new _v(r,i,o,u);return mU(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hi(new cn("auth-internal",e=>{let n=ho(e.getProvider("auth").getImmediate());return(r=>new Mv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tt(bS,TS,AB(t)),tt(bS,TS,"esm2017")}var MB=5*60,NB=qy("authIdTokenMaxAge")||MB,SS=null,xB=t=>e=>_(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>NB)return;let i=n?.token;SS!==i&&(SS=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Gv(t=Rs()){let e=Ac(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Vv(t,{popupRedirectResolver:oA,persistence:[rA,JS,zv]}),r=qy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=xB(o.toString());qv(n,s,()=>s(n.currentUser)),Hv(n,a=>s(a))}}let i=$y("auth");return i&&Lv(n,`http://${i}`),n}function PB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}lU({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=co("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",PB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RB("Browser");var sA="auth",fo=class{constructor(e){return e}},Vc=class{constructor(){return Rc(sA)}};var Wv=new B("angularfire2.auth-instances");function D$(t,e){let n=Xd(sA,t,e);return n&&new fo(n)}function C$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new fo(r)}}var b$={provide:Vc,deps:[[new wt,Wv]]},T$={provide:fo,useFactory:D$,deps:[[new wt,Wv],Cr]};function aA(t,...e){return tt("angularfire",so.full,"auth"),Nn([T$,b$,{provide:Wv,useFactory:C$(t),multi:!0,deps:[Ce,ft,xs,ao,[new wt,Ns],...e]}])}var cA=un(Uv,!0);var uA=un(Gv,!0);var lA=un(Bv,!0);var dA=un($v,!0);var po={production:!1,firebaseConfig:{apiKey:"AIzaSyAduYKZZsZBfKgUO8Ow9OW_PvGDf7ap2sI",authDomain:"cartao-de-credito-29ebe.firebaseapp.com",projectId:"cartao-de-credito-29ebe",storageBucket:"cartao-de-credito-29ebe.firebasestorage.app",messagingSenderId:"59927673433",appId:"1:59927673433:web:3cca85919eee7173d00f48"}};var wA=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(z(On),z(Vt))}}static{this.\u0275dir=Fe({type:t})}}return t})(),Th=(()=>{class t extends wA{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ur(t)))(i||t)}})()}static{this.\u0275dir=Fe({type:t,features:[on]})}}return t})(),qc=new B("");var S$={provide:qc,useExisting:Mn(()=>Un),multi:!0};function A$(){let t=vr()?vr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var R$=new B(""),Un=(()=>{class t extends wA{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!A$())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(z(On),z(Vt),z(R$,8))}}static{this.\u0275dir=Fe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Le("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[ii([S$]),on]})}}return t})();function M$(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var Qv=new B(""),EA=new B("");function N$(t){return M$(t.value)?{required:!0}:null}function hA(t){return null}function DA(t){return t!=null}function CA(t){return Zi(t)?Ae(t):t}function bA(t){let e={};return t.forEach(n=>{e=n!=null?L(L({},e),n):e}),Object.keys(e).length===0?null:e}function TA(t,e){return e.map(n=>n(t))}function x$(t){return!t.validate}function SA(t){return t.map(e=>x$(e)?e:n=>e.validate(n))}function P$(t){if(!t)return null;let e=t.filter(DA);return e.length==0?null:function(n){return bA(TA(n,e))}}function Yv(t){return t!=null?P$(SA(t)):null}function O$(t){if(!t)return null;let e=t.filter(DA);return e.length==0?null:function(n){let r=TA(n,e).map(CA);return wp(r).pipe(le(bA))}}function Zv(t){return t!=null?O$(SA(t)):null}function fA(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function k$(t){return t._rawValidators}function F$(t){return t._rawAsyncValidators}function Kv(t){return t?Array.isArray(t)?t:[t]:[]}function Ih(t,e){return Array.isArray(t)?t.includes(e):t===e}function pA(t,e){let n=Kv(e);return Kv(t).forEach(i=>{Ih(n,i)||n.push(i)}),n}function mA(t,e){return Kv(e).filter(n=>!Ih(t,n))}var wh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Yv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Zv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ls=class extends wh{get formDirective(){return null}get path(){return null}},Hc=class extends wh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Eh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},V$={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Y7=de(L({},V$),{"[class.ng-submitted]":"isSubmitted"}),yi=(()=>{class t extends Eh{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(z(Hc,2))}}static{this.\u0275dir=Fe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&sd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[on]})}}return t})(),vi=(()=>{class t extends Eh{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(z(Ls,10))}}static{this.\u0275dir=Fe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&sd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[on]})}}return t})();var Lc="VALID",_h="INVALID",Fs="PENDING",jc="DISABLED",js=class{},Dh=class extends js{constructor(e,n){super(),this.value=e,this.source=n}},Bc=class extends js{constructor(e,n){super(),this.pristine=e,this.source=n}},$c=class extends js{constructor(e,n){super(),this.touched=e,this.source=n}},Vs=class extends js{constructor(e,n){super(),this.status=e,this.source=n}};function AA(t){return(Sh(t)?t.validators:t)||null}function L$(t){return Array.isArray(t)?Yv(t):t||null}function RA(t,e){return(Sh(e)?e.asyncValidators:t)||null}function j$(t){return Array.isArray(t)?Zv(t):t||null}function Sh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function U$(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new q(1e3,"");if(!r[n])throw new q(1001,"")}function B$(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new q(1002,"")})}var Ch=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ja(()=>this.statusReactive()),this.statusReactive=Qa(void 0),this._pristine=Ja(()=>this.pristineReactive()),this.pristineReactive=Qa(!0),this._touched=Ja(()=>this.touchedReactive()),this.touchedReactive=Qa(!1),this._events=new rt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return fr(this.statusReactive)}set status(e){fr(()=>this.statusReactive.set(e))}get valid(){return this.status===Lc}get invalid(){return this.status===_h}get pending(){return this.status==Fs}get disabled(){return this.status===jc}get enabled(){return this.status!==jc}get pristine(){return fr(this.pristineReactive)}set pristine(e){fr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return fr(this.touchedReactive)}set touched(e){fr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(pA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(pA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mA(e,this._rawAsyncValidators))}hasValidator(e){return Ih(this._rawValidators,e)}hasAsyncValidator(e){return Ih(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(de(L({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new $c(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new $c(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(de(L({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Bc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Bc(!0,r))}markAsPending(e={}){this.status=Fs;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Vs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(de(L({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=jc,this.errors=null,this._forEachChild(i=>{i.disable(de(L({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Dh(this.value,r)),this._events.next(new Vs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(de(L({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Lc,this._forEachChild(r=>{r.enable(de(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(de(L({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lc||this.status===Fs)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Dh(this.value,n)),this._events.next(new Vs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(de(L({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jc:Lc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Fs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=CA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Vs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Be,this.statusChanges=new Be}_calculateStatus(){return this._allControlsDisabled()?jc:this.errors?_h:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fs)?Fs:this._anyControlsHaveStatus(_h)?_h:Lc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Bc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new $c(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Sh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=L$(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=j$(this._rawAsyncValidators)}},bh=class extends Ch{constructor(e,n,r){super(AA(n),RA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){B$(this,!0,e),Object.keys(e).forEach(r=>{U$(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Jv=new B("CallSetDisabledState",{providedIn:"root",factory:()=>Xv}),Xv="always";function $$(t,e){return[...e.path,t]}function MA(t,e,n=Xv){NA(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),q$(t,e),G$(t,e),z$(t,e),H$(t,e)}function gA(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function H$(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function NA(t,e){let n=k$(t);e.validator!==null?t.setValidators(fA(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=F$(t);e.asyncValidator!==null?t.setAsyncValidators(fA(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();gA(e._rawValidators,i),gA(e._rawAsyncValidators,i)}function q$(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&xA(t,e)})}function z$(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&xA(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function xA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function G$(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function W$(t,e){t==null,NA(t,e)}function K$(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Q$(t){return Object.getPrototypeOf(t.constructor)===Th}function Y$(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Z$(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Un?n=o:Q$(o)?r=o:i=o}),i||r||n||null}var J$={provide:Ls,useExisting:Mn(()=>Rr)},Uc=Promise.resolve(),Rr=(()=>{class t extends Ls{get submitted(){return fr(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Ja(()=>this.submittedReactive()),this.submittedReactive=Qa(!1),this._directives=new Set,this.ngSubmit=new Be,this.form=new bh({},Yv(n),Zv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Uc.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),MA(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Uc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Uc.then(()=>{let r=this._findContainer(n.path),i=new bh({});W$(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Uc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Uc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),Y$(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(z(Qv,10),z(EA,10),z(Jv,8))}}static{this.\u0275dir=Fe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Le("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ii([J$]),on]})}}return t})();function yA(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function vA(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var X$=class extends Ch{constructor(e=null,n,r){super(AA(n),RA(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(vA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){yA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){yA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){vA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var eH={provide:Hc,useExisting:Mn(()=>Mr)},_A=Promise.resolve(),Mr=(()=>{class t extends Hc{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new X$,this._registered=!1,this.name="",this.update=new Be,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Z$(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),K$(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){MA(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){_A.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&si(r);_A.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?$$(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(z(Ls,9),z(Qv,10),z(EA,10),z(qc,10),z(oi,8),z(Jv,8))}}static{this.\u0275dir=Fe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ii([eH]),on,cr]})}}return t})(),_i=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Fe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),tH={provide:qc,useExisting:Mn(()=>e_),multi:!0},e_=(()=>{class t extends Th{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ur(t)))(i||t)}})()}static{this.\u0275dir=Fe({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Le("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[ii([tH]),on]})}}return t})();var nH={provide:qc,useExisting:Mn(()=>Ah),multi:!0};function PA(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function rH(t){return t.split(":")[0]}var Ah=(()=>{class t extends Th{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=PA(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=rH(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ur(t)))(i||t)}})()}static{this.\u0275dir=Fe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Le("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ii([nH]),on]})}}return t})(),OA=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(PA(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(z(Vt),z(On),z(Ah,9))}}static{this.\u0275dir=Fe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),iH={provide:qc,useExisting:Mn(()=>kA),multi:!0};function IA(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function oH(t){return t.split(":")[0]}var kA=(()=>{class t extends Th{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=oH(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ur(t)))(i||t)}})()}static{this.\u0275dir=Fe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Le("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ii([iH]),on]})}}return t})(),FA=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(IA(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(IA(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(z(Vt),z(On),z(kA,9))}}static{this.\u0275dir=Fe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var sH=(()=>{class t{constructor(){this._validator=hA}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):hA,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Fe({type:t,features:[cr]})}}return t})();var aH={provide:Qv,useExisting:Mn(()=>zc),multi:!0};var zc=(()=>{class t extends sH{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=si,this.createValidator=n=>N$}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ur(t)))(i||t)}})()}static{this.\u0275dir=Fe({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ya("required",i._enabled?"":null)},inputs:{required:"required"},features:[ii([aH]),on]})}}return t})();var cH=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ti({type:t})}static{this.\u0275inj=ei({})}}return t})();var Ii=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Jv,useValue:n.callSetDisabledState??Xv}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ti({type:t})}static{this.\u0275inj=ei({imports:[cH]})}}return t})();var Mh=class t{transform(e){if(!e)return e;let r=e.replace(/\D/g,"").match(/^(\d{2})(\d{5})(\d{4})$/);return r?`(${r[1]}) ${r[2]}-${r[3]}`:e}static \u0275fac=function(n){return new(n||t)};static \u0275pipe=ss({name:"phoneMask",type:t,pure:!0,standalone:!0})};var VA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},LA={};var wi,t_;(function(){var t;function e(D,y){function I(){}I.prototype=y.prototype,D.D=y.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(E,C,R){for(var w=Array(arguments.length-2),Qn=2;Qn<arguments.length;Qn++)w[Qn-2]=arguments[Qn];return y.prototype[C].apply(E,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,y,I){I||(I=0);var E=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)E[C]=y.charCodeAt(I++)|y.charCodeAt(I++)<<8|y.charCodeAt(I++)<<16|y.charCodeAt(I++)<<24;else for(C=0;16>C;++C)E[C]=y[I++]|y[I++]<<8|y[I++]<<16|y[I++]<<24;y=D.g[0],I=D.g[1],C=D.g[2];var R=D.g[3],w=y+(R^I&(C^R))+E[0]+3614090360&4294967295;y=I+(w<<7&4294967295|w>>>25),w=R+(C^y&(I^C))+E[1]+3905402710&4294967295,R=y+(w<<12&4294967295|w>>>20),w=C+(I^R&(y^I))+E[2]+606105819&4294967295,C=R+(w<<17&4294967295|w>>>15),w=I+(y^C&(R^y))+E[3]+3250441966&4294967295,I=C+(w<<22&4294967295|w>>>10),w=y+(R^I&(C^R))+E[4]+4118548399&4294967295,y=I+(w<<7&4294967295|w>>>25),w=R+(C^y&(I^C))+E[5]+1200080426&4294967295,R=y+(w<<12&4294967295|w>>>20),w=C+(I^R&(y^I))+E[6]+2821735955&4294967295,C=R+(w<<17&4294967295|w>>>15),w=I+(y^C&(R^y))+E[7]+4249261313&4294967295,I=C+(w<<22&4294967295|w>>>10),w=y+(R^I&(C^R))+E[8]+1770035416&4294967295,y=I+(w<<7&4294967295|w>>>25),w=R+(C^y&(I^C))+E[9]+2336552879&4294967295,R=y+(w<<12&4294967295|w>>>20),w=C+(I^R&(y^I))+E[10]+4294925233&4294967295,C=R+(w<<17&4294967295|w>>>15),w=I+(y^C&(R^y))+E[11]+2304563134&4294967295,I=C+(w<<22&4294967295|w>>>10),w=y+(R^I&(C^R))+E[12]+1804603682&4294967295,y=I+(w<<7&4294967295|w>>>25),w=R+(C^y&(I^C))+E[13]+4254626195&4294967295,R=y+(w<<12&4294967295|w>>>20),w=C+(I^R&(y^I))+E[14]+2792965006&4294967295,C=R+(w<<17&4294967295|w>>>15),w=I+(y^C&(R^y))+E[15]+1236535329&4294967295,I=C+(w<<22&4294967295|w>>>10),w=y+(C^R&(I^C))+E[1]+4129170786&4294967295,y=I+(w<<5&4294967295|w>>>27),w=R+(I^C&(y^I))+E[6]+3225465664&4294967295,R=y+(w<<9&4294967295|w>>>23),w=C+(y^I&(R^y))+E[11]+643717713&4294967295,C=R+(w<<14&4294967295|w>>>18),w=I+(R^y&(C^R))+E[0]+3921069994&4294967295,I=C+(w<<20&4294967295|w>>>12),w=y+(C^R&(I^C))+E[5]+3593408605&4294967295,y=I+(w<<5&4294967295|w>>>27),w=R+(I^C&(y^I))+E[10]+38016083&4294967295,R=y+(w<<9&4294967295|w>>>23),w=C+(y^I&(R^y))+E[15]+3634488961&4294967295,C=R+(w<<14&4294967295|w>>>18),w=I+(R^y&(C^R))+E[4]+3889429448&4294967295,I=C+(w<<20&4294967295|w>>>12),w=y+(C^R&(I^C))+E[9]+568446438&4294967295,y=I+(w<<5&4294967295|w>>>27),w=R+(I^C&(y^I))+E[14]+3275163606&4294967295,R=y+(w<<9&4294967295|w>>>23),w=C+(y^I&(R^y))+E[3]+4107603335&4294967295,C=R+(w<<14&4294967295|w>>>18),w=I+(R^y&(C^R))+E[8]+1163531501&4294967295,I=C+(w<<20&4294967295|w>>>12),w=y+(C^R&(I^C))+E[13]+2850285829&4294967295,y=I+(w<<5&4294967295|w>>>27),w=R+(I^C&(y^I))+E[2]+4243563512&4294967295,R=y+(w<<9&4294967295|w>>>23),w=C+(y^I&(R^y))+E[7]+1735328473&4294967295,C=R+(w<<14&4294967295|w>>>18),w=I+(R^y&(C^R))+E[12]+2368359562&4294967295,I=C+(w<<20&4294967295|w>>>12),w=y+(I^C^R)+E[5]+4294588738&4294967295,y=I+(w<<4&4294967295|w>>>28),w=R+(y^I^C)+E[8]+2272392833&4294967295,R=y+(w<<11&4294967295|w>>>21),w=C+(R^y^I)+E[11]+1839030562&4294967295,C=R+(w<<16&4294967295|w>>>16),w=I+(C^R^y)+E[14]+4259657740&4294967295,I=C+(w<<23&4294967295|w>>>9),w=y+(I^C^R)+E[1]+2763975236&4294967295,y=I+(w<<4&4294967295|w>>>28),w=R+(y^I^C)+E[4]+1272893353&4294967295,R=y+(w<<11&4294967295|w>>>21),w=C+(R^y^I)+E[7]+4139469664&4294967295,C=R+(w<<16&4294967295|w>>>16),w=I+(C^R^y)+E[10]+3200236656&4294967295,I=C+(w<<23&4294967295|w>>>9),w=y+(I^C^R)+E[13]+681279174&4294967295,y=I+(w<<4&4294967295|w>>>28),w=R+(y^I^C)+E[0]+3936430074&4294967295,R=y+(w<<11&4294967295|w>>>21),w=C+(R^y^I)+E[3]+3572445317&4294967295,C=R+(w<<16&4294967295|w>>>16),w=I+(C^R^y)+E[6]+76029189&4294967295,I=C+(w<<23&4294967295|w>>>9),w=y+(I^C^R)+E[9]+3654602809&4294967295,y=I+(w<<4&4294967295|w>>>28),w=R+(y^I^C)+E[12]+3873151461&4294967295,R=y+(w<<11&4294967295|w>>>21),w=C+(R^y^I)+E[15]+530742520&4294967295,C=R+(w<<16&4294967295|w>>>16),w=I+(C^R^y)+E[2]+3299628645&4294967295,I=C+(w<<23&4294967295|w>>>9),w=y+(C^(I|~R))+E[0]+4096336452&4294967295,y=I+(w<<6&4294967295|w>>>26),w=R+(I^(y|~C))+E[7]+1126891415&4294967295,R=y+(w<<10&4294967295|w>>>22),w=C+(y^(R|~I))+E[14]+2878612391&4294967295,C=R+(w<<15&4294967295|w>>>17),w=I+(R^(C|~y))+E[5]+4237533241&4294967295,I=C+(w<<21&4294967295|w>>>11),w=y+(C^(I|~R))+E[12]+1700485571&4294967295,y=I+(w<<6&4294967295|w>>>26),w=R+(I^(y|~C))+E[3]+2399980690&4294967295,R=y+(w<<10&4294967295|w>>>22),w=C+(y^(R|~I))+E[10]+4293915773&4294967295,C=R+(w<<15&4294967295|w>>>17),w=I+(R^(C|~y))+E[1]+2240044497&4294967295,I=C+(w<<21&4294967295|w>>>11),w=y+(C^(I|~R))+E[8]+1873313359&4294967295,y=I+(w<<6&4294967295|w>>>26),w=R+(I^(y|~C))+E[15]+4264355552&4294967295,R=y+(w<<10&4294967295|w>>>22),w=C+(y^(R|~I))+E[6]+2734768916&4294967295,C=R+(w<<15&4294967295|w>>>17),w=I+(R^(C|~y))+E[13]+1309151649&4294967295,I=C+(w<<21&4294967295|w>>>11),w=y+(C^(I|~R))+E[4]+4149444226&4294967295,y=I+(w<<6&4294967295|w>>>26),w=R+(I^(y|~C))+E[11]+3174756917&4294967295,R=y+(w<<10&4294967295|w>>>22),w=C+(y^(R|~I))+E[2]+718787259&4294967295,C=R+(w<<15&4294967295|w>>>17),w=I+(R^(C|~y))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+y&4294967295,D.g[1]=D.g[1]+(C+(w<<21&4294967295|w>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+R&4294967295}r.prototype.u=function(D,y){y===void 0&&(y=D.length);for(var I=y-this.blockSize,E=this.B,C=this.h,R=0;R<y;){if(C==0)for(;R<=I;)i(this,D,R),R+=this.blockSize;if(typeof D=="string"){for(;R<y;)if(E[C++]=D.charCodeAt(R++),C==this.blockSize){i(this,E),C=0;break}}else for(;R<y;)if(E[C++]=D[R++],C==this.blockSize){i(this,E),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var y=1;y<D.length-8;++y)D[y]=0;var I=8*this.o;for(y=D.length-8;y<D.length;++y)D[y]=I&255,I/=256;for(this.u(D),D=Array(16),y=I=0;4>y;++y)for(var E=0;32>E;E+=8)D[I++]=this.g[y]>>>E&255;return D};function o(D,y){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=y(D)}function s(D,y){this.h=y;for(var I=[],E=!0,C=D.length-1;0<=C;C--){var R=D[C]|0;E&&R==y||(I[C]=R,E=!1)}this.g=I}var a={};function u(D){return-128<=D&&128>D?o(D,function(y){return new s([y|0],0>y?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return x(l(-D));for(var y=[],I=1,E=0;D>=I;E++)y[E]=D/I|0,I*=4294967296;return new s(y,0)}function h(D,y){if(D.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(D.charAt(0)=="-")return x(h(D.substring(1),y));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(y,8)),E=p,C=0;C<D.length;C+=8){var R=Math.min(8,D.length-C),w=parseInt(D.substring(C,C+R),y);8>R?(R=l(Math.pow(y,R)),E=E.j(R).add(l(w))):(E=E.j(I),E=E.add(l(w)))}return E}var p=u(0),g=u(1),v=u(16777216);t=s.prototype,t.m=function(){if(P(this))return-x(this).m();for(var D=0,y=1,I=0;I<this.g.length;I++){var E=this.i(I);D+=(0<=E?E:4294967296+E)*y,y*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(P(this))return"-"+x(this).toString(D);for(var y=l(Math.pow(D,6)),I=this,E="";;){var C=oe(I,y).g;I=j(I,C.j(y));var R=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=C,A(I))return R+E;for(;6>R.length;)R="0"+R;E=R+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var y=0;y<D.g.length;y++)if(D.g[y]!=0)return!1;return!0}function P(D){return D.h==-1}t.l=function(D){return D=j(this,D),P(D)?-1:A(D)?0:1};function x(D){for(var y=D.g.length,I=[],E=0;E<y;E++)I[E]=~D.g[E];return new s(I,~D.h).add(g)}t.abs=function(){return P(this)?x(this):this},t.add=function(D){for(var y=Math.max(this.g.length,D.g.length),I=[],E=0,C=0;C<=y;C++){var R=E+(this.i(C)&65535)+(D.i(C)&65535),w=(R>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);E=w>>>16,R&=65535,w&=65535,I[C]=w<<16|R}return new s(I,I[I.length-1]&-2147483648?-1:0)};function j(D,y){return D.add(x(y))}t.j=function(D){if(A(this)||A(D))return p;if(P(this))return P(D)?x(this).j(x(D)):x(x(this).j(D));if(P(D))return x(this.j(x(D)));if(0>this.l(v)&&0>D.l(v))return l(this.m()*D.m());for(var y=this.g.length+D.g.length,I=[],E=0;E<2*y;E++)I[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<D.g.length;C++){var R=this.i(E)>>>16,w=this.i(E)&65535,Qn=D.i(C)>>>16,ha=D.i(C)&65535;I[2*E+2*C]+=w*ha,H(I,2*E+2*C),I[2*E+2*C+1]+=R*ha,H(I,2*E+2*C+1),I[2*E+2*C+1]+=w*Qn,H(I,2*E+2*C+1),I[2*E+2*C+2]+=R*Qn,H(I,2*E+2*C+2)}for(E=0;E<y;E++)I[E]=I[2*E+1]<<16|I[2*E];for(E=y;E<2*y;E++)I[E]=0;return new s(I,0)};function H(D,y){for(;(D[y]&65535)!=D[y];)D[y+1]+=D[y]>>>16,D[y]&=65535,y++}function W(D,y){this.g=D,this.h=y}function oe(D,y){if(A(y))throw Error("division by zero");if(A(D))return new W(p,p);if(P(D))return y=oe(x(D),y),new W(x(y.g),x(y.h));if(P(y))return y=oe(D,x(y)),new W(x(y.g),y.h);if(30<D.g.length){if(P(D)||P(y))throw Error("slowDivide_ only works with positive integers.");for(var I=g,E=y;0>=E.l(D);)I=xe(I),E=xe(E);var C=ne(I,1),R=ne(E,1);for(E=ne(E,2),I=ne(I,2);!A(E);){var w=R.add(E);0>=w.l(D)&&(C=C.add(I),R=w),E=ne(E,1),I=ne(I,1)}return y=j(D,C.j(y)),new W(C,y)}for(C=p;0<=D.l(y);){for(I=Math.max(1,Math.floor(D.m()/y.m())),E=Math.ceil(Math.log(I)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),R=l(I),w=R.j(y);P(w)||0<w.l(D);)I-=E,R=l(I),w=R.j(y);A(R)&&(R=g),C=C.add(R),D=j(D,w)}return new W(C,D)}t.A=function(D){return oe(this,D).h},t.and=function(D){for(var y=Math.max(this.g.length,D.g.length),I=[],E=0;E<y;E++)I[E]=this.i(E)&D.i(E);return new s(I,this.h&D.h)},t.or=function(D){for(var y=Math.max(this.g.length,D.g.length),I=[],E=0;E<y;E++)I[E]=this.i(E)|D.i(E);return new s(I,this.h|D.h)},t.xor=function(D){for(var y=Math.max(this.g.length,D.g.length),I=[],E=0;E<y;E++)I[E]=this.i(E)^D.i(E);return new s(I,this.h^D.h)};function xe(D){for(var y=D.g.length+1,I=[],E=0;E<y;E++)I[E]=D.i(E)<<1|D.i(E-1)>>>31;return new s(I,D.h)}function ne(D,y){var I=y>>5;y%=32;for(var E=D.g.length-I,C=[],R=0;R<E;R++)C[R]=0<y?D.i(R+I)>>>y|D.i(R+I+1)<<32-y:D.i(R+I);return new s(C,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,t_=LA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,wi=LA.Integer=s}).apply(typeof VA<"u"?VA:typeof self<"u"?self:typeof window<"u"?window:{});var Nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Nr={};var n_,uH,Us,r_,Gc,xh,i_,o_,s_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nh=="object"&&Nh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var b=c[m];if(!(b in f))break e;f=f[b]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,b={next:function(){if(!m&&f<c.length){var M=f++;return{value:d(M,c[M]),done:!1}}return m=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,m),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function A(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,b,M){for(var V=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)V[Se-2]=arguments[Se];return d.prototype[b].apply(m,V)}}function P(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function x(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let b=c.length||0,M=m.length||0;c.length=b+M;for(let V=0;V<M;V++)c[b+V]=m[V]}else c.push(m)}}class j{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function H(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var xe=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ne(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,m;for(let b=1;b<arguments.length;b++){m=arguments[b];for(f in m)c[f]=m[f];for(let M=0;M<I.length;M++)f=I[M],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function R(c){a.setTimeout(()=>{throw c},0)}function w(){var c=Rf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Qn{constructor(){this.h=this.g=null}add(d,f){let m=ha.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var ha=new j(()=>new NM,c=>c.reset());class NM{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let fa,pa=!1,Rf=new Qn,dw=()=>{let c=a.Promise.resolve(void 0);fa=()=>{c.then(xM)}};var xM=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){R(f)}var d=ha;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}pa=!1};function Fr(){this.s=this.s,this.C=this.C}Fr.prototype.s=!1,Fr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Fr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function gt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}gt.prototype.h=function(){this.defaultPrevented=!0};var PM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function ma(c,d){if(gt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(xe){e:{try{oe(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:OM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ma.aa.h.call(this)}}A(ma,gt);var OM={2:"touch",3:"pen",4:"mouse"};ma.prototype.h=function(){ma.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ga="closure_listenable_"+(1e6*Math.random()|0),kM=0;function FM(c,d,f,m,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=b,this.key=++kM,this.da=this.fa=!1}function gu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function yu(c){this.src=c,this.g={},this.h=0}yu.prototype.add=function(c,d,f,m,b){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var V=Nf(c,d,m,b);return-1<V?(d=c[V],f||(d.fa=!1)):(d=new FM(d,this.src,M,!!m,b),d.fa=f,c.push(d)),d};function Mf(c,d){var f=d.type;if(f in c.g){var m=c.g[f],b=Array.prototype.indexOf.call(m,d,void 0),M;(M=0<=b)&&Array.prototype.splice.call(m,b,1),M&&(gu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Nf(c,d,f,m){for(var b=0;b<c.length;++b){var M=c[b];if(!M.da&&M.listener==d&&M.capture==!!f&&M.ha==m)return b}return-1}var xf="closure_lm_"+(1e6*Math.random()|0),Pf={};function hw(c,d,f,m,b){if(m&&m.once)return pw(c,d,f,m,b);if(Array.isArray(d)){for(var M=0;M<d.length;M++)hw(c,d[M],f,m,b);return null}return f=Vf(f),c&&c[ga]?c.K(d,f,l(m)?!!m.capture:!!m,b):fw(c,d,f,!1,m,b)}function fw(c,d,f,m,b,M){if(!d)throw Error("Invalid event type");var V=l(b)?!!b.capture:!!b,Se=kf(c);if(Se||(c[xf]=Se=new yu(c)),f=Se.add(d,f,m,V,M),f.proxy)return f;if(m=VM(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)PM||(b=V),b===void 0&&(b=!1),c.addEventListener(d.toString(),m,b);else if(c.attachEvent)c.attachEvent(gw(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function VM(){function c(f){return d.call(c.src,c.listener,f)}let d=LM;return c}function pw(c,d,f,m,b){if(Array.isArray(d)){for(var M=0;M<d.length;M++)pw(c,d[M],f,m,b);return null}return f=Vf(f),c&&c[ga]?c.L(d,f,l(m)?!!m.capture:!!m,b):fw(c,d,f,!0,m,b)}function mw(c,d,f,m,b){if(Array.isArray(d))for(var M=0;M<d.length;M++)mw(c,d[M],f,m,b);else m=l(m)?!!m.capture:!!m,f=Vf(f),c&&c[ga]?(c=c.i,d=String(d).toString(),d in c.g&&(M=c.g[d],f=Nf(M,f,m,b),-1<f&&(gu(M[f]),Array.prototype.splice.call(M,f,1),M.length==0&&(delete c.g[d],c.h--)))):c&&(c=kf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Nf(d,f,m,b)),(f=-1<c?d[c]:null)&&Of(f))}function Of(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ga])Mf(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(gw(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=kf(d))?(Mf(f,c),f.h==0&&(f.src=null,d[xf]=null)):gu(c)}}}function gw(c){return c in Pf?Pf[c]:Pf[c]="on"+c}function LM(c,d){if(c.da)c=!0;else{d=new ma(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&Of(c),c=f.call(m,d)}return c}function kf(c){return c=c[xf],c instanceof yu?c:null}var Ff="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vf(c){return typeof c=="function"?c:(c[Ff]||(c[Ff]=function(d){return c.handleEvent(d)}),c[Ff])}function yt(){Fr.call(this),this.i=new yu(this),this.M=this,this.F=null}A(yt,Fr),yt.prototype[ga]=!0,yt.prototype.removeEventListener=function(c,d,f,m){mw(this,c,d,f,m)};function Rt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new gt(d,c);else if(d instanceof gt)d.target=d.target||c;else{var b=d;d=new gt(m,c),E(d,b)}if(b=!0,f)for(var M=f.length-1;0<=M;M--){var V=d.g=f[M];b=vu(V,m,!0,d)&&b}if(V=d.g=c,b=vu(V,m,!0,d)&&b,b=vu(V,m,!1,d)&&b,f)for(M=0;M<f.length;M++)V=d.g=f[M],b=vu(V,m,!1,d)&&b}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)gu(f[m]);delete c.g[d],c.h--}}this.F=null},yt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},yt.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function vu(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,M=0;M<d.length;++M){var V=d[M];if(V&&!V.da&&V.capture==f){var Se=V.listener,dt=V.ha||V.src;V.fa&&Mf(c.i,V),b=Se.call(dt,m)!==!1&&b}}return b&&!m.defaultPrevented}function yw(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function vw(c){c.g=yw(()=>{c.g=null,c.i&&(c.i=!1,vw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class jM extends Fr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:vw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ya(c){Fr.call(this),this.h=c,this.g={}}A(ya,Fr);var _w=[];function Iw(c){ne(c.g,function(d,f){this.g.hasOwnProperty(f)&&Of(d)},c),c.g={}}ya.prototype.N=function(){ya.aa.N.call(this),Iw(this)},ya.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lf=a.JSON.stringify,UM=a.JSON.parse,BM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function jf(){}jf.prototype.h=null;function ww(c){return c.h||(c.h=c.i())}function Ew(){}var va={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Uf(){gt.call(this,"d")}A(Uf,gt);function Bf(){gt.call(this,"c")}A(Bf,gt);var Si={},Dw=null;function _u(){return Dw=Dw||new yt}Si.La="serverreachability";function Cw(c){gt.call(this,Si.La,c)}A(Cw,gt);function _a(c){let d=_u();Rt(d,new Cw(d))}Si.STAT_EVENT="statevent";function bw(c,d){gt.call(this,Si.STAT_EVENT,c),this.stat=d}A(bw,gt);function Mt(c){let d=_u();Rt(d,new bw(d,c))}Si.Ma="timingevent";function Tw(c,d){gt.call(this,Si.Ma,c),this.size=d}A(Tw,gt);function Ia(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function wa(){this.g=!0}wa.prototype.xa=function(){this.g=!1};function $M(c,d,f,m,b,M){c.info(function(){if(c.g)if(M)for(var V="",Se=M.split("&"),dt=0;dt<Se.length;dt++){var _e=Se[dt].split("=");if(1<_e.length){var vt=_e[0];_e=_e[1];var _t=vt.split("_");V=2<=_t.length&&_t[1]=="type"?V+(vt+"="+_e+"&"):V+(vt+"=redacted&")}}else V=null;else V=M;return"XMLHTTP REQ ("+m+") [attempt "+b+"]: "+d+`
`+f+`
`+V})}function HM(c,d,f,m,b,M,V){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+b+"]: "+d+`
`+f+`
`+M+" "+V})}function So(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+zM(c,f)+(m?" "+m:"")})}function qM(c,d){c.info(function(){return"TIMEOUT: "+d})}wa.prototype.info=function(){};function zM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var b=m[1];if(Array.isArray(b)&&!(1>b.length)){var M=b[0];if(M!="noop"&&M!="stop"&&M!="close")for(var V=1;V<b.length;V++)b[V]=""}}}}return Lf(f)}catch{return d}}var Iu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$f;function wu(){}A(wu,jf),wu.prototype.g=function(){return new XMLHttpRequest},wu.prototype.i=function(){return{}},$f=new wu;function Vr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new ya(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Aw}function Aw(){this.i=null,this.g="",this.h=!1}var Rw={},Hf={};function qf(c,d,f){c.L=1,c.v=bu(Yn(d)),c.m=f,c.P=!0,Mw(c,null)}function Mw(c,d){c.F=Date.now(),Eu(c),c.A=Yn(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),qw(f.i,"t",m),c.C=0,f=c.j.J,c.h=new Aw,c.g=cE(c.j,f?d:null,!c.m),0<c.O&&(c.M=new jM(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(_w[0]=b.toString()),b=_w);for(var M=0;M<b.length;M++){var V=hw(f,b[M],m||d.handleEvent,!1,d.h||d);if(!V)break;d.g[V.key]=V}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),_a(),$M(c.i,c.u,c.A,c.l,c.R,c.m)}Vr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Zn(c)==3?d.j():this.Y(c)},Vr.prototype.Y=function(c){try{if(c==this.g)e:{let _t=Zn(this.g);var d=this.g.Ba();let Mo=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||Zw(this.g)))){this.J||_t!=4||d==7||(d==8||0>=Mo?_a(3):_a(2)),zf(this);var f=this.g.Z();this.X=f;t:if(Nw(this)){var m=Zw(this.g);c="";var b=m.length,M=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ai(this),Ea(this);var V="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(M&&d==b-1)});m.length=0,this.h.g+=c,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=f==200,HM(this.i,this.u,this.A,this.l,this.R,_t,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,dt=this.g;if((Se=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Se)){var _e=Se;break t}}_e=null}if(f=_e)So(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gf(this,f);else{this.o=!1,this.s=3,Mt(12),Ai(this),Ea(this);break e}}if(this.P){f=!0;let ln;for(;!this.J&&this.C<V.length;)if(ln=GM(this,V),ln==Hf){_t==4&&(this.s=4,Mt(14),f=!1),So(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==Rw){this.s=4,Mt(15),So(this.i,this.l,V,"[Invalid Chunk]"),f=!1;break}else So(this.i,this.l,ln,null),Gf(this,ln);if(Nw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||V.length!=0||this.h.h||(this.s=1,Mt(16),f=!1),this.o=this.o&&f,!f)So(this.i,this.l,V,"[Invalid Chunked Response]"),Ai(this),Ea(this);else if(0<V.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),Jf(vt),vt.M=!0,Mt(11))}}else So(this.i,this.l,V,null),Gf(this,V);_t==4&&Ai(this),this.o&&!this.J&&(_t==4?iE(this.j,this):(this.o=!1,Eu(this)))}else uN(this.g),f==400&&0<V.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),Ai(this),Ea(this)}}}catch{}finally{}};function Nw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function GM(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Hf:(f=Number(d.substring(f,m)),isNaN(f)?Rw:(m+=1,m+f>d.length?Hf:(d=d.slice(m,m+f),c.C=m+f,d)))}Vr.prototype.cancel=function(){this.J=!0,Ai(this)};function Eu(c){c.S=Date.now()+c.I,xw(c,c.I)}function xw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ia(g(c.ba,c),d)}function zf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Vr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(qM(this.i,this.A),this.L!=2&&(_a(),Mt(17)),Ai(this),this.s=2,Ea(this)):xw(this,this.S-c)};function Ea(c){c.j.G==0||c.J||iE(c.j,c)}function Ai(c){zf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Iw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Gf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Wf(f.h,c))){if(!c.K&&Wf(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var b=m;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Mu(f),Au(f);else break e;Zf(f),Mt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ia(g(f.Za,f),6e3));if(1>=kw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Mi(f,11)}else if((c.K||f.g==c)&&Mu(f),!H(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let _e=b[d];if(f.T=_e[0],_e=_e[1],f.G==2)if(_e[0]=="c"){f.K=_e[1],f.ia=_e[2];let vt=_e[3];vt!=null&&(f.la=vt,f.j.info("VER="+f.la));let _t=_e[4];_t!=null&&(f.Aa=_t,f.j.info("SVER="+f.Aa));let Mo=_e[5];Mo!=null&&typeof Mo=="number"&&0<Mo&&(m=1.5*Mo,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let ln=c.g;if(ln){let xu=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xu){var M=m.h;M.g||xu.indexOf("spdy")==-1&&xu.indexOf("quic")==-1&&xu.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Kf(M,M.h),M.h=null))}if(m.D){let Xf=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Xf&&(m.ya=Xf,Pe(m.I,m.D,Xf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var V=c;if(m.qa=aE(m,m.J?m.ia:null,m.W),V.K){Fw(m.h,V);var Se=V,dt=m.L;dt&&(Se.I=dt),Se.B&&(zf(Se),Eu(Se)),m.g=V}else nE(m);0<f.i.length&&Ru(f)}else _e[0]!="stop"&&_e[0]!="close"||Mi(f,7);else f.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?Mi(f,7):Yf(f):_e[0]!="noop"&&f.l&&f.l.ta(_e),f.v=0)}}_a(4)}catch{}}var WM=class{constructor(c,d){this.g=c,this.map=d}};function Pw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ow(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function kw(c){return c.h?1:c.g?c.g.size:0}function Wf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Kf(c,d){c.g?c.g.add(d):c.h=d}function Fw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Pw.prototype.cancel=function(){if(this.i=Vw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Vw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return P(c.i)}function KM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function QM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function Lw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=QM(c),m=KM(c),b=m.length,M=0;M<b;M++)d.call(void 0,m[M],f&&f[M],c)}var jw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function YM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),b=null;if(0<=m){var M=c[f].substring(0,m);b=c[f].substring(m+1)}else M=c[f];d(M,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Ri(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ri){this.h=c.h,Du(this,c.j),this.o=c.o,this.g=c.g,Cu(this,c.s),this.l=c.l;var d=c.i,f=new ba;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Uw(this,f),this.m=c.m}else c&&(d=String(c).match(jw))?(this.h=!1,Du(this,d[1]||"",!0),this.o=Da(d[2]||""),this.g=Da(d[3]||"",!0),Cu(this,d[4]),this.l=Da(d[5]||"",!0),Uw(this,d[6]||"",!0),this.m=Da(d[7]||"")):(this.h=!1,this.i=new ba(null,this.h))}Ri.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ca(d,Bw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ca(d,Bw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ca(f,f.charAt(0)=="/"?XM:JM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ca(f,tN)),c.join("")};function Yn(c){return new Ri(c)}function Du(c,d,f){c.j=f?Da(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Cu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Uw(c,d,f){d instanceof ba?(c.i=d,nN(c.i,c.h)):(f||(d=Ca(d,eN)),c.i=new ba(d,c.h))}function Pe(c,d,f){c.i.set(d,f)}function bu(c){return Pe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Da(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ca(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,ZM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ZM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Bw=/[#\/\?@]/g,JM=/[#\?:]/g,XM=/[#\?]/g,eN=/[#\?@]/g,tN=/#/g;function ba(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Lr(c){c.g||(c.g=new Map,c.h=0,c.i&&YM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=ba.prototype,t.add=function(c,d){Lr(this),this.i=null,c=Ao(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function $w(c,d){Lr(c),d=Ao(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Hw(c,d){return Lr(c),d=Ao(c,d),c.g.has(d)}t.forEach=function(c,d){Lr(this),this.g.forEach(function(f,m){f.forEach(function(b){c.call(d,b,m,this)},this)},this)},t.na=function(){Lr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let b=c[m];for(let M=0;M<b.length;M++)f.push(d[m])}return f},t.V=function(c){Lr(this);let d=[];if(typeof c=="string")Hw(this,c)&&(d=d.concat(this.g.get(Ao(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Lr(this),this.i=null,c=Ao(this,c),Hw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function qw(c,d,f){$w(c,d),0<f.length&&(c.i=null,c.g.set(Ao(c,d),P(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let M=encodeURIComponent(String(m)),V=this.V(m);for(m=0;m<V.length;m++){var b=M;V[m]!==""&&(b+="="+encodeURIComponent(String(V[m]))),c.push(b)}}return this.i=c.join("&")};function Ao(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function nN(c,d){d&&!c.j&&(Lr(c),c.i=null,c.g.forEach(function(f,m){var b=m.toLowerCase();m!=b&&($w(this,m),qw(this,b,f))},c)),c.j=d}function rN(c,d){let f=new wa;if(a.Image){let m=new Image;m.onload=v(jr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=v(jr,f,"TestLoadImage: error",!1,d,m),m.onabort=v(jr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=v(jr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function iN(c,d){let f=new wa,m=new AbortController,b=setTimeout(()=>{m.abort(),jr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(M=>{clearTimeout(b),M.ok?jr(f,"TestPingServer: ok",!0,d):jr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),jr(f,"TestPingServer: error",!1,d)})}function jr(c,d,f,m,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),m(f)}catch{}}function oN(){this.g=new BM}function sN(c,d,f){let m=f||"";try{Lw(c,function(b,M){let V=b;l(b)&&(V=Lf(b)),d.push(m+M+"="+encodeURIComponent(V))})}catch(b){throw d.push(m+"type="+encodeURIComponent("_badmap")),b}}function Ta(c){this.l=c.Ub||null,this.j=c.eb||!1}A(Ta,jf),Ta.prototype.g=function(){return new Tu(this.l,this.j)},Ta.prototype.i=function(c){return function(){return c}}({});function Tu(c,d){yt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Tu,yt),t=Tu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Aa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sa(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Aa(this)),this.g&&(this.readyState=3,Aa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function zw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Sa(this):Aa(this),this.readyState==3&&zw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Sa(this))},t.Qa=function(c){this.g&&(this.response=c,Sa(this))},t.ga=function(){this.g&&Sa(this)};function Sa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Aa(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Aa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Tu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Gw(c){let d="";return ne(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Qf(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=Gw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Pe(c,d,f))}function je(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(je,yt);var aN=/^https?$/i,cN=["POST","PUT"];t=je.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$f.g(),this.v=this.o?ww(this.o):ww($f),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(M){Ww(this,M);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var b in m)f.set(b,m[b]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let M of m.keys())f.set(M,m.get(M));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(M=>M.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(cN,d,void 0))||m||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,V]of f)this.g.setRequestHeader(M,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yw(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){Ww(this,M)}};function Ww(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Kw(c),Su(c)}function Kw(c){c.A||(c.A=!0,Rt(c,"complete"),Rt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Rt(this,"complete"),Rt(this,"abort"),Su(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Su(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Qw(this):this.bb())},t.bb=function(){Qw(this)};function Qw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Zn(c)!=4||c.Z()!=2)){if(c.u&&Zn(c)==4)yw(c.Ea,0,c);else if(Rt(c,"readystatechange"),Zn(c)==4){c.h=!1;try{let V=c.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=V===0){var b=String(c.D).match(jw)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),m=!aN.test(b?b.toLowerCase():"")}f=m}if(f)Rt(c,"complete"),Rt(c,"success");else{c.m=6;try{var M=2<Zn(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",Kw(c)}}finally{Su(c)}}}}function Su(c,d){if(c.g){Yw(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Rt(c,"ready");try{f.onreadystatechange=m}catch{}}}function Yw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),UM(d)}};function Zw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function uN(c){let d={};c=(c.g&&2<=Zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(H(c[m]))continue;var f=C(c[m]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let M=d[b]||[];d[b]=M,M.push(f)}D(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ra(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Jw(c){this.Aa=0,this.i=[],this.j=new wa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ra("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ra("baseRetryDelayMs",5e3,c),this.cb=Ra("retryDelaySeedMs",1e4,c),this.Wa=Ra("forwardChannelMaxRetries",2,c),this.wa=Ra("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Pw(c&&c.concurrentRequestLimit),this.Da=new oN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Jw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,m){Mt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=aE(this,null,this.W),Ru(this)};function Yf(c){if(Xw(c),c.G==3){var d=c.U++,f=Yn(c.I);if(Pe(f,"SID",c.K),Pe(f,"RID",d),Pe(f,"TYPE","terminate"),Ma(c,f),d=new Vr(c,c.j,d),d.L=2,d.v=bu(Yn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=cE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Eu(d)}sE(c)}function Au(c){c.g&&(Jf(c),c.g.cancel(),c.g=null)}function Xw(c){Au(c),c.u&&(a.clearTimeout(c.u),c.u=null),Mu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ru(c){if(!Ow(c.h)&&!c.s){c.s=!0;var d=c.Ga;fa||dw(),pa||(fa(),pa=!0),Rf.add(d,c),c.B=0}}function lN(c,d){return kw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ia(g(c.Ga,c,d),oE(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new Vr(this,this.j,c),M=this.o;if(this.S&&(M?(M=y(M),E(M,this.S)):M=this.S),this.m!==null||this.O||(b.H=M,M=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=tE(this,b,d),f=Yn(this.I),Pe(f,"RID",c),Pe(f,"CVER",22),this.D&&Pe(f,"X-HTTP-Session-Id",this.D),Ma(this,f),M&&(this.O?d="headers="+encodeURIComponent(String(Gw(M)))+"&"+d:this.m&&Qf(f,this.m,M)),Kf(this.h,b),this.Ua&&Pe(f,"TYPE","init"),this.P?(Pe(f,"$req",d),Pe(f,"SID","null"),b.T=!0,qf(b,f,null)):qf(b,f,d),this.G=2}}else this.G==3&&(c?eE(this,c):this.i.length==0||Ow(this.h)||eE(this))};function eE(c,d){var f;d?f=d.l:f=c.U++;let m=Yn(c.I);Pe(m,"SID",c.K),Pe(m,"RID",f),Pe(m,"AID",c.T),Ma(c,m),c.m&&c.o&&Qf(m,c.m,c.o),f=new Vr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=tE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Kf(c.h,f),qf(f,m,d)}function Ma(c,d){c.H&&ne(c.H,function(f,m){Pe(d,m,f)}),c.l&&Lw({},function(f,m){Pe(d,m,f)})}function tE(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var b=c.i;let M=-1;for(;;){let V=["count="+f];M==-1?0<f?(M=b[0].g,V.push("ofs="+M)):M=0:V.push("ofs="+M);let Se=!0;for(let dt=0;dt<f;dt++){let _e=b[dt].g,vt=b[dt].map;if(_e-=M,0>_e)M=Math.max(0,b[dt].g-100),Se=!1;else try{sN(vt,V,"req"+_e+"_")}catch{m&&m(vt)}}if(Se){m=V.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function nE(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;fa||dw(),pa||(fa(),pa=!0),Rf.add(d,c),c.v=0}}function Zf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ia(g(c.Fa,c),oE(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,rE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ia(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),Au(this),rE(this))};function Jf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function rE(c){c.g=new Vr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Yn(c.qa);Pe(d,"RID","rpc"),Pe(d,"SID",c.K),Pe(d,"AID",c.T),Pe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Pe(d,"TO",c.ja),Pe(d,"TYPE","xmlhttp"),Ma(c,d),c.m&&c.o&&Qf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=bu(Yn(d)),f.m=null,f.P=!0,Mw(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Au(this),Zf(this),Mt(19))};function Mu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function iE(c,d){var f=null;if(c.g==d){Mu(c),Jf(c),c.g=null;var m=2}else if(Wf(c.h,d))f=d.D,Fw(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;m=_u(),Rt(m,new Tw(m,f)),Ru(c)}else nE(c);else if(b=d.s,b==3||b==0&&0<d.X||!(m==1&&lN(c,d)||m==2&&Zf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function oE(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Mi(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let b=!m;m=new Ri(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Du(m,"https"),bu(m),b?rN(m.toString(),f):iN(m.toString(),f)}else Mt(2);c.G=0,c.l&&c.l.sa(d),sE(c),Xw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function sE(c){if(c.G=0,c.ka=[],c.l){let d=Vw(c.h);(d.length!=0||c.i.length!=0)&&(x(c.ka,d),x(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function aE(c,d,f){var m=f instanceof Ri?Yn(f):new Ri(f);if(m.g!="")d&&(m.g=d+"."+m.g),Cu(m,m.s);else{var b=a.location;m=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var M=new Ri(null);m&&Du(M,m),d&&(M.g=d),b&&Cu(M,b),f&&(M.l=f),m=M}return f=c.D,d=c.ya,f&&d&&Pe(m,f,d),Pe(m,"VER",c.la),Ma(c,m),m}function cE(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new je(new Ta({eb:f})):new je(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function uE(){}t=uE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Nu(){}Nu.prototype.g=function(c,d){return new Ut(c,d)};function Ut(c,d){yt.call(this),this.g=new Jw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!H(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!H(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Ro(this)}A(Ut,yt),Ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){Yf(this.g)},Ut.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Lf(c),c=f);d.i.push(new WM(d.Ya++,c)),d.G==3&&Ru(d)},Ut.prototype.N=function(){this.g.l=null,delete this.j,Yf(this.g),delete this.g,Ut.aa.N.call(this)};function lE(c){Uf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}A(lE,Uf);function dE(){Bf.call(this),this.status=1}A(dE,Bf);function Ro(c){this.g=c}A(Ro,uE),Ro.prototype.ua=function(){Rt(this.g,"a")},Ro.prototype.ta=function(c){Rt(this.g,new lE(c))},Ro.prototype.sa=function(c){Rt(this.g,new dE)},Ro.prototype.ra=function(){Rt(this.g,"b")},Nu.prototype.createWebChannel=Nu.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,s_=Nr.createWebChannelTransport=function(){return new Nu},o_=Nr.getStatEventTarget=function(){return _u()},i_=Nr.Event=Si,xh=Nr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Iu.NO_ERROR=0,Iu.TIMEOUT=8,Iu.HTTP_ERROR=6,Gc=Nr.ErrorCode=Iu,Sw.COMPLETE="complete",r_=Nr.EventType=Sw,Ew.EventType=va,va.OPEN="a",va.CLOSE="b",va.ERROR="c",va.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Us=Nr.WebChannel=Ew,uH=Nr.FetchXmlHttpFactory=Ta,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,n_=Nr.XhrIo=je}).apply(typeof Nh<"u"?Nh:typeof self<"u"?self:typeof window<"u"?window:{});var jA="@firebase/firestore";var lt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};lt.UNAUTHENTICATED=new lt(null),lt.GOOGLE_CREDENTIALS=new lt("google-credentials-uid"),lt.FIRST_PARTY=new lt("first-party-uid"),lt.MOCK_USER=new lt("mock-user");var aa="10.14.0";var vo=new li("@firebase/firestore");function Wc(){return vo.logLevel}function U(t,...e){if(vo.logLevel<=fe.DEBUG){let n=e.map(HI);vo.debug(`Firestore (${aa}): ${t}`,...n)}}function xr(t,...e){if(vo.logLevel<=fe.ERROR){let n=e.map(HI);vo.error(`Firestore (${aa}): ${t}`,...n)}}function Ks(t,...e){if(vo.logLevel<=fe.WARN){let n=e.map(HI);vo.warn(`Firestore (${aa}): ${t}`,...n)}}function HI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function X(t="Unexpected state"){let e=`FIRESTORE (${aa}) INTERNAL ASSERTION FAILED: `+t;throw xr(e),new Error(e)}function Te(t,e){t||X()}function te(t,e){return t}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=class extends Yt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Hn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Vh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},d_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(lt.UNAUTHENTICATED))}shutdown(){}},h_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},f_=class{constructor(e){this.t=e,this.currentUser=lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Hn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Hn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Hn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string"),new Vh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new lt(e)}},p_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},m_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new p_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},g_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},y_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Te(this.o===void 0);let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string"),this.R=n.token,new g_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function lH(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Lh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=lH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function we(t,e){return t<e?-1:t>e?1:0}function Qs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var mt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ie=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new mt(0,0))}static max(){return new t(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var jh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(),r===void 0?r=e.length-n:r>e.length-n&&X(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},$e=class t extends jh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new G(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},dH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zt=class t extends jh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return dH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new G(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new G(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var K=class t{constructor(e){this.path=e}static fromPath(e){return new t($e.fromString(e))}static fromName(e){return new t($e.fromString(e).popFirst(5))}static empty(){return new t($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new $e(e.slice()))}};var v_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};v_.UNKNOWN_ID=-1;function hH(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new _o(i,K.empty(),e)}function fH(t){return new _o(t.readTime,t.key,-1)}var _o=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ie.min(),K.empty(),-1)}static max(){return new t(ie.max(),K.empty(),-1)}};function pH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}var mH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",__=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function du(t){return _(this,null,function*(){if(t.code!==O.FAILED_PRECONDITION||t.message!==mH)throw t;U("LocalStore","Unexpectedly lost primary lease")})}var F=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function gH(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hu(t){return t.name==="IndexedDbTransactionError"}var gR=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function pf(t){return t==null}function Xc(t){return t===0&&1/t==-1/0}function yH(t){return typeof t=="number"&&Number.isInteger(t)&&!Xc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var vH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],dK=[...vH,"documentOverlays"],_H=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],IH=_H,wH=[...IH,"indexConfiguration","indexState","indexEntries"];var hK=[...wH,"globals"];function UA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ca(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var He=class t{constructor(e,n){this.comparator=e,this.root=n||qn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qs(this.root,e,this.comparator,!1)}getReverseIterator(){return new qs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qs(this.root,e,this.comparator,!0)}},qs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},qn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();let e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}};qn.EMPTY=null,qn.RED=!0,qn.BLACK=!1;qn.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,n,r,i,o){return this}insert(e,n,r){return new qn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var St=class t{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uh(this.data.getIterator())}getIteratorFrom(e){return new Uh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Uh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var $n=class t{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new t([])}unionWith(e){let n=new St(Zt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Bh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var At=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Bh("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};At.EMPTY_BYTE_STRING=new At("");var EH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(t){if(Te(!!t),typeof t=="string"){let e=0,n=EH.exec(t);if(Te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ke(t.seconds),nanos:ke(t.nanos)}}function ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Di(t){return typeof t=="string"?At.fromBase64String(t):At.fromUint8Array(t)}function qI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function zI(t){let e=t.mapValue.fields.__previous_value__;return qI(e)?zI(e):e}function eu(t){let e=Pr(t.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}var I_=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},$h=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ph={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qI(t)?4:_R(t)?9007199254740991:vR(t)?10:11:X()}function Wn(t,e){if(t===e)return!0;let n=Io(t);if(n!==Io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eu(t).isEqual(eu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Pr(i.timestampValue),a=Pr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Di(i.bytesValue).isEqual(Di(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ke(i.geoPointValue.latitude)===ke(o.geoPointValue.latitude)&&ke(i.geoPointValue.longitude)===ke(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ke(i.integerValue)===ke(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ke(i.doubleValue),a=ke(o.doubleValue);return s===a?Xc(s)===Xc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Qs(t.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(UA(s)!==UA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Wn(s[u],a[u])))return!1;return!0}(t,e);default:return X()}}function tu(t,e){return(t.values||[]).find(n=>Wn(n,e))!==void 0}function Ys(t,e){if(t===e)return 0;let n=Io(t),r=Io(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ke(o.integerValue||o.doubleValue),u=ke(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return BA(t.timestampValue,e.timestampValue);case 4:return BA(eu(t),eu(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Di(o),u=Di(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=we(a[l],u[l]);if(h!==0)return h}return we(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=we(ke(o.latitude),ke(s.latitude));return a!==0?a:we(ke(o.longitude),ke(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return $A(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,A=(u=g.value)===null||u===void 0?void 0:u.arrayValue,P=we(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=A?.values)===null||h===void 0?void 0:h.length)||0);return P!==0?P:$A(v,A)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Ph.mapValue&&s===Ph.mapValue)return 0;if(o===Ph.mapValue)return 1;if(s===Ph.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=we(u[p],h[p]);if(g!==0)return g;let v=Ys(a[u[p]],l[h[p]]);if(v!==0)return v}return we(u.length,h.length)}(t.mapValue,e.mapValue);default:throw X()}}function BA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);let n=Pr(t),r=Pr(e),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function $A(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Ys(n[i],r[i]);if(o)return o}return we(n.length,r.length)}function Zs(t){return w_(t)}function w_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Pr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Di(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=w_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${w_(n.fields[s])}`;return i+"}"}(t.mapValue):X()}function E_(t){return!!t&&"integerValue"in t}function GI(t){return!!t&&"arrayValue"in t}function HA(t){return!!t&&"nullValue"in t}function qA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kh(t){return!!t&&"mapValue"in t}function vR(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Qc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ca(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _R(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var In=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!kh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qc(n)}setAll(e){let n=Zt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Qc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());kh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];kh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ca(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Qc(this.value))}};function IR(t){let e=[];return ca(t.fields,(n,r)=>{let i=new Zt([n]);if(kh(r)){let o=IR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new $n(e)}var En=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ie.min(),ie.min(),ie.min(),In.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ie.min(),ie.min(),In.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ie.min(),ie.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Js=class{constructor(e,n){this.position=e,this.inclusive=n}};function zA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=K.comparator(K.fromName(s.referenceValue),n.key):r=Ys(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function GA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wn(t.position[n],e.position[n]))return!1;return!0}var Xs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function DH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Hh=class{},nt=class t extends Hh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new C_(e,n,r):n==="array-contains"?new S_(e,r):n==="in"?new A_(e,r):n==="not-in"?new R_(e,r):n==="array-contains-any"?new M_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new b_(e,r):new T_(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ys(n,this.value)):n!==null&&Io(this.value)===Io(n)&&this.matchesComparison(Ys(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Kn=class t extends Hh{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return wR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function wR(t){return t.op==="and"}function ER(t){return CH(t)&&wR(t)}function CH(t){for(let e of t.filters)if(e instanceof Kn)return!1;return!0}function D_(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+Zs(t.value);if(ER(t))return t.filters.map(e=>D_(e)).join(",");{let e=t.filters.map(n=>D_(n)).join(",");return`${t.op}(${e})`}}function DR(t,e){return t instanceof nt?function(r,i){return i instanceof nt&&r.op===i.op&&r.field.isEqual(i.field)&&Wn(r.value,i.value)}(t,e):t instanceof Kn?function(r,i){return i instanceof Kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&DR(s,i.filters[a]),!0):!1}(t,e):void X()}function CR(t){return t instanceof nt?function(n){return`${n.field.canonicalString()} ${n.op} ${Zs(n.value)}`}(t):t instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(CR).join(" ,")+"}"}(t):"Filter"}var C_=class extends nt{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){let n=K.comparator(e.key,this.key);return this.matchesComparison(n)}},b_=class extends nt{constructor(e,n){super(e,"in",n),this.keys=bR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},T_=class extends nt{constructor(e,n){super(e,"not-in",n),this.keys=bR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function bR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}var S_=class extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return GI(n)&&tu(n.arrayValue,this.value)}},A_=class extends nt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}},R_=class extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!tu(this.value.arrayValue,n)}},M_=class extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!GI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>tu(this.value.arrayValue,r))}};var N_=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function WA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new N_(t,e,n,r,i,o,s)}function WI(t){let e=te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>D_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),pf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zs(r)).join(",")),e.ue=n}return e.ue}function KI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!DR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!GA(t.startAt,e.startAt)&&GA(t.endAt,e.endAt)}function x_(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ea=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function bH(t,e,n,r,i,o,s,a){return new ea(t,e,n,r,i,o,s,a)}function TR(t){return new ea(t)}function KA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TH(t){return t.collectionGroup!==null}function Yc(t){let e=te(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new St(Zt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Xs(o,r))}),n.has(Zt.keyField().canonicalString())||e.ce.push(new Xs(Zt.keyField(),r))}return e.ce}function zn(t){let e=te(t);return e.le||(e.le=SH(e,Yc(t))),e.le}function SH(t,e){if(t.limitType==="F")return WA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Xs(i.field,o)});let n=t.endAt?new Js(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Js(t.startAt.position,t.startAt.inclusive):null;return WA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function P_(t,e,n){return new ea(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mf(t,e){return KI(zn(t),zn(e))&&t.limitType===e.limitType}function SR(t){return`${WI(zn(t))}|lt:${t.limitType}`}function Bs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>CR(i)).join(", ")}]`),pf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Zs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Zs(i)).join(",")),`Target(${r})`}(zn(t))}; limitType=${t.limitType})`}function gf(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):K.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Yc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=zA(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Yc(r),i)||r.endAt&&!function(s,a,u){let l=zA(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Yc(r),i))}(t,e)}function AH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function AR(t){return(e,n)=>{let r=!1;for(let i of Yc(t)){let o=RH(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function RH(t,e,n){let r=t.field.isKeyField()?K.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Ys(u,l):X()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}var Ci=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return yR(this.inner)}size(){return this.innerSize}};var MH=new He(K.comparator);function Or(){return MH}var RR=new He(K.comparator);function Kc(...t){let e=RR;for(let n of t)e=e.insert(n.key,n);return e}function MR(t){let e=RR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mo(){return Zc()}function NR(){return Zc()}function Zc(){return new Ci(t=>t.toString(),(t,e)=>t.isEqual(e))}var NH=new He(K.comparator),xH=new St(K.comparator);function pe(...t){let e=xH;for(let n of t)e=e.add(n);return e}var PH=new St(we);function OH(){return PH}function QI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(e)?"-0":e}}function xR(t){return{integerValue:""+t}}function kH(t,e){return yH(e)?xR(e):QI(t,e)}var ta=class{constructor(){this._=void 0}};function FH(t,e,n){return t instanceof na?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&qI(o)&&(o=zI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof wo?OR(t,e):t instanceof Eo?kR(t,e):function(i,o){let s=PR(i,o),a=QA(s)+QA(i.Pe);return E_(s)&&E_(i.Pe)?xR(a):QI(i.serializer,a)}(t,e)}function VH(t,e,n){return t instanceof wo?OR(t,e):t instanceof Eo?kR(t,e):n}function PR(t,e){return t instanceof ra?function(r){return E_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var na=class extends ta{},wo=class extends ta{constructor(e){super(),this.elements=e}};function OR(t,e){let n=FR(e);for(let r of t.elements)n.some(i=>Wn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Eo=class extends ta{constructor(e){super(),this.elements=e}};function kR(t,e){let n=FR(e);for(let r of t.elements)n=n.filter(i=>!Wn(i,r));return{arrayValue:{values:n}}}var ra=class extends ta{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function QA(t){return ke(t.integerValue||t.doubleValue)}function FR(t){return GI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function LH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof wo&&i instanceof wo||r instanceof Eo&&i instanceof Eo?Qs(r.elements,i.elements,Wn):r instanceof ra&&i instanceof ra?Wn(r.Pe,i.Pe):r instanceof na&&i instanceof na}(t.transform,e.transform)}var O_=class{constructor(e,n){this.version=e,this.transformResults=n}},yo=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Fh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ia=class{};function VR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qh(t.key,yo.none()):new Do(t.key,t.data,yo.none());{let n=t.data,r=In.empty(),i=new St(Zt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new kr(t.key,r,new $n(i.toArray()),yo.none())}}function jH(t,e,n){t instanceof Do?function(i,o,s){let a=i.value.clone(),u=ZA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof kr?function(i,o,s){if(!Fh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=ZA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(LR(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Jc(t,e,n,r){return t instanceof Do?function(o,s,a,u){if(!Fh(o.precondition,s))return a;let l=o.value.clone(),h=JA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof kr?function(o,s,a,u){if(!Fh(o.precondition,s))return a;let l=JA(o.fieldTransforms,u,s),h=s.data;return h.setAll(LR(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Fh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function UH(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=PR(r.transform,i||null);o!=null&&(n===null&&(n=In.empty()),n.set(r.field,o))}return n||null}function YA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qs(r,i,(o,s)=>LH(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Do=class extends ia{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},kr=class extends ia{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function LR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function ZA(t,e,n){let r=new Map;Te(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,VH(s,a,n[i]))}return r}function JA(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,FH(o,s,e))}return r}var qh=class extends ia{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},k_=class extends ia{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var F_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&jH(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Jc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=NR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=VR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&Qs(this.mutations,e.mutations,(n,r)=>YA(n,r))&&Qs(this.baseMutations,e.baseMutations,(n,r)=>YA(n,r))}},V_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length);let i=function(){return NH}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var L_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var j_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var We,ye;function BH(t){switch(t){default:return X();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function jR(t){if(t===void 0)return xr("GRPC error has no .code"),O.UNKNOWN;switch(t){case We.OK:return O.OK;case We.CANCELLED:return O.CANCELLED;case We.UNKNOWN:return O.UNKNOWN;case We.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case We.INTERNAL:return O.INTERNAL;case We.UNAVAILABLE:return O.UNAVAILABLE;case We.UNAUTHENTICATED:return O.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case We.NOT_FOUND:return O.NOT_FOUND;case We.ALREADY_EXISTS:return O.ALREADY_EXISTS;case We.PERMISSION_DENIED:return O.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case We.ABORTED:return O.ABORTED;case We.OUT_OF_RANGE:return O.OUT_OF_RANGE;case We.UNIMPLEMENTED:return O.UNIMPLEMENTED;case We.DATA_LOSS:return O.DATA_LOSS;default:return X()}}(ye=We||(We={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";var XA=null;function $H(){return new TextEncoder}var HH=new wi([4294967295,4294967295],0);function eR(t){let e=$H().encode(t),n=new t_;return n.update(e),new Uint8Array(n.digest())}function tR(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new wi([n,r],0),new wi([i,o],0)]}var U_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new go(`Invalid padding: ${n}`);if(r<0)throw new go(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new go(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new go(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=wi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(wi.fromNumber(r)));return i.compare(HH)===1&&(i=new wi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=eR(e),[r,i]=tR(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=eR(e),[r,i]=tR(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},go=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var zh=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ie.min(),i,new He(we),Or(),pe())}},nu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,pe(),pe(),pe())}};var Gs=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Gh=class{constructor(e,n){this.targetId=e,this.me=n}},Wh=class{constructor(e,n,r=At.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Kh=class{constructor(){this.fe=0,this.ge=rR(),this.pe=At.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pe(),n=pe(),r=pe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X()}}),new nu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=rR()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},B_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Or(),this.qe=nR(),this.Qe=new He(we)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(x_(o))if(r===0){let s=new K(o.path);this.Ue(n,s,En.newNoDocument(s,ie.min()))}else Te(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}XA?.et(function(h,p,g,v,A){var P,x,j,H,W,oe;let xe={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},ne=p.unchangedNames;return ne&&(xe.bloomFilter={applied:A===0,hashCount:(P=ne?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(H=(j=(x=ne?.bits)===null||x===void 0?void 0:x.bitmap)===null||j===void 0?void 0:j.length)!==null&&H!==void 0?H:0,padding:(oe=(W=ne?.bits)===null||W===void 0?void 0:W.padding)!==null&&oe!==void 0?oe:0,mightContain:D=>{var y;return(y=v?.mightContain(D))!==null&&y!==void 0&&y}}),xe}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Di(r).toUint8Array()}catch(u){if(u instanceof Bh)return Ks("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new U_(s,i,o)}catch(u){return Ks(u instanceof go?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&x_(a.target)){let u=new K(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,En.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=pe();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new zh(e,n,this.Qe,this.ke,r);return this.ke=Or(),this.qe=nR(),this.Qe=new He(we),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Kh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new St(we),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Kh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function nR(){return new He(K.comparator)}function rR(){return new He(K.comparator)}var qH={asc:"ASCENDING",desc:"DESCENDING"},zH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GH={and:"AND",or:"OR"},$_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function H_(t,e){return t.useProto3Json||pf(e)?e:{value:e}}function Qh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function WH(t,e){return Qh(t,e.toTimestamp())}function Gn(t){return Te(!!t),ie.fromTimestamp(function(n){let r=Pr(n);return new mt(r.seconds,r.nanos)}(t))}function YI(t,e){return q_(t,e).canonicalString()}function q_(t,e){let n=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function BR(t){let e=$e.fromString(t);return Te(GR(e)),e}function z_(t,e){return YI(t.databaseId,e.path)}function a_(t,e){let n=BR(e);if(n.get(1)!==t.databaseId.projectId)throw new G(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(HR(n))}function $R(t,e){return YI(t.databaseId,e)}function KH(t){let e=BR(t);return e.length===4?$e.emptyPath():HR(e)}function G_(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HR(t){return Te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function iR(t,e,n){return{name:z_(t,e),fields:n.value.mapValue.fields}}function QH(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Te(h===void 0||typeof h=="string"),At.fromBase64String(h||"")):(Te(h===void 0||h instanceof Buffer||h instanceof Uint8Array),At.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?O.UNKNOWN:jR(l.code);return new G(h,l.message||"")}(s);n=new Wh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=a_(t,r.document.name),o=Gn(r.document.updateTime),s=r.document.createTime?Gn(r.document.createTime):ie.min(),a=new In({mapValue:{fields:r.document.fields}}),u=En.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Gs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=a_(t,r.document),o=r.readTime?Gn(r.readTime):ie.min(),s=En.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Gs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=a_(t,r.document),o=r.removedTargetIds||[];n=new Gs([],o,i,null)}else{if(!("filter"in e))return X();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new j_(i,o),a=r.targetId;n=new Gh(a,s)}}return n}function YH(t,e){let n;if(e instanceof Do)n={update:iR(t,e.key,e.value)};else if(e instanceof qh)n={delete:z_(t,e.key)};else if(e instanceof kr)n={update:iR(t,e.key,e.data),updateMask:o4(e.fieldMask)};else{if(!(e instanceof k_))return X();n={verify:z_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof na)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Eo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ra)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw X()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:WH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:X()}(t,e.precondition)),n}function ZH(t,e){return t&&t.length>0?(Te(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Gn(i.updateTime):Gn(o);return s.isEqual(ie.min())&&(s=Gn(o)),new O_(s,i.transformResults||[])}(n,e))):[]}function JH(t,e){return{documents:[$R(t,e.path)]}}function XH(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$R(t,i);let o=function(l){if(l.length!==0)return zR(Kn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:$s(g.field),direction:n4(g.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=H_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function e4(t){let e=KH(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Te(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let g=qR(p);return g instanceof Kn&&ER(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(A){return new Xs(Hs(A.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,pf(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){let g=!!p.before,v=p.values||[];return new Js(v,g)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let g=!p.before,v=p.values||[];return new Js(v,g)}(n.endAt)),bH(e,i,s,o,a,"F",u,l)}function t4(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Hs(n.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Hs(n.unaryFilter.field);return nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Hs(n.unaryFilter.field);return nt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Hs(n.unaryFilter.field);return nt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(n){return nt.create(Hs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(r=>qR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(t):X()}function n4(t){return qH[t]}function r4(t){return zH[t]}function i4(t){return GH[t]}function $s(t){return{fieldPath:t.canonicalString()}}function Hs(t){return Zt.fromServerFormat(t.fieldPath)}function zR(t){return t instanceof nt?function(n){if(n.op==="=="){if(qA(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NAN"}};if(HA(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qA(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NOT_NAN"}};if(HA(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$s(n.field),op:r4(n.op),value:n.value}}}(t):t instanceof Kn?function(n){let r=n.getFilters().map(i=>zR(i));return r.length===1?r[0]:{compositeFilter:{op:i4(n.op),filters:r}}}(t):X()}function o4(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function GR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var ru=class t{constructor(e,n,r,i,o=ie.min(),s=ie.min(),a=At.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var W_=class{constructor(e){this.ct=e}};function s4(t){let e=e4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?P_(e,e.limit,"L"):e}var Yh=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(ke(e.integerValue));else if("doubleValue"in e){let r=ke(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Xc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Pr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Di(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?_R(e)?this.dt(n,Number.MAX_SAFE_INTEGER):vR(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):X()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(ke(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),K.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Yh.vt=new Yh;var K_=class{constructor(){this.un=new Q_}addToCollectionParentIndex(e,n){return this.un.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(_o.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(_o.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}},Q_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new St($e.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new St($e.comparator)).toArray()}};var pK=new Uint8Array(0);var Bn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(41943040,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);var iu=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Y_=class{constructor(){this.changes=new Ci(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Z_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var J_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Jc(r.mutation,i,$n.empty(),mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){let i=mo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Kc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=mo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Or(),s=Zc(),a=function(){return Zc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof kr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Jc(h.mutation,l,h.mutation.getFieldMask(),mt.now())):s.set(l.key,$n.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Z_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Zc(),i=new He((s,a)=>s-a),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||$n.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||pe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=NR();h.forEach(g=>{if(!o.has(g)){let v=VR(n.get(g),r.get(g));v!==null&&p.set(g,v),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return K.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TH(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):F.resolve(mo()),a=-1,u=o;return s.next(l=>F.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,pe())).next(h=>({batchId:a,changes:MR(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let i=Kc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Kc();return this.indexManager.getCollectionParents(e,o).next(a=>F.forEach(a,u=>{let l=function(p,g){return new ea(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,En.newInvalidDocument(h)))});let a=Kc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Jc(h.mutation,l,$n.empty(),mt.now()),gf(n,l)&&(a=a.insert(u,l))}),a})}};var X_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Gn(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:s4(i.bundledQuery),readTime:Gn(i.readTime)}}(n)),F.resolve()}};var eI=class{constructor(){this.overlays=new He(K.comparator),this.Ir=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){let r=mo();return F.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),F.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){let i=mo(),o=n.length+1,s=new K(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new He((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=mo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=mo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return F.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new L_(n,r));let o=this.Ir.get(n);o===void 0&&(o=pe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var tI=class{constructor(){this.sessionToken=At.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}};var ou=class{constructor(){this.Tr=new St(Ke.Er),this.dr=new St(Ke.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Ke(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ke(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new K(new $e([])),r=new Ke(n,e),i=new Ke(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new K(new $e([])),r=new Ke(n,e),i=new Ke(n,e+1),o=pe();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ke(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ke=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return K.comparator(e.key,n.key)||we(e.wr,n.wr)}static Ar(e,n){return we(e.wr,n.wr)||K.comparator(e.key,n.key)}};var nI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new St(Ke.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new F_(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Ke(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ke(n,0),i=new Ke(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new St(we);return n.forEach(i=>{let o=new Ke(i,0),s=new Ke(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;K.isDocumentKey(o)||(o=o.child(""));let s=new Ke(new K(o),0),a=new St(we);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),F.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,i=>{let o=new Ke(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Ke(n,0),i=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var rI=class{constructor(e){this.Mr=e,this.docs=function(){return new He(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let r=Or();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():En.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Or(),s=n.path,a=new K(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||pH(fH(h),r)<=0||(i.has(h.key)||gf(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,n,r,i){X()}Or(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new iI(this)}getSize(e){return F.resolve(this.size)}},iI=class extends Y_{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var oI=class{constructor(e){this.persistence=e,this.Nr=new Ci(n=>WI(n),KI),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ou,this.targetCount=0,this.kr=iu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new iu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Kn(n),F.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Br.containsKey(n))}};var sI=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new gR(0),this.Kr=!1,this.Kr=!0,this.$r=new tI,this.referenceDelegate=e(this),this.Ur=new oI(this),this.indexManager=new K_,this.remoteDocumentCache=function(i){return new rI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new W_(n),this.Gr=new X_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new eI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new nI(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);let i=new aI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},aI=class extends __{constructor(e){super(),this.currentSequenceNumber=e}},cI=class t{constructor(e){this.persistence=e,this.Jr=new ou,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw X()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{let i=K.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ie.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var uI=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=pe(),i=pe();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var lI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var dI=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return GT()?8:gH(ut())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new lI;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Wc()<=fe.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Bs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(Wc()<=fe.DEBUG&&U("QueryEngine","Query:",Bs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Wc()<=fe.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Bs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zn(n))):F.resolve())}Yi(e,n){if(KA(n))return F.resolve(null);let r=zn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=P_(n,null,"F"),r=zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=pe(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,P_(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return KA(n)||i.isEqual(ie.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?F.resolve(null):(Wc()<=fe.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bs(n)),this.rs(e,s,n,hH(i,-1)).next(a=>a))})}ts(e,n){let r=new St(AR(e));return n.forEach((i,o)=>{gf(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Wc()<=fe.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Bs(n)),this.Ji.getDocumentsMatchingQuery(e,n,_o.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var hI=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new He(we),this._s=new Ci(o=>WI(o),KI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function a4(t,e,n,r){return new hI(t,e,n,r)}function WR(t,e){return _(this,null,function*(){let n=te(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=pe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function c4(t,e){let n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),v=F.resolve();return g.forEach(A=>{v=v.next(()=>h.getEntry(u,A)).next(P=>{let x=l.docVersions.get(A);Te(x!==null),P.version.compareTo(x)<0&&(p.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),h.addEntry(P)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=pe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function KR(t){let e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function u4(t,e){let n=te(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let v=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(At.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(P,x,j){return P.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(g,v,h)&&a.push(n.Ur.updateTargetData(o,v))});let u=Or(),l=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(l4(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ie.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function l4(t,e,n){let r=pe(),i=pe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Or();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function d4(t,e){let n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function h4(t,e){let n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new ru(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function fI(t,e,n){return _(this,null,function*(){let r=te(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!hu(s))throw s;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function oR(t,e,n){let r=te(t),i=ie.min(),o=pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=te(u),g=p._s.get(h);return g!==void 0?F.resolve(p.os.get(g)):p.Ur.getTargetData(l,h)}(r,s,zn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ie.min(),n?o:pe())).next(a=>(f4(r,AH(e),a),{documents:a,Ts:o})))}function f4(t,e,n){let r=t.us.get(e)||ie.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Zh=class{constructor(){this.activeTargetIds=OH()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var pI=class{constructor(){this.so=new Zh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Zh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var mI=class{_o(e){}shutdown(){}};var Jh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Oh=null;function c_(){return Oh===null?Oh=function(){return 268435456+Math.round(2147483648*Math.random())}():Oh++,"0x"+Oh.toString(16)}var p4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var gI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Tt="WebChannelConnection",yI=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=c_(),u=this.xo(n,r.toUriEncodedString());U("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(U("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Ks("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+aa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=p4[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=c_();return new Promise((s,a)=>{let u=new n_;u.setWithCredentials(!0),u.listenOnce(r_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Gc.NO_ERROR:let h=u.getResponseJson();U(Tt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Gc.TIMEOUT:U(Tt,`RPC '${e}' ${o} timed out`),a(new G(O.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:let p=u.getStatus();if(U(Tt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);let v=g?.error;if(v&&v.status&&v.message){let A=function(x){let j=x.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(j)>=0?j:O.UNKNOWN}(v.status);a(new G(A,v.message))}else a(new G(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new G(O.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{U(Tt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);U(Tt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=c_(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=s_(),a=o_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");U(Tt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),g=!1,v=!1,A=new gI({Io:x=>{v?U(Tt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(g||(U(Tt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),U(Tt,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},To:()=>p.close()}),P=(x,j,H)=>{x.listen(j,W=>{try{H(W)}catch(oe){setTimeout(()=>{throw oe},0)}})};return P(p,Us.EventType.OPEN,()=>{v||(U(Tt,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),P(p,Us.EventType.CLOSE,()=>{v||(v=!0,U(Tt,`RPC '${e}' stream ${i} transport closed`),A.So())}),P(p,Us.EventType.ERROR,x=>{v||(v=!0,Ks(Tt,`RPC '${e}' stream ${i} transport errored:`,x),A.So(new G(O.UNAVAILABLE,"The operation could not be completed")))}),P(p,Us.EventType.MESSAGE,x=>{var j;if(!v){let H=x.data[0];Te(!!H);let W=H,oe=W.error||((j=W[0])===null||j===void 0?void 0:j.error);if(oe){U(Tt,`RPC '${e}' stream ${i} received error:`,oe);let xe=oe.status,ne=function(I){let E=We[I];if(E!==void 0)return jR(E)}(xe),D=oe.message;ne===void 0&&(ne=O.INTERNAL,D="Unknown error status: "+xe+" with message "+oe.message),v=!0,A.So(new G(ne,D)),p.close()}else U(Tt,`RPC '${e}' stream ${i} received:`,H),A.bo(H)}}),P(a,i_.STAT_EVENT,x=>{x.stat===xh.PROXY?U(Tt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===xh.NOPROXY&&U(Tt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function u_(){return typeof document<"u"?document:null}function yf(t){return new $_(t,!0)}var Xh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var ef=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Xh(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return _(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return _(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return _(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(xr(n.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new G(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>_(this,null,function*(){this.state=0,this.start()}))}I_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},vI=class extends ef{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=QH(this.serializer,e),r=function(o){if(!("targetChange"in o))return ie.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?Gn(s.readTime):ie.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=G_(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=x_(u)?{documents:JH(o,u)}:{query:XH(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=UR(o,s.resumeToken);let l=H_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ie.min())>0){a.readTime=Qh(o,s.snapshotVersion.toTimestamp());let l=H_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=t4(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=G_(this.serializer),n.removeTarget=e,this.a_(n)}},_I=class extends ef{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Te(!!e.streamToken),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=ZH(e.writeResults,e.commitTime),r=Gn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=G_(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>YH(this.serializer,r))};this.a_(n)}};var II=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new G(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,q_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(O.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,q_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(O.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},wI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(xr(n),this.D_=!1):U("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var EI=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Co(this)&&(U("RemoteStore","Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=te(u);l.L_.add(4),yield fu(l),l.q_.set("Unknown"),l.L_.delete(4),yield vf(l)})}(this))}))}),this.q_=new wI(r,i)}};function vf(t){return _(this,null,function*(){if(Co(t))for(let e of t.B_)yield e(!0)})}function fu(t){return _(this,null,function*(){for(let e of t.B_)yield e(!1)})}function QR(t,e){let n=te(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ew(n)?XI(n):ua(n).r_()&&JI(n,e))}function ZI(t,e){let n=te(t),r=ua(n);n.N_.delete(e),r.r_()&&YR(n,e),n.N_.size===0&&(r.r_()?r.o_():Co(n)&&n.q_.set("Unknown"))}function JI(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ua(t).A_(e)}function YR(t,e){t.Q_.xe(e),ua(t).R_(e)}function XI(t){t.Q_=new B_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ua(t).start(),t.q_.v_()}function ew(t){return Co(t)&&!ua(t).n_()&&t.N_.size>0}function Co(t){return te(t).L_.size===0}function ZR(t){t.Q_=void 0}function m4(t){return _(this,null,function*(){t.q_.set("Online")})}function g4(t){return _(this,null,function*(){t.N_.forEach((e,n)=>{JI(t,e)})})}function y4(t,e){return _(this,null,function*(){ZR(t),ew(t)?(t.q_.M_(e),XI(t)):t.q_.set("Unknown")})}function v4(t,e,n){return _(this,null,function*(){if(t.q_.set("Online"),e instanceof Wh&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield tf(t,r)}else if(e instanceof Gs?t.Q_.Ke(e):e instanceof Gh?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ie.min()))try{let r=yield KR(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(At.EMPTY_BYTE_STRING,h.snapshotVersion)),YR(o,u);let p=new ru(h.target,u,l,h.sequenceNumber);JI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){U("RemoteStore","Failed to raise snapshot:",r),yield tf(t,r)}})}function tf(t,e,n){return _(this,null,function*(){if(!hu(e))throw e;t.L_.add(1),yield fu(t),t.q_.set("Offline"),n||(n=()=>KR(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){U("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield vf(t)}))})}function JR(t,e){return e().catch(n=>tf(t,n,e))}function _f(t){return _(this,null,function*(){let e=te(t),n=bi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;_4(e);)try{let i=yield d4(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,I4(e,i)}catch(i){yield tf(e,i)}XR(e)&&eM(e)})}function _4(t){return Co(t)&&t.O_.length<10}function I4(t,e){t.O_.push(e);let n=bi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function XR(t){return Co(t)&&!bi(t).n_()&&t.O_.length>0}function eM(t){bi(t).start()}function w4(t){return _(this,null,function*(){bi(t).p_()})}function E4(t){return _(this,null,function*(){let e=bi(t);for(let n of t.O_)e.m_(n.mutations)})}function D4(t,e,n){return _(this,null,function*(){let r=t.O_.shift(),i=V_.from(r,e,n);yield JR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield _f(t)})}function C4(t,e){return _(this,null,function*(){e&&bi(t).V_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return BH(s)&&s!==O.ABORTED}(i.code)){let o=r.O_.shift();bi(r).s_(),yield JR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield _f(r)}})}(t,e)),XR(t)&&eM(t)})}function sR(t,e){return _(this,null,function*(){let n=te(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");let r=Co(n);n.L_.add(3),yield fu(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield vf(n)})}function b4(t,e){return _(this,null,function*(){let n=te(t);e?(n.L_.delete(2),yield vf(n)):e||(n.L_.add(2),yield fu(n),n.q_.set("Unknown"))})}function ua(t){return t.K_||(t.K_=function(n,r,i){let o=te(n);return o.w_(),new vI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:m4.bind(null,t),Ro:g4.bind(null,t),mo:y4.bind(null,t),d_:v4.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.K_.s_(),ew(t)?XI(t):t.q_.set("Unknown")):(yield t.K_.stop(),ZR(t))}))),t.K_}function bi(t){return t.U_||(t.U_=function(n,r,i){let o=te(n);return o.w_(),new _I(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:w4.bind(null,t),mo:C4.bind(null,t),f_:E4.bind(null,t),g_:D4.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.U_.s_(),yield _f(t)):(yield t.U_.stop(),t.O_.length>0&&(U("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var DI=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function tw(t,e){if(xr("AsyncQueue",`${e}: ${t}`),hu(t))return new G(O.UNAVAILABLE,`${e}: ${t}`);throw t}var nf=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=Kc(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var rf=class{constructor(){this.W_=new He(K.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):X():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},oa=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,nf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var CI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},bI=class{constructor(){this.queries=aR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=te(n),o=i.queries;i.queries=aR(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new G(O.ABORTED,"Firestore shutting down"))}};function aR(){return new Ci(t=>SR(t),mf)}function T4(t,e){return _(this,null,function*(){let n=te(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new CI,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=tw(s,`Initialization of query '${Bs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&nw(n)})}function S4(t,e){return _(this,null,function*(){let n=te(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function A4(t,e){let n=te(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&nw(n)}function R4(t,e,n){let r=te(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function nw(t){t.Y_.forEach(e=>{e.next()})}var TI,cR;(cR=TI||(TI={})).ea="default",cR.Cache="cache";var SI=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new oa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=oa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==TI.Cache}};var of=class{constructor(e){this.key=e}},sf=class{constructor(e){this.key=e}},AI=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pe(),this.mutatedKeys=pe(),this.Aa=AR(e),this.Ra=new nf(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new rf,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),v=gf(this.query,p)?p:null,A=!!g&&this.mutatedKeys.has(g.key),P=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),x=!1;g&&v?g.data.isEqual(v.data)?A!==P&&(r.track({type:3,doc:v}),x=!0):this.ga(g,v)||(r.track({type:2,doc:v}),x=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!g&&v?(r.track({type:0,doc:v}),x=!0):g&&!v&&(r.track({type:1,doc:g}),x=!0,(u||l)&&(a=!0)),x&&(v?(s=s.add(v),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(v,A){let P=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return P(v)-P(A)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new oa(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new rf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new sf(r))}),this.da.forEach(r=>{e.has(r)||n.push(new of(r))}),n}ba(e){this.Ta=e.Ts,this.da=pe();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return oa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},RI=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},MI=class{constructor(e){this.key=e,this.va=!1}},NI=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ci(a=>SR(a),mf),this.Ma=new Map,this.xa=new Set,this.Oa=new He(K.comparator),this.Na=new Map,this.La=new ou,this.Ba={},this.ka=new Map,this.qa=iu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function M4(t,e,n=!0){return _(this,null,function*(){let r=sM(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield tM(r,e,n,!0),i})}function N4(t,e){return _(this,null,function*(){let n=sM(t);yield tM(n,e,!0,!1)})}function tM(t,e,n,r){return _(this,null,function*(){let i=yield h4(t.localStore,zn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield x4(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&QR(t.remoteStore,i),a})}function x4(t,e,n,r,i){return _(this,null,function*(){t.Ka=(p,g,v)=>function(P,x,j,H){return _(this,null,function*(){let W=x.view.ma(j);W.ns&&(W=yield oR(P.localStore,x.query,!1).then(({documents:D})=>x.view.ma(D,W)));let oe=H&&H.targetChanges.get(x.targetId),xe=H&&H.targetMismatches.get(x.targetId)!=null,ne=x.view.applyChanges(W,P.isPrimaryClient,oe,xe);return lR(P,x.targetId,ne.wa),ne.snapshot})}(t,p,g,v);let o=yield oR(t.localStore,e,!0),s=new AI(e,o.Ts),a=s.ma(o.documents),u=nu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);lR(t,n,l.wa);let h=new RI(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function P4(t,e,n){return _(this,null,function*(){let r=te(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!mf(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield fI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ZI(r.remoteStore,i.targetId),xI(r,i.targetId)}).catch(du))):(xI(r,i.targetId),yield fI(r.localStore,i.targetId,!0))})}function O4(t,e){return _(this,null,function*(){let n=te(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ZI(n.remoteStore,r.targetId))})}function k4(t,e,n){return _(this,null,function*(){let r=$4(t);try{let i=yield function(s,a){let u=te(s),l=mt.now(),h=a.reduce((v,A)=>v.add(A.key),pe()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let A=Or(),P=pe();return u.cs.getEntries(v,h).next(x=>{A=x,A.forEach((j,H)=>{H.isValidDocument()||(P=P.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,A)).next(x=>{p=x;let j=[];for(let H of a){let W=UH(H,p.get(H.key).overlayedDocument);W!=null&&j.push(new kr(H.key,W,IR(W.value.mapValue),yo.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,j,a)}).next(x=>{g=x;let j=x.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(v,x.batchId,j)})}).then(()=>({batchId:g.batchId,changes:MR(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new He(we)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield pu(r,i.changes),yield _f(r.remoteStore)}catch(i){let o=tw(i,"Failed to persist write");n.reject(o)}})}function nM(t,e){return _(this,null,function*(){let n=te(t);try{let r=yield u4(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Te(s.va):i.removedDocuments.size>0&&(Te(s.va),s.va=!1))}),yield pu(n,r,e)}catch(r){yield du(r)}})}function uR(t,e,n){let r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=te(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.j_)g.Z_(a)&&(l=!0)}),l&&nw(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function F4(t,e,n){return _(this,null,function*(){let r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new He(K.comparator);s=s.insert(o,En.newNoDocument(o,ie.min()));let a=pe().add(o),u=new zh(ie.min(),new Map,new He(we),s,a);yield nM(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),rw(r)}else yield fI(r.localStore,e,!1).then(()=>xI(r,e,n)).catch(du)})}function V4(t,e){return _(this,null,function*(){let n=te(t),r=e.batch.batchId;try{let i=yield c4(n.localStore,e);iM(n,r,null),rM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield pu(n,i)}catch(i){yield du(i)}})}function L4(t,e,n){return _(this,null,function*(){let r=te(t);try{let i=yield function(s,a){let u=te(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Te(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);iM(r,e,n),rM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield pu(r,i)}catch(i){yield du(i)}})}function rM(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function iM(t,e,n){let r=te(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function xI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||oM(t,r)})}function oM(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(ZI(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),rw(t))}function lR(t,e,n){for(let r of n)r instanceof of?(t.La.addReference(r.key,e),j4(t,r)):r instanceof sf?(U("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||oM(t,r.key)):X()}function j4(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(U("SyncEngine","New document in limbo: "+n),t.xa.add(r),rw(t))}function rw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new K($e.fromString(e)),r=t.qa.next();t.Na.set(r,new MI(n)),t.Oa=t.Oa.insert(n,r),QR(t.remoteStore,new ru(zn(TR(n.path)),r,"TargetPurposeLimboResolution",gR.oe))}}function pu(t,e,n){return _(this,null,function*(){let r=te(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=uI.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return _(this,null,function*(){let h=te(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(l,g=>F.forEach(g.$i,v=>h.persistence.referenceDelegate.addReference(p,g.targetId,v)).next(()=>F.forEach(g.Ui,v=>h.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))}catch(p){if(!hu(p))throw p;U("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let v=h.os.get(g),A=v.snapshotVersion,P=v.withLastLimboFreeSnapshotVersion(A);h.os=h.os.insert(g,P)}}})}(r.localStore,o))})}function U4(t,e){return _(this,null,function*(){let n=te(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());let r=yield WR(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new G(O.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield pu(n,r.hs)}})}function B4(t,e){let n=te(t),r=n.Na.get(e);if(r&&r.va)return pe().add(r.key);{let i=pe(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function sM(t){let e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F4.bind(null,e),e.Ca.d_=A4.bind(null,e.eventManager),e.Ca.$a=R4.bind(null,e.eventManager),e}function $4(t){let e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=L4.bind(null,e),e}var dR=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=yf(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return a4(this.persistence,new dI,n.initialUser,this.serializer)}Ga(n){return new sI(cI.Zr,this.serializer)}Wa(n){return new pI}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var H4=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>uR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=U4.bind(null,this.syncEngine),yield b4(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new bI}()}createDatastore(n){let r=yf(n.databaseInfo.databaseId),i=function(s){return new yI(s)}(n.databaseInfo);return function(s,a,u,l){return new II(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new EI(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>uR(this.syncEngine,r,0),function(){return Jh.D()?new Jh:new mI}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let g=new NI(o,s,a,u,l,h);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield function(o){return _(this,null,function*(){let s=te(o);U("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield fu(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var PI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var OI=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=lt.UNAUTHENTICATED,this.clientId=Lh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){U("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(U("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=tw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function l_(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield WR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function hR(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield q4(t);U("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>sR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>sR(e.remoteStore,i)),t._onlineComponents=e})}function q4(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield l_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ks("Error using user provided cache. Falling back to memory cache: "+n),yield l_(t,new dR)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield l_(t,new dR);return t._offlineComponents})}function aM(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield hR(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield hR(t,new H4))),t._onlineComponents})}function z4(t){return aM(t).then(e=>e.syncEngine)}function G4(t){return _(this,null,function*(){let e=yield aM(t),n=e.eventManager;return n.onListen=M4.bind(null,e.syncEngine),n.onUnlisten=P4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=N4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=O4.bind(null,e.syncEngine),n})}function W4(t,e,n={}){let r=new Hn;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(o,s,a,u,l){let h=new PI({next:g=>{h.Za(),s.enqueueAndForget(()=>S4(o,p)),g.fromCache&&u.source==="server"?l.reject(new G(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new SI(a,h,{includeMetadataChanges:!0,_a:!0});return T4(o,p)}(yield G4(t),t.asyncQueue,e,n,r)})),r.promise}function cM(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var fR=new Map;function uM(t,e,n){if(!n)throw new G(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function K4(t,e,n,r){if(e===!0&&r===!0)throw new G(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pR(t){if(!K.isDocumentKey(t))throw new G(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mR(t){if(K.isDocumentKey(t))throw new G(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function af(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=iw(t);throw new G(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var cf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},sa=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new d_;switch(r.type){case"firstParty":return new m_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=fR.get(n);r&&(U("ComponentProvider","Removing Datastore"),fR.delete(n),r.terminate())}(this),Promise.resolve()}};function lM(t,e,n,r={}){var i;let o=(t=af(t,sa))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=lt.MOCK_USER;else{a=UT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new G(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new lt(l)}t._authCredentials=new h_(new Vh(a,u))}}var uf=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},wn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ei=class t extends uf{constructor(e,n,r){super(e,n,TR(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new K(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function dM(t,e,...n){if(t=Ot(t),uM("collection","path",e),t instanceof sa){let r=$e.fromString(e,...n);return mR(r),new Ei(t,null,r)}{if(!(t instanceof wn||t instanceof Ei))throw new G(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child($e.fromString(e,...n));return mR(r),new Ei(t.firestore,null,r)}}function hM(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=Lh.newId()),uM("doc","path",e),t instanceof sa){let r=$e.fromString(e,...n);return pR(r),new wn(t,null,new K(r))}{if(!(t instanceof wn||t instanceof Ei))throw new G(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child($e.fromString(e,...n));return pR(r),new wn(t.firestore,t instanceof Ei?t.converter:null,new K(r))}}var lf=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Xh(this,"async_queue_retry"),this.Vu=()=>{let r=u_();r&&U("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=u_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=u_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Hn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return _(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!hu(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw xr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=DI.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&X()}verifyOperationInProgress(){}wu(){return _(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var su=class extends sa{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new lf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new lf(e),this._firestoreClient=void 0,yield e}})}};function fM(t,e){let n=typeof t=="object"?t:Rs(),r=typeof t=="string"?t:e||"(default)",i=Ac(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=jT("firestore");o&&lM(i,...o)}return i}function pM(t){if(t._terminated)throw new G(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Q4(t),t._firestoreClient}function Q4(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new I_(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,cM(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new OI(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var au=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(At.fromBase64String(e))}catch(n){throw new G(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var cu=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var df=class{constructor(e){this._methodName=e}};var uu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}};var lu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var Y4=/^__.*__$/,kI=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new kr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Do(e,this.data,n,this.fieldTransforms)}};function mM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}var FI=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return hf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(mM(this.Cu)&&Y4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},VI=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yf(e)}Qu(e,n,r,i=!1){return new FI({Cu:e,methodName:n,qu:r,path:Zt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Z4(t){let e=t._freezeSettings(),n=yf(t._databaseId);return new VI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function J4(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);_M("Data must be an object, but it was:",s,r);let a=yM(r,s),u,l;if(o.merge)u=new $n(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=X4(e,p,n);if(!s.contains(g))throw new G(O.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);t3(h,g)||h.push(g)}u=new $n(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new kI(new In(a),u,l)}function gM(t,e){if(vM(t=Ot(t)))return _M("Unsupported field value:",e,t),yM(t,e);if(t instanceof df)return function(r,i){if(!mM(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=gM(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=mt.fromDate(r);return{timestampValue:Qh(i.serializer,o)}}if(r instanceof mt){let o=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qh(i.serializer,o)}}if(r instanceof uu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof au)return{bytesValue:UR(i.serializer,r._byteString)};if(r instanceof wn){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:YI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof lu)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return QI(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${iw(r)}`)}(t,e)}function yM(t,e){let n={};return yR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(t,(r,i)=>{let o=gM(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function vM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof uu||t instanceof au||t instanceof wn||t instanceof df||t instanceof lu)}function _M(t,e,n){if(!vM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=iw(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function X4(t,e,n){if((e=Ot(e))instanceof cu)return e._internalPath;if(typeof e=="string")return IM(t,e);throw hf("Field path arguments must be of type string or ",t,!1,void 0,n)}var e3=new RegExp("[~\\*/\\[\\]]");function IM(t,e,n){if(e.search(e3)>=0)throw hf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cu(...e.split("."))._internalPath}catch{throw hf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hf(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new G(O.INVALID_ARGUMENT,a+t+u)}function t3(t,e){return t.some(n=>n.isEqual(e))}var ff=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new LI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(wM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},LI=class extends ff{data(){return super.data()}};function wM(t,e){return typeof e=="string"?IM(t,e):e instanceof cu?e._internalPath:e._delegate._internalPath}function n3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var jI=class{convertValue(e,n="none"){switch(Io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ca(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ke(s.doubleValue));return new lu(o)}convertGeoPoint(e){return new uu(ke(e.latitude),ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=zI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){let n=Pr(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=$e.fromString(e);Te(GR(r));let i=new $h(r.get(1),r.get(3)),o=new K(r.popFirst(5));return i.isEqual(n)||xr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function r3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var zs=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},UI=class extends ff{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ws(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(wM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ws=class extends UI{data(e={}){return super.data(e)}},BI=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new zs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ws(this._firestore,this._userDataWriter,r.key,r,new zs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Ws(i._firestore,i._userDataWriter,a.doc.key,a.doc,new zs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Ws(i._firestore,i._userDataWriter,a.doc.key,a.doc,new zs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:i3(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function i3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}var $I=class extends jI{constructor(e){super(),this.firestore=e}convertBytes(e){return new au(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,n)}};function EM(t){t=af(t,uf);let e=af(t.firestore,su),n=pM(e),r=new $I(e);return n3(t._query),W4(n,t._query).then(i=>new BI(e,r,t,i))}function DM(t,e){let n=af(t.firestore,su),r=hM(t),i=r3(t.converter,e);return o3(n,[J4(Z4(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,yo.exists(!1))]).then(()=>r)}function o3(t,e){return function(r,i){let o=new Hn;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return k4(yield z4(r),i,o)})),o.promise}(pM(t),e)}(function(e,n=!0){(function(i){aa=i})(fi),hi(new cn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new su(new f_(r.getProvider("auth-internal")),new y_(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new G(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $h(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),tt(jA,"4.7.3",e),tt(jA,"4.7.3","esm2017")})();var bo=class{constructor(e){return e}},CM="firestore",ow=class{constructor(){return Rc(CM)}};var sw=new B("angularfire2.firestore-instances");function s3(t,e){let n=Xd(CM,t,e);return n&&new bo(n)}function a3(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new bo(r)}}var c3={provide:ow,deps:[[new wt,sw]]},u3={provide:bo,useFactory:s3,deps:[[new wt,sw],Cr]};function bM(t,...e){return tt("angularfire",so.full,"fst"),Nn([u3,c3,{provide:sw,useFactory:a3(t),multi:!0,deps:[Ce,ft,xs,ao,[new wt,Vc],[new wt,Ns],...e]}])}var TM=un(DM,!0);var aw=un(dM,!0);var SM=un(EM,!0);var AM=un(fM,!0);var If=class t{firebaseFirestore=k(bo);getCollection(e){return _(this,null,function*(){return(yield SM(aw(this.firebaseFirestore,e))).docs.map(r=>r.data())})}addDevedor(e,n){return _(this,null,function*(){try{let r=yield TM(aw(this.firebaseFirestore,e),n);console.log("Devedor adicionado com o ID: ",r.id)}catch(r){console.error("Erro ao adicionar um novo devedor",r)}})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};function d3(t,e){if(t&1){let n=Rg();T(0,"tr",29),Le("click",function(){let i=Km(n),o=i.$implicit,s=i.index,a=lr();return Qm(a.selecionarLinha(s,o))}),T(1,"td"),N(2),S(),T(3,"td"),N(4),S(),T(5,"td"),N(6),hr(7,"phoneMask"),S()()}if(t&2){let n=e.$implicit;Q(2),ot(n.name),Q(2),ot(n.email),Q(2),ot(eb(7,3,n.phone))}}function h3(t,e){if(t&1){let n=Rg();T(0,"div",30)(1,"button",31),Le("click",function(i){Km(n);let o=lr();return Qm(o.manterSelecao(i))}),N(2,"Editar"),S(),T(3,"button",32),N(4,"Remover"),S()()}}function f3(t,e){t&1&&(T(0,"div",33),N(1,"Pessoa adicionada com sucesso!!!"),S())}function p3(t,e){if(t&1&&(T(0,"div",34),N(1),S()),t&2){let n=lr();Q(),ot(n.addError)}}var wf=class t{constructor(e,n){this.route=e;this.firestoreService=n;console.log(this.route.snapshot)}devedores=[];addSuccess=!1;addError="";selectedPessoa=null;nome="";email="";telefone="";ngOnInit(){this.carregarDevedores()}selecionarLinha(e,n){this.selectedPessoa=n}limparSelecao(){this.selectedPessoa=null}manterSelecao(e){e.stopPropagation()}carregarDevedores(){return _(this,null,function*(){try{this.devedores=yield this.firestoreService.getCollection("devedores"),console.log("Devedores:",this.devedores)}catch(e){console.error("Erro ao carregar devedores:",e)}})}adicionarPessoa(){if(this.nome===""||this.email===""||this.telefone===""){this.addError="Preencha todos os campos";return}let e={name:this.nome,email:this.email,phone:this.telefone};this.firestoreService.addDevedor("devedores",e).then(()=>{this.carregarDevedores(),this.limparFormulario(),this.addSuccess=!0}).catch(n=>{this.addError="Erro ao adicionar nova pessoa",console.error("Erro ao adicionar devedor:",n)})}limparFormulario(){this.addError="",this.nome="",this.email="",this.telefone=""}static \u0275fac=function(n){return new(n||t)(z(Fn),z(If))};static \u0275cmp=it({type:t,selectors:[["app-pessoa"]],standalone:!0,features:[at],decls:46,vars:7,consts:[[1,"h100",3,"click"],[1,"container","p-4"],["data-bs-toggle","modal","data-bs-target","#minhaModal",1,"btn","btn-primary",3,"click"],[1,"container"],[1,"p-4","border-0","shadow","mt-3","w40"],[1,"d-flex","justify-content-between"],["id","recarregar",1,"me-2",3,"click"],[1,"bi","bi-arrow-clockwise",2,"font-size","larger"],[1,"table","table-sm","table-hover",3,"click"],[3,"click",4,"ngFor","ngForOf"],["class","d-flex justify-content-end",4,"ngIf"],["id","minhaModal",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body"],[1,"form-label"],["for","inputName",1,"form-label"],["name","inputName","type","text","id","inputName",1,"form-control",3,"ngModelChange","ngModel"],["for","inputEmail",1,"form-label","mt-3"],["name","inputEmail","type","text","id","inputEmail",1,"form-control",3,"ngModelChange","ngModel"],["for","inputPhone",1,"form-label","mt-3"],["name","inputPhone","type","text","id","inputPhone",1,"form-control",3,"ngModelChange","ngModel"],["class","alert alert-success mt-3","role","alert",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],[1,"botoes","mt-3"],[1,"btn","btn-primary",3,"click"],[3,"click"],[1,"d-flex","justify-content-end"],[1,"btn","btn-success","btn-sm","me-2",3,"click"],[1,"btn","btn-danger","btn-sm"],["role","alert",1,"alert","alert-success","mt-3"],["role","alert",1,"alert","alert-danger","mt-3"]],template:function(n,r){n&1&&(T(0,"div",0),Le("click",function(){return r.limparSelecao()}),T(1,"div",1)(2,"a",2),Le("click",function(){return r.limparFormulario()}),N(3,"Nova pessoa"),S()(),T(4,"div",3)(5,"div",4)(6,"div",5)(7,"h4"),N(8,"Pessoas"),S(),T(9,"a",6),Le("click",function(){return r.carregarDevedores()}),Oe(10,"i",7),S()(),T(11,"table",8),Le("click",function(o){return r.manterSelecao(o)}),T(12,"thead")(13,"tr")(14,"th"),N(15,"Nome"),S(),T(16,"th"),N(17,"E-mail"),S(),T(18,"th"),N(19,"Telefone"),S()()(),T(20,"tbody"),Ct(21,d3,8,5,"tr",9),S()(),Ct(22,h3,5,0,"div",10),S()()(),T(23,"div",11)(24,"div",12)(25,"div",13)(26,"div",14)(27,"h6",15),N(28,"Nova pessoa"),S(),Oe(29,"button",16),S(),T(30,"div",17)(31,"form",18)(32,"label",19),N(33,"Nome"),S(),T(34,"input",20),et("ngModelChange",function(o){return st(r.nome,o)||(r.nome=o),o}),S(),T(35,"label",21),N(36,"E-mail"),S(),T(37,"input",22),et("ngModelChange",function(o){return st(r.email,o)||(r.email=o),o}),S(),T(38,"label",23),N(39,"Telefone"),S(),T(40,"input",24),et("ngModelChange",function(o){return st(r.telefone,o)||(r.telefone=o),o}),S(),Ct(41,f3,2,0,"div",25)(42,p3,2,1,"div",26),T(43,"div",27)(44,"button",28),Le("click",function(){return r.adicionarPessoa()}),N(45,"Cadastrar"),S()()()()()()()),n&2&&(Q(21),Je("ngForOf",r.devedores),Q(),Je("ngIf",r.selectedPessoa),Q(12),Xe("ngModel",r.nome),Q(3),Xe("ngModel",r.email),Q(3),Xe("ngModel",r.telefone),Q(),Je("ngIf",r.addSuccess),Q(),Je("ngIf",r.addError))},dependencies:[Wt,ps,ai,Ii,_i,Un,yi,vi,Mr,Rr,Mh],styles:["*[_ngcontent-%COMP%]{font-family:Roboto,sans-serif}.w40[_ngcontent-%COMP%]{border-radius:10px}#recarregar[_ngcontent-%COMP%]{cursor:pointer}.h100[_ngcontent-%COMP%]{height:100vh}@media (max-width: 500px){.table[_ngcontent-%COMP%]{font-size:10px}}"]})};var la={_origin:"https://api.emailjs.com"};var cw=(t,e,n)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};var mu=class{constructor(e){this.status=e.status,this.text=e.responseText}};var uw=(t,e,n={})=>new Promise((r,i)=>{let o=new XMLHttpRequest;o.addEventListener("load",({target:s})=>{let a=new mu(s);a.status===200||a.text==="OK"?r(a):i(a)}),o.addEventListener("error",({target:s})=>{i(new mu(s))}),o.open("POST",la._origin+t,!0),Object.keys(n).forEach(s=>{o.setRequestHeader(s,n[s])}),o.send(e)});var lw=(t,e,n,r)=>{let i=r||la._userID;return cw(i,t,e),uw("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})};function g3(t,e){if(t&1&&(T(0,"tr")(1,"td",29),N(2),hr(3,"date"),S(),T(4,"td",29),N(5),S(),T(6,"td",29),N(7),hr(8,"currency"),S(),T(9,"td",29),N(10),S(),T(11,"td",29),N(12),S()()),t&2){let n=e.$implicit;Q(2),ot(hs(3,5,n.data,"dd/MM/yyyy")),Q(3),ot(n.descricao),Q(2),ot(hs(8,8,n.valor,"BRL")),Q(3),ot(n.parcelas),Q(2),ot(n.devedor)}}function y3(t,e){if(t&1&&(T(0,"option",30),N(1),S()),t&2){let n=e.$implicit;Je("value",n),Q(),dr(" ",n," ")}}var Ef=class t{descricao="";valor=null;data=null;parcelas=null;devedorSelecionado="";devedores=["Alan","Tiffani","Alcione","Rosangela","Valdemar"];compras=[{data:"2020-01-01",descricao:"Tenis Everlast",valor:349,parcelas:6,devedor:"Alan"},{data:"2020-01-01",descricao:"Vestido",valor:89.9,parcelas:2,devedor:"Tiffani"},{data:"2020-01-01",descricao:"Spotify",valor:8.75,parcelas:1,devedor:"Valdemar"},{data:"2020-01-01",descricao:"MeliMais",valor:27.99,parcelas:1,devedor:"Alcione"},{data:"2020-01-01",descricao:"Joelheira",valor:71.35,parcelas:2,devedor:"Tiffani"},{data:"2020-01-01",descricao:"Netflix",valor:44.9,parcelas:1,devedor:"Alan"},{data:"2020-01-01",descricao:"Vestido",valor:89.9,parcelas:2,devedor:"Tiffani"},{data:"2020-01-01",descricao:"Spotify",valor:8.75,parcelas:1,devedor:"Valdemar"},{data:"2020-01-01",descricao:"MeliMais",valor:27.99,parcelas:1,devedor:"Alcione"},{data:"2020-01-01",descricao:"Joelheira",valor:71.35,parcelas:2,devedor:"Tiffani"},{data:"2020-01-01",descricao:"Netflix",valor:44.9,parcelas:1,devedor:"Alan"},{data:"2020-01-01",descricao:"Vestido",valor:89.9,parcelas:2,devedor:"Tiffani"},{data:"2020-01-01",descricao:"Spotify",valor:8.75,parcelas:1,devedor:"Valdemar"},{data:"2020-01-01",descricao:"MeliMais",valor:27.99,parcelas:1,devedor:"Alcione"},{data:"2020-01-01",descricao:"Joelheira",valor:71.35,parcelas:2,devedor:"Tiffani"},{data:"2020-01-01",descricao:"Netflix",valor:44.9,parcelas:1,devedor:"Alan"}];enviarEmail(){let e={to_name:"Alan",message:`
      Descri\xE7\xE3o da compra: ${this.descricao}
      Valor: ${this.valor}
      Data: ${this.data}
      Parcelas: ${this.parcelas}
      Devedor: ${this.devedorSelecionado}
    `};lw("service_5fqwrsh","template_oauxvwx",e,"WAAguCCAu6d6svmvk").then(n=>{console.log(n.text)},n=>{console.log(n.text)}),alert("Compra cadastrada com sucesso!"),this.descricao="",this.valor=null,this.data=null,this.parcelas=null,this.devedorSelecionado=""}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=it({type:t,selectors:[["app-compra"]],standalone:!0,features:[at],decls:58,vars:11,consts:[[1,"container","p-4"],["data-bs-toggle","modal","data-bs-target","#minhaModal",1,"btn","btn-primary"],[1,"container","mt-3"],[1,"p-4","border-0","shadow","w40"],[1,"fw-bold"],[1,"table","table-hover","table-sm"],[4,"ngFor","ngForOf"],["id","minhaModal",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],["for","descricao",1,"form-label"],["type","text","name","descricao","id","descricao","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","mb-3"],[1,"col"],["for","valor",1,"form-label"],["type","number","name","valor","id","valor","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","data",1,"form-label"],["type","date","name","data","id","data","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","quantidade",1,"form-label"],["type","text","name","parcelas","id","quantidade","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","devedor",1,"form-label"],["name","select","id","devedor","required","",1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[1,"fs-sm","fw-light"],[3,"value"]],template:function(n,r){n&1&&(T(0,"div",0)(1,"a",1),N(2,"Nova compra"),S()(),T(3,"div",2)(4,"div",3)(5,"h5",4),N(6,"\xDAltimas compras"),S(),T(7,"table",5)(8,"thead")(9,"tr")(10,"th"),N(11,"Data"),S(),T(12,"th"),N(13,"Descri\xE7\xE3o"),S(),T(14,"th"),N(15,"Valor"),S(),T(16,"th"),N(17,"Parcelas"),S(),T(18,"th"),N(19,"Devedor"),S()()(),T(20,"tbody"),Ct(21,g3,13,11,"tr",6),hr(22,"slice"),S()()()(),T(23,"div",7)(24,"div",8)(25,"div",9)(26,"div",10)(27,"h6",11),N(28,"Nova compra"),S(),Oe(29,"button",12),S(),T(30,"div",13)(31,"form")(32,"div",14)(33,"label",15),N(34,"Descri\xE7\xE3o"),S(),T(35,"input",16),et("ngModelChange",function(o){return st(r.descricao,o)||(r.descricao=o),o}),S()(),T(36,"div",17)(37,"div",18)(38,"label",19),N(39,"Valor"),S(),T(40,"input",20),et("ngModelChange",function(o){return st(r.valor,o)||(r.valor=o),o}),S()(),T(41,"div",18)(42,"label",21),N(43,"Data"),S(),T(44,"input",22),et("ngModelChange",function(o){return st(r.data,o)||(r.data=o),o}),S()()(),T(45,"div",17)(46,"div",18)(47,"label",23),N(48,"Parcelas"),S(),T(49,"input",24),et("ngModelChange",function(o){return st(r.parcelas,o)||(r.parcelas=o),o}),S()(),T(50,"div",18)(51,"label",25),N(52,"Devedor"),S(),T(53,"select",26),et("ngModelChange",function(o){return st(r.devedorSelecionado,o)||(r.devedorSelecionado=o),o}),Ct(54,y3,2,2,"option",27),S()()(),T(55,"div")(56,"button",28),Le("click",function(){return r.enviarEmail()}),N(57,"Cadastrar"),S()()()()()()()),n&2&&(Q(21),Je("ngForOf",tb(22,7,r.compras,0,5)),Q(14),Xe("ngModel",r.descricao),Q(5),Xe("ngModel",r.valor),Q(4),Xe("ngModel",r.data),Q(5),Xe("ngModel",r.parcelas),Q(4),Xe("ngModel",r.devedorSelecionado),Q(),Je("ngForOf",r.devedores))},dependencies:[Ii,_i,OA,FA,Un,e_,Ah,yi,vi,zc,Mr,Rr,Wt,ps,Mb,Cd,Dd],styles:["*[_ngcontent-%COMP%]{font-family:Roboto,sans-serif}.w40[_ngcontent-%COMP%]{width:100%;border-radius:15px;background-color:#fff}@media (max-width: 576px){.content[_ngcontent-%COMP%]{width:100%}}@media (max-width: 400px){.table[_ngcontent-%COMP%]{font-size:10px}}"]})};function v3(t,e){if(t&1&&(T(0,"tr")(1,"td",6),N(2),hr(3,"date"),S(),T(4,"td",6),N(5),S(),T(6,"td",6),N(7),hr(8,"currency"),S(),T(9,"td",6),N(10),S(),T(11,"td",6),N(12),S()()),t&2){let n=e.$implicit;Q(2),ot(hs(3,5,n.data,"dd/MM/yyyy")),Q(3),ot(n.descricao),Q(2),ot(hs(8,8,n.valor,"BRL")),Q(3),ot(n.parcelas),Q(2),ot(n.devedor)}}var Df=class t{compras=[{data:"2020-01-01",descricao:"Tenis Everlast",valor:349,parcelas:6,devedor:"Alan"},{data:"2020-01-01",descricao:"Vestido",valor:89.9,parcelas:2,devedor:"Tiffani"},{data:"2020-01-01",descricao:"Spotify",valor:8.75,parcelas:1,devedor:"Valdemar"},{data:"2020-01-01",descricao:"MeliMais",valor:27.99,parcelas:1,devedor:"Alcione"},{data:"2020-01-01",descricao:"Joelheira",valor:71.35,parcelas:2,devedor:"Tiffani"},{data:"2020-01-01",descricao:"Netflix",valor:44.9,parcelas:1,devedor:"Alan"},{data:"2020-01-01",descricao:"Robo as pirador de p\xF3",valor:44.9,parcelas:1,devedor:"Alan"},{data:"2020-01-01",descricao:"Netflix",valor:44.9,parcelas:1,devedor:"Alan"},{data:"2020-01-01",descricao:"Netflix",valor:44.9,parcelas:1,devedor:"Alan"}];static \u0275fac=function(n){return new(n||t)};static \u0275cmp=it({type:t,selectors:[["app-cartao"]],standalone:!0,features:[at],decls:21,vars:1,consts:[[1,"container-fluid","my-3"],[1,"container","d-flex","justify-content-between","gap-3"],[1,"p-4","border-0","shadow","w40"],[1,"fw-bold"],[1,"table","table-hover","table-sm"],[4,"ngFor","ngForOf"],[1,"fs-sm","fw-light"]],template:function(n,r){n&1&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),N(4,"\xDAltimos pagamentos"),S(),T(5,"table",4)(6,"thead")(7,"tr")(8,"th"),N(9,"Data"),S(),T(10,"th"),N(11,"Descri\xE7\xE3o"),S(),T(12,"th"),N(13,"Valor"),S(),T(14,"th"),N(15,"Parcelas"),S(),T(16,"th"),N(17,"Pessoa"),S()()(),T(18,"tbody"),Ct(19,v3,13,11,"tr",5),S()()(),Oe(20,"div",2),S()()),n&2&&(Q(19),Je("ngForOf",r.compras))},dependencies:[Wt,ps,Cd,Dd],styles:[".w40[_ngcontent-%COMP%]{width:60%;border-radius:15px;background-color:#fff}@media (max-width: 992px){.container[_ngcontent-%COMP%]{flex-direction:column}.w40[_ngcontent-%COMP%]{width:100%;margin:auto}}@media (max-width: 400px){.table[_ngcontent-%COMP%]{font-size:9px}}"]})};var da=class t{firebaseAuth=k(fo);register(e,n,r,i){let o=cA(this.firebaseAuth,e,n).then(s=>dA(s.user,{displayName:i}));return Ae(o)}login(e,n){let r=lA(this.firebaseAuth,e,n).then(()=>{});return Ae(r)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};function _3(t,e){if(t&1&&(T(0,"div",24),N(1),S()),t&2){let n=lr();Q(),dr(" ",n.errorMessage," ")}}var Cf=class t{constructor(e){this.router=e}authService=k(da);usuario="";senha="";errorMessage="";login(){this.authService.login(this.usuario,this.senha).subscribe({next:()=>{this.errorMessage="",this.router.navigate(["/fatura"])},error:e=>{this.errorMessage="Usu\xE1rio ou senha inv\xE1lidos"}})}static \u0275fac=function(n){return new(n||t)(z(bt))};static \u0275cmp=it({type:t,selectors:[["app-login"]],standalone:!0,features:[at],decls:32,vars:3,consts:[[1,"container","mt-3","pt-5"],[1,"row"],[1,"col-12","col-sm-8","col-md-6","m-auto"],[1,"card","border-0","shadow"],[1,"card-body"],[1,"text-center","my-3"],["xmlns","http://www.w3.org/2000/svg","width","60","height","60","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person-circle"],["d","M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"],["fill-rule","evenodd","d","M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"],["id","google-link",1,"form-control","d-flex","align-items-center"],["id","google","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48","width","22px","height","22px"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"],[1,"mx-auto"],[1,"fw-normal","text-center","mt-3"],[3,"ngSubmit"],["type","text","name","usuario","id","usuario","placeholder","E-mail",1,"form-control","py-2",3,"ngModelChange","ngModel"],["type","password","name","senha","id","","placeholder","Senha",1,"form-control","my-4","py-2",3,"ngModelChange","ngModel"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"text-center"],["type","submit",1,"btn","btn-primary"],["routerLink","register",1,"nav-link","mt-2"],["role","alert",1,"alert","alert-danger"]],template:function(n,r){n&1&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),tg(),T(6,"svg",6),Oe(7,"path",7)(8,"path",8),S()(),ng(),T(9,"div")(10,"h5",5),N(11,"Acesse sua conta"),S()(),T(12,"a",9),tg(),T(13,"svg",10),Oe(14,"path",11)(15,"path",12)(16,"path",13)(17,"path",14),S(),ng(),T(18,"span",15),N(19,"Entre com o Google"),S()(),T(20,"div")(21,"p",16),N(22,"ou"),S()(),T(23,"form",17),Le("ngSubmit",function(){return r.login()}),T(24,"input",18),et("ngModelChange",function(o){return st(r.usuario,o)||(r.usuario=o),o}),S(),T(25,"input",19),et("ngModelChange",function(o){return st(r.senha,o)||(r.senha=o),o}),S(),Ct(26,_3,2,1,"div",20),T(27,"div",21)(28,"button",22),N(29,"Entrar"),S(),T(30,"a",23),N(31,"N\xE3o possui uma conta?"),S()()()()()()()()),n&2&&(Q(24),Xe("ngModel",r.usuario),Q(),Xe("ngModel",r.senha),Q(),Je("ngIf",r.errorMessage))},dependencies:[Ii,_i,Un,yi,vi,Mr,Rr,Wt,ai,bs],styles:["#google-link[_ngcontent-%COMP%]{text-decoration:none}#google-link[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#ea4335;color:#fff}#google-link[_ngcontent-%COMP%]:hover   #google[_ngcontent-%COMP%]{display:none}"]})};var Ti=class t{constructor(e){this.router=e}canActivate(e,n){return localStorage.getItem("isAuthenticated")==="true"?!0:(this.router.navigate(["/"]),!1)}static \u0275fac=function(n){return new(n||t)(Z(bt))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};function I3(t,e){if(t&1&&(T(0,"div",14),N(1),S()),t&2){let n=lr();Q(),dr(" ",n.successMessage," ")}}function w3(t,e){if(t&1&&(T(0,"div",15),N(1),S()),t&2){let n=lr();Q(),dr(" ",n.errorMessage," ")}}var bf=class t{authService=k(da);email="";name="";phone="";password="";successMessage="";errorMessage="";onSubmit(){this.authService.register(this.email,this.password,this.phone,this.name).subscribe({next:()=>{this.errorMessage="",this.successMessage="Usu\xE1rio criado com sucesso"},error:e=>{this.successMessage="",this.errorMessage="Erro ao criar usu\xE1rio"}})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=it({type:t,selectors:[["app-registro"]],standalone:!0,features:[at],decls:20,vars:6,consts:[[1,"container"],[1,"my-3"],[3,"ngSubmit"],["for","inputName",1,"form-label","mt-3"],["type","text","name","inputName","id","inputName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","inputPhone",1,"form-label","mt-3"],["type","text","name","inputPhone","id","inputPhone",1,"form-control",3,"ngModelChange","ngModel"],["for","inputEmail",1,"form-label","mt-3"],["type","email","name","inputEmail","id","inputEmail","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","inputPassword",1,"form-label","mt-3"],["type","password","name","inputPassword","id","inputPassword","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","alert alert-success mt-3","role","alert",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],["type","submit",1,"btn","btn-primary","my-3"],["role","alert",1,"alert","alert-success","mt-3"],["role","alert",1,"alert","alert-danger","mt-3"]],template:function(n,r){n&1&&(T(0,"div",0)(1,"h6",1),N(2,"Cadastro"),S(),T(3,"form",2),Le("ngSubmit",function(){return r.onSubmit()}),T(4,"label",3),N(5,"Nome"),S(),T(6,"input",4),et("ngModelChange",function(o){return st(r.name,o)||(r.name=o),o}),S(),T(7,"label",5),N(8,"Telefone"),S(),T(9,"input",6),et("ngModelChange",function(o){return st(r.phone,o)||(r.phone=o),o}),S(),T(10,"label",7),N(11,"E-mail"),S(),T(12,"input",8),et("ngModelChange",function(o){return st(r.email,o)||(r.email=o),o}),S(),T(13,"label",9),N(14,"Senha"),S(),T(15,"input",10),et("ngModelChange",function(o){return st(r.password,o)||(r.password=o),o}),S(),Ct(16,I3,2,1,"div",11)(17,w3,2,1,"div",12),T(18,"button",13),N(19,"Cadastrar"),S()()()),n&2&&(Q(6),Xe("ngModel",r.name),Q(3),Xe("ngModel",r.phone),Q(3),Xe("ngModel",r.email),Q(3),Xe("ngModel",r.password),Q(),Je("ngIf",r.successMessage),Q(),Je("ngIf",r.errorMessage))},dependencies:[Ii,_i,Un,yi,vi,zc,Mr,Rr,Wt,ai]})};var Tf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=it({type:t,selectors:[["app-dashboard"]],standalone:!0,features:[at],decls:71,vars:0,consts:[[1,"container","mt-3"],[1,"p-4","border-0","shadow","w40"],[1,"fw-bold"],[1,"d-flex","justify-content-between"],[1,"mt-3"],[1,"table","table-hover","table-sm"],[1,"fs-sm","fw-light"]],template:function(n,r){n&1&&(T(0,"div",0)(1,"div",1)(2,"h5",2),N(3,"Fatura atual"),S(),T(4,"div",3)(5,"div")(6,"p",2),N(7,"Total"),S(),T(8,"p"),N(9,"R$ 1360,00"),S()(),T(10,"div")(11,"p",2),N(12,"Vencimento"),S(),T(13,"p"),N(14,"10/01/2024"),S()()()(),T(15,"div",4)(16,"div",1)(17,"h5",2),N(18,"Total individual"),S(),T(19,"table",5)(20,"thead")(21,"tr")(22,"th"),N(23,"Devedor"),S(),T(24,"th"),N(25,"Valor"),S()()(),T(26,"tbody")(27,"tr")(28,"td",6),N(29,"Alan"),S(),T(30,"td",6),N(31,"R$ 654,00"),S()(),T(32,"tr")(33,"td",6),N(34,"Tiffani"),S(),T(35,"td",6),N(36,"R$ 680,00"),S()()()()(),T(37,"div",4)(38,"div",1)(39,"h5",2),N(40,"\xDAltimas parcelas"),S(),T(41,"table",5)(42,"thead")(43,"tr")(44,"th"),N(45,"Descri\xE7\xE3o"),S(),T(46,"th"),N(47,"Devedor"),S(),T(48,"th"),N(49,"Parcela"),S(),T(50,"th"),N(51,"Valor"),S()()(),T(52,"tbody")(53,"tr")(54,"td",6),N(55,"Joelheira"),S(),T(56,"td",6),N(57,"Tiffani"),S(),T(58,"td",6),N(59,"2"),S(),T(60,"td",6),N(61,"R$ 31,50"),S()(),T(62,"tr")(63,"td",6),N(64,"Vestido"),S(),T(65,"td",6),N(66,"Tiffani"),S(),T(67,"td",6),N(68,"5"),S(),T(69,"td",6),N(70,"R$ 45,00"),S()()()()()()()())},styles:[".w40[_ngcontent-%COMP%]{border-radius:15px}@media (max-width: 400px){.table[_ngcontent-%COMP%]{font-size:12px}}"]})};var Sf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=it({type:t,selectors:[["app-fatura"]],standalone:!0,features:[at],decls:101,vars:0,consts:[[1,"container","mt-3"],[1,"p-4","border-0","shadow","w40"],[1,"d-flex","align-items-center","justify-content-between"],[1,"btn"],[1,"bi","bi-caret-left-fill"],[1,"text-center"],[1,"bi","bi-caret-right-fill"],[1,"d-flex","mt-3","justify-content-between"],[1,"fw-bold","m-0"],[1,"d-flex","justify-content-between","align-items-end","my-2"],[1,"btn","btn-success","btn-sm"],[1,"table","table-hover","table-sm"],[1,"fs-sm","fw-light"],[1,"d-flex","flex-column"],[2,"font-size","xx-small"],[1,"my-3"],[1,"fw-bold"],[1,"w-75"],[1,"invisible",2,"height","10vh"]],template:function(n,r){n&1&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),Oe(4,"i",4),S(),T(5,"h5",5),N(6,"Janeiro"),S(),T(7,"button",3),Oe(8,"i",6),S()(),T(9,"div",7)(10,"div")(11,"p",8),N(12,"Total"),S(),T(13,"p"),N(14,"R$ 1360,00"),S()(),T(15,"div")(16,"p",8),N(17,"Vencimento"),S(),T(18,"p"),N(19,"10/01/2024"),S()()(),T(20,"div",9)(21,"p",8),N(22,"Despesas da fatura"),S(),T(23,"button",10),N(24,"Pagar"),S()(),T(25,"table",11)(26,"thead")(27,"tr")(28,"th"),N(29,"Pessoa"),S(),T(30,"th"),N(31,"Descri\xE7\xE3o"),S(),T(32,"th"),N(33,"Valor"),S()()(),T(34,"tbody")(35,"tr")(36,"td",12),N(37,"Tiffani"),S(),T(38,"td",12)(39,"div",13)(40,"span"),N(41,"Joelheira Tiffani"),S(),T(42,"span",14),N(43,"2 de 2"),S()()(),T(44,"td",12),N(45,"R$ 31,50"),S()(),T(46,"tr")(47,"td",12),N(48,"Tiffani"),S(),T(49,"td",12)(50,"div",13)(51,"span"),N(52,"Vestido"),S(),T(53,"span",14),N(54,"2 de 3"),S()()(),T(55,"td",12),N(56,"R$ 54,00"),S()(),T(57,"tr")(58,"td",12),N(59,"Alan"),S(),T(60,"td",12)(61,"div",13)(62,"span"),N(63,"T\xEAnis"),S(),T(64,"span",14),N(65,"2 de 6"),S()()(),T(66,"td",12),N(67,"R$ 99,80"),S()()()()(),T(68,"div",15)(69,"div",1)(70,"p",16),N(71,"Total individual"),S(),T(72,"table",11)(73,"thead")(74,"tr")(75,"th",17),N(76,"Pessoa"),S(),T(77,"th"),N(78,"Valor"),S()()(),T(79,"tbody")(80,"tr")(81,"td",12),N(82,"Tiffani"),S(),T(83,"td",12),N(84,"R$ 85,50"),S()(),T(85,"tr")(86,"td",12),N(87,"Alan"),S(),T(88,"td",12),N(89,"R$ 99,80"),S()(),T(90,"tr")(91,"td",12),N(92,"Alcione"),S(),T(93,"td",12),N(94,"R$ 27,99"),S()(),T(95,"tr")(96,"td",12),N(97,"Valdemar"),S(),T(98,"td",12),N(99,"R$ 8,75"),S()()()()()(),Oe(100,"div",18),S())},styles:[".w40[_ngcontent-%COMP%]{border-radius:15px}@media (max-width: 400px){.table[_ngcontent-%COMP%]{font-size:14px}}"]})};var RM=[{path:"",component:Cf},{path:"register",component:bf},{path:"pessoa",component:wf,canActivate:[Ti]},{path:"compra",component:Ef,canActivate:[Ti]},{path:"cartao",component:Df,canActivate:[Ti]},{path:"dashboard",component:Tf,canActivate:[Ti]},{path:"fatura",component:Sf,canActivate:[Ti]}];var E3={apiKey:po.firebaseConfig.apiKey,authDomain:po.firebaseConfig.authDomain,projectId:po.firebaseConfig.projectId,storageBucket:po.firebaseConfig.storageBucket,messagingSenderId:po.firebaseConfig.messagingSenderId,appId:po.firebaseConfig.appId},MM={providers:[ab({eventCoalescing:!0}),MT(RM),lS(()=>dS(E3)),aA(()=>uA()),bM(()=>AM())]};function D3(t,e){t&1&&(T(0,"div",1)(1,"a",2),Oe(2,"i",3),S(),T(3,"a",4),Oe(4,"i",5),S(),T(5,"a",6),Oe(6,"i",7),S(),T(7,"a",8),Oe(8,"i",9),S(),T(9,"a",10),Oe(10,"i",11),S()())}var Af=class t{constructor(e){this.router=e;this.router.events.subscribe(()=>{this.showNavbar=this.router.url!=="/"})}title="SistemaCartaoAngular";showNavbar=!0;static \u0275fac=function(n){return new(n||t)(z(bt))};static \u0275cmp=it({type:t,selectors:[["app-root"]],standalone:!0,features:[at],decls:2,vars:1,consts:[["class","container-fluid bg-dark position-fixed bottom-0",4,"ngIf"],[1,"container-fluid","bg-dark","position-fixed","bottom-0"],["routerLink","pessoa","routerLinkActive","active",1,"btn","btn-dark","btn-lg","btn-block"],[1,"bi","bi-person-fill"],["routerLink","compra","routerLinkActive","active",1,"btn","btn-dark","btn-lg","btn-block"],[1,"bi","bi-cart-fill"],["routerLink","fatura","routerLinkActive","active",1,"btn","btn-dark","btn-lg","btn-block"],[1,"bi","bi-clipboard-data-fill"],["routerLink","dashboard","routerLinkActive","active",1,"btn","btn-dark","btn-lg","btn-block"],[1,"bi","bi-bar-chart-line-fill"],["routerLink","cartao","routerLinkActive","active",1,"btn","btn-dark","btn-lg","btn-block"],[1,"bi","bi-wallet-fill"]],template:function(n,r){n&1&&(Oe(0,"router-outlet"),Ct(1,D3,11,0,"div",0)),n&2&&(Q(),Je("ngIf",r.showNavbar))},dependencies:[xy,bs,Wt,ai,kT,AT],styles:[".container-fluid[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:8vh}.active[_ngcontent-%COMP%]{background-color:#14171a}"]})};jb(Af,MM).catch(t=>console.error(t));
