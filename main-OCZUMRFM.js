var EM=Object.defineProperty,DM=Object.defineProperties;var CM=Object.getOwnPropertyDescriptors;var Bw=Object.getOwnPropertySymbols,bM=Object.getPrototypeOf,TM=Object.prototype.hasOwnProperty,SM=Object.prototype.propertyIsEnumerable,AM=Reflect.get;var $w=(t,e,n)=>e in t?EM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V=(t,e)=>{for(var n in e||={})TM.call(e,n)&&$w(t,n,e[n]);if(Bw)for(var n of Bw(e))SM.call(e,n)&&$w(t,n,e[n]);return t},le=(t,e)=>DM(t,CM(e));var Or=(t,e,n)=>AM(bM(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function Hw(t,e){return Object.is(t,e)}var Ke=null,Du=!1,Cu=1,Wn=Symbol("SIGNAL");function ye(t){let e=Ke;return Ke=t,e}function qw(){return Ke}var Ea={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function jf(t){if(Du)throw new Error("");if(Ke===null)return;Ke.consumerOnSignalRead(t);let e=Ke.nextProducerIndex++;if(Au(Ke),e<Ke.producerNode.length&&Ke.producerNode[e]!==t&&wa(Ke)){let n=Ke.producerNode[e];Su(n,Ke.producerIndexOfThis[e])}Ke.producerNode[e]!==t&&(Ke.producerNode[e]=t,Ke.producerIndexOfThis[e]=wa(Ke)?Kw(t,Ke,e):0),Ke.producerLastReadVersion[e]=t.version}function RM(){Cu++}function zw(t){if(!(wa(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Cu)){if(!t.producerMustRecompute(t)&&!Bf(t)){t.dirty=!1,t.lastCleanEpoch=Cu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Cu}}function Gw(t){if(t.liveConsumerNode===void 0)return;let e=Du;Du=!0;try{for(let n of t.liveConsumerNode)n.dirty||MM(n)}finally{Du=e}}function Ww(){return Ke?.consumerAllowSignalWrites!==!1}function MM(t){t.dirty=!0,Gw(t),t.consumerMarkedDirty?.(t)}function Tu(t){return t&&(t.nextProducerIndex=0),ye(t)}function Uf(t,e){if(ye(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(wa(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Su(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Bf(t){Au(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(zw(n),r!==n.version))return!0}return!1}function $f(t){if(Au(t),wa(t))for(let e=0;e<t.producerNode.length;e++)Su(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Kw(t,e,n){if(Qw(t),t.liveConsumerNode.length===0&&Yw(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Kw(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Su(t,e){if(Qw(t),t.liveConsumerNode.length===1&&Yw(t))for(let r=0;r<t.producerNode.length;r++)Su(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Au(i),i.producerIndexOfThis[r]=e}}function wa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Au(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Qw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Yw(t){return t.producerNode!==void 0}function Zw(t){let e=Object.create(NM);e.computation=t;let n=()=>{if(zw(e),jf(e),e.value===bu)throw e.error;return e.value};return n[Wn]=e,n}var Vf=Symbol("UNSET"),Lf=Symbol("COMPUTING"),bu=Symbol("ERRORED"),NM=le(V({},Ea),{value:Vf,dirty:!0,error:null,equal:Hw,producerMustRecompute(t){return t.value===Vf||t.value===Lf},producerRecomputeValue(t){if(t.value===Lf)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Lf;let n=Tu(t),r;try{r=t.computation()}catch(i){r=bu,t.error=i}finally{Uf(t,n)}if(e!==Vf&&e!==bu&&r!==bu&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function xM(){throw new Error}var Jw=xM;function Xw(){Jw()}function eE(t){Jw=t}var PM=null;function tE(t){let e=Object.create(rE);e.value=t;let n=()=>(jf(e),e.value);return n[Wn]=e,n}function Hf(t,e){Ww()||Xw(),t.equal(t.value,e)||(t.value=e,OM(t))}function nE(t,e){Ww()||Xw(),Hf(t,e(t.value))}var rE=le(V({},Ea),{equal:Hw,value:void 0});function OM(t){t.version++,RM(),Gw(t),PM?.()}function te(t){return typeof t=="function"}function _o(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ru=_o(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Di(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Le=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof Ru?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{iE(o)}catch(s){e=e??[],s instanceof Ru?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ru(e)}}add(e){var n;if(e&&e!==this)if(this.closed)iE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Di(n,e)}remove(e){let{_finalizers:n}=this;n&&Di(n,e),e instanceof t&&e._removeParent(this)}};Le.EMPTY=(()=>{let t=new Le;return t.closed=!0,t})();var qf=Le.EMPTY;function Mu(t){return t instanceof Le||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function iE(t){te(t)?t():t.unsubscribe()}var cn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Io={setTimeout(t,e,...n){let{delegate:r}=Io;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Io;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Nu(t){Io.setTimeout(()=>{let{onUnhandledError:e}=cn;if(e)e(t);else throw t})}function Da(){}var oE=zf("C",void 0,void 0);function sE(t){return zf("E",void 0,t)}function aE(t){return zf("N",t,void 0)}function zf(t,e,n){return{kind:t,value:e,error:n}}var Ci=null;function wo(t){if(cn.useDeprecatedSynchronousErrorHandling){let e=!Ci;if(e&&(Ci={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ci;if(Ci=null,n)throw r}}else t()}function cE(t){cn.useDeprecatedSynchronousErrorHandling&&Ci&&(Ci.errorThrown=!0,Ci.error=t)}var bi=class extends Le{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Mu(e)&&e.add(this)):this.destination=VM}static create(e,n,r){return new Eo(e,n,r)}next(e){this.isStopped?Wf(aE(e),this):this._next(e)}error(e){this.isStopped?Wf(sE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Wf(oE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},kM=Function.prototype.bind;function Gf(t,e){return kM.call(t,e)}var Kf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){xu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){xu(r)}else xu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){xu(n)}}},Eo=class extends bi{constructor(e,n,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&cn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Gf(e.next,o),error:e.error&&Gf(e.error,o),complete:e.complete&&Gf(e.complete,o)}):i=e}this.destination=new Kf(i)}};function xu(t){cn.useDeprecatedSynchronousErrorHandling?cE(t):Nu(t)}function FM(t){throw t}function Wf(t,e){let{onStoppedNotification:n}=cn;n&&Io.setTimeout(()=>n(t,e))}var VM={closed:!0,next:Da,error:FM,complete:Da};var Do=typeof Symbol=="function"&&Symbol.observable||"@@observable";function jt(t){return t}function Qf(...t){return Yf(t)}function Yf(t){return t.length===0?jt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var fe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=jM(n)?n:new Eo(n,r,i);return wo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=uE(r),new r((i,o)=>{let s=new Eo({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Do](){return this}pipe(...n){return Yf(n)(this)}toPromise(n){return n=uE(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function uE(t){var e;return(e=t??cn.Promise)!==null&&e!==void 0?e:Promise}function LM(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}function jM(t){return t&&t instanceof bi||LM(t)&&Mu(t)}function Zf(t){return te(t?.lift)}function pe(t){return e=>{if(Zf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(t,e,n,r,i){return new Jf(t,e,n,r,i)}var Jf=class extends bi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Co(){return pe((t,e)=>{let n=null;t._refCount++;let r=de(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var bo=class extends fe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Zf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Le;let n=this.getSubject();e.add(this.source.subscribe(de(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Le.EMPTY)}return e}refCount(){return Co()(this)}};var lE=_o(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var tt=(()=>{class t extends fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Pu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new lE}next(n){wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?qf:(this.currentObservers=null,o.push(n),new Le(()=>{this.currentObservers=null,Di(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new fe;return n.source=this,n}}return t.create=(e,n)=>new Pu(e,n),t})(),Pu=class extends tt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:qf}};var lt=class extends tt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Xf={now(){return(Xf.delegate||Date).now()},delegate:void 0};var Ou=class extends Le{constructor(e,n){super()}schedule(e,n=0){return this}};var Ca={setInterval(t,e,...n){let{delegate:r}=Ca;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ca;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var To=class extends Ou{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ca.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ca.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Di(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var So=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};So.now=Xf.now;var Ao=class extends So{constructor(e,n=So.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var ep=new Ao(To);var ku=class extends To{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Fu=class extends Ao{};var tp=new Fu(ku);var Ut=new fe(t=>t.complete());function dE(t){return t&&te(t.schedule)}function hE(t){return t[t.length-1]}function Vu(t){return te(hE(t))?t.pop():void 0}function kr(t){return dE(hE(t))?t.pop():void 0}function np(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function pE(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function fE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ti(t){return this instanceof Ti?(this.v=t,this):new Ti(t)}function mE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(R){return Promise.resolve(R).then(v,p)}}function a(v,R){r[v]&&(i[v]=function(P){return new Promise(function(x,j){o.push([v,P,x,j])>1||u(v,P)})},R&&(i[v]=R(i[v])))}function u(v,R){try{l(r[v](R))}catch(P){g(o[0][3],P)}}function l(v){v.value instanceof Ti?Promise.resolve(v.value.v).then(h,p):g(o[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function g(v,R){v(R),o.shift(),o.length&&u(o[0][0],o[0][1])}}function gE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof fE=="function"?fE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Lu=t=>t&&typeof t.length=="number"&&typeof t!="function";function ju(t){return te(t?.then)}function Uu(t){return te(t[Do])}function Bu(t){return Symbol.asyncIterator&&te(t?.[Symbol.asyncIterator])}function $u(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function UM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Hu=UM();function qu(t){return te(t?.[Hu])}function zu(t){return mE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ti(n.read());if(i)return yield Ti(void 0);yield yield Ti(r)}}finally{n.releaseLock()}})}function Gu(t){return te(t?.getReader)}function $e(t){if(t instanceof fe)return t;if(t!=null){if(Uu(t))return BM(t);if(Lu(t))return $M(t);if(ju(t))return HM(t);if(Bu(t))return yE(t);if(qu(t))return qM(t);if(Gu(t))return zM(t)}throw $u(t)}function BM(t){return new fe(e=>{let n=t[Do]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function $M(t){return new fe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function HM(t){return new fe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Nu)})}function qM(t){return new fe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function yE(t){return new fe(e=>{GM(t,e).catch(n=>e.error(n))})}function zM(t){return yE(zu(t))}function GM(t,e){var n,r,i,o;return pE(this,void 0,void 0,function*(){try{for(n=gE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function xt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Fr(t,e=0){return pe((n,r)=>{n.subscribe(de(r,i=>xt(r,t,()=>r.next(i),e),()=>xt(r,t,()=>r.complete(),e),i=>xt(r,t,()=>r.error(i),e)))})}function Vr(t,e=0){return pe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function vE(t,e){return $e(t).pipe(Vr(e),Fr(e))}function _E(t,e){return $e(t).pipe(Vr(e),Fr(e))}function IE(t,e){return new fe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function wE(t,e){return new fe(n=>{let r;return xt(n,e,()=>{r=t[Hu](),xt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function Wu(t,e){if(!t)throw new Error("Iterable cannot be null");return new fe(n=>{xt(n,e,()=>{let r=t[Symbol.asyncIterator]();xt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function EE(t,e){return Wu(zu(t),e)}function DE(t,e){if(t!=null){if(Uu(t))return vE(t,e);if(Lu(t))return IE(t,e);if(ju(t))return _E(t,e);if(Bu(t))return Wu(t,e);if(qu(t))return wE(t,e);if(Gu(t))return EE(t,e)}throw $u(t)}function Se(t,e){return e?DE(t,e):$e(t)}function K(...t){let e=kr(t);return Se(t,e)}function Ro(t,e){let n=te(t)?t:()=>t,r=i=>i.error(n());return new fe(e?i=>e.schedule(r,0,i):r)}function rp(t){return!!t&&(t instanceof fe||te(t.lift)&&te(t.subscribe))}var Kn=_o(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ue(t,e){return pe((n,r)=>{let i=0;n.subscribe(de(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:WM}=Array;function KM(t,e){return WM(e)?t(...e):t(e)}function Ku(t){return ue(e=>KM(t,e))}var{isArray:QM}=Array,{getPrototypeOf:YM,prototype:ZM,keys:JM}=Object;function Qu(t){if(t.length===1){let e=t[0];if(QM(e))return{args:e,keys:null};if(XM(e)){let n=JM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function XM(t){return t&&typeof t=="object"&&YM(t)===ZM}function Yu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ba(...t){let e=kr(t),n=Vu(t),{args:r,keys:i}=Qu(t);if(r.length===0)return Se([],e);let o=new fe(eN(r,e,i?s=>Yu(i,s):jt));return n?o.pipe(Ku(n)):o}function eN(t,e,n=jt){return r=>{CE(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)CE(e,()=>{let l=Se(t[u],e),h=!1;l.subscribe(de(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function CE(t,e,n){t?xt(n,t,e):e()}function bE(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},v=P=>l<r?R(P):u.push(P),R=P=>{o&&e.next(P),l++;let x=!1;$e(n(P,h++)).subscribe(de(e,j=>{i?.(j),o?v(j):e.next(j)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;u.length&&l<r;){let j=u.shift();s?xt(e,s,()=>R(j)):R(j)}g()}catch(j){e.error(j)}}))};return t.subscribe(de(e,v,()=>{p=!0,g()})),()=>{a?.()}}function He(t,e,n=1/0){return te(e)?He((r,i)=>ue((o,s)=>e(r,o,i,s))($e(t(r,i))),n):(typeof e=="number"&&(n=e),pe((r,i)=>bE(r,i,t,n)))}function Lr(t=1/0){return He(jt,t)}function TE(){return Lr(1)}function Mo(...t){return TE()(Se(t,kr(t)))}function Zu(t){return new fe(e=>{$e(t()).subscribe(e)})}function ip(...t){let e=Vu(t),{args:n,keys:r}=Qu(t),i=new fe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;$e(n[h]).subscribe(de(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Yu(r,a):a),o.complete())}))}});return e?i.pipe(Ku(e)):i}function Qt(t,e){return pe((n,r)=>{let i=0;n.subscribe(de(r,o=>t.call(e,o,i++)&&r.next(o)))})}function jr(t){return pe((e,n)=>{let r=null,i=!1,o;r=e.subscribe(de(n,void 0,void 0,s=>{o=$e(t(s,jr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function SE(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(de(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Si(t,e){return te(e)?He(t,e,1):He(t,1)}function Ur(t){return pe((e,n)=>{let r=!1;e.subscribe(de(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Qn(t){return t<=0?()=>Ut:pe((e,n)=>{let r=0;e.subscribe(de(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function op(t){return ue(()=>t)}function Ju(t=tN){return pe((e,n)=>{let r=!1;e.subscribe(de(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function tN(){return new Kn}function Ta(t){return pe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function In(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Qt((i,o)=>t(i,o,r)):jt,Qn(1),n?Ur(e):Ju(()=>new Kn))}function No(t){return t<=0?()=>Ut:pe((e,n)=>{let r=[];e.subscribe(de(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function sp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Qt((i,o)=>t(i,o,r)):jt,No(1),n?Ur(e):Ju(()=>new Kn))}function ap(t,e){return pe(SE(t,e,arguments.length>=2,!0))}function cp(...t){let e=kr(t);return pe((n,r)=>{(e?Mo(t,n,e):Mo(t,n)).subscribe(r)})}function Yt(t,e){return pe((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(de(r,u=>{i?.unsubscribe();let l=0,h=o++;$e(t(u,h)).subscribe(i=de(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function up(t){return pe((e,n)=>{$e(t).subscribe(de(n,()=>n.complete(),Da)),!n.closed&&e.subscribe(n)})}function Qe(t,e,n){let r=te(t)||e||n?{next:t,error:e,complete:n}:t;return r?pe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(de(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):jt}var f0="https://g.co/ng/security#xss",H=class extends Error{constructor(e,n){super(wm(e,n)),this.code=e}};function wm(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ka(t){return{toString:t}.toString()}var Xu="__parameters__";function nN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function p0(t,e,n){return ka(()=>{let r=nN(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Xu)?u[Xu]:Object.defineProperty(u,Xu,{value:[]})[Xu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Ri=globalThis;function Ae(t){for(let e in t)if(t[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function rN(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Mt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Mt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function AE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var iN=Ae({__forward_ref__:Ae});function An(t){return t.__forward_ref__=An,t.toString=function(){return Mt(this())},t}function Rt(t){return m0(t)?t():t}function m0(t){return typeof t=="function"&&t.hasOwnProperty(iN)&&t.__forward_ref__===An}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Kr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ol(t){return RE(t,y0)||RE(t,v0)}function g0(t){return Ol(t)!==null}function RE(t,e){return t.hasOwnProperty(e)?t[e]:null}function oN(t){let e=t&&(t[y0]||t[v0]);return e||null}function ME(t){return t&&(t.hasOwnProperty(NE)||t.hasOwnProperty(sN))?t[NE]:null}var y0=Ae({\u0275prov:Ae}),NE=Ae({\u0275inj:Ae}),v0=Ae({ngInjectableDef:Ae}),sN=Ae({ngInjectorDef:Ae}),B=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function _0(t){return t&&!!t.\u0275providers}var aN=Ae({\u0275cmp:Ae}),cN=Ae({\u0275dir:Ae}),uN=Ae({\u0275pipe:Ae}),lN=Ae({\u0275mod:Ae}),ll=Ae({\u0275fac:Ae}),Aa=Ae({__NG_ELEMENT_ID__:Ae}),xE=Ae({__NG_ENV_ID__:Ae});function kl(t){return typeof t=="string"?t:t==null?"":String(t)}function dN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():kl(t)}function hN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new H(-200,t)}function Em(t,e){throw new H(-201,!1)}var ae=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ae||{}),Cp;function I0(){return Cp}function Pt(t){let e=Cp;return Cp=t,e}function w0(t,e,n){let r=Ol(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ae.Optional)return null;if(e!==void 0)return e;Em(t,"Injector")}var fN={},Ra=fN,bp="__NG_DI_FLAG__",dl="ngTempTokenPath",pN="ngTokenPath",mN=/\n/gm,gN="\u0275",PE="__source",Fo;function yN(){return Fo}function Br(t){let e=Fo;return Fo=t,e}function vN(t,e=ae.Default){if(Fo===void 0)throw new H(-203,!1);return Fo===null?w0(t,void 0,e):Fo.get(t,e&ae.Optional?null:void 0,e)}function Q(t,e=ae.Default){return(I0()||vN)(Rt(t),e)}function O(t,e=ae.Default){return Q(t,Fl(e))}function Fl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Tp(t){let e=[];for(let n=0;n<t.length;n++){let r=Rt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,o=ae.Default;for(let s=0;s<r.length;s++){let a=r[s],u=_N(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(Q(i,o))}else e.push(Q(r))}return e}function E0(t,e){return t[bp]=e,t.prototype[bp]=e,t}function _N(t){return t[bp]}function IN(t,e,n,r){let i=t[dl];throw e[PE]&&i.unshift(e[PE]),t.message=wN(`
`+t.message,i,n,r),t[pN]=i,t[dl]=null,t}function wN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==gN?t.slice(2):t;let i=Mt(e);if(Array.isArray(e))i=e.map(Mt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Mt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(mN,`
  `)}`}var _t=E0(p0("Optional"),8);var Dm=E0(p0("SkipSelf"),4);function Ni(t,e){let n=t.hasOwnProperty(ll);return n?t[ll]:null}function EN(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function DN(t){return t.flat(Number.POSITIVE_INFINITY)}function Cm(t,e){t.forEach(n=>Array.isArray(n)?Cm(n,e):e(n))}function D0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function hl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function CN(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function bN(t,e,n){let r=Fa(t,e);return r>=0?t[r|1]=n:(r=~r,CN(t,r,e,n)),r}function lp(t,e){let n=Fa(t,e);if(n>=0)return t[n|1]}function Fa(t,e){return TN(t,e,1)}function TN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Lo={},Zt=[],jo=new B(""),C0=new B("",-1),b0=new B(""),fl=class{get(e,n=Ra){if(n===Ra){let r=new Error(`NullInjectorError: No provider for ${Mt(e)}!`);throw r.name="NullInjectorError",r}return n}},T0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(T0||{}),Dn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Dn||{}),qr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(qr||{});function SN(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Sp(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];AN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function S0(t){return t===3||t===4||t===6}function AN(t){return t.charCodeAt(0)===64}function Ma(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?OE(t,n,i,null,e[++r]):OE(t,n,i,null,null))}}return t}function OE(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var A0="ng-template";function RN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&SN(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(bm(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function bm(t){return t.type===4&&t.value!==A0}function MN(t,e,n){let r=t.type===4&&!n?A0:t.value;return e===r}function NN(t,e,n){let r=4,i=t.attrs,o=i!==null?ON(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!un(r)&&!un(u))return!1;if(s&&un(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!MN(t,u,n)||u===""&&e.length===1){if(un(r))return!1;s=!0}}else if(r&8){if(i===null||!RN(t,i,u,n)){if(un(r))return!1;s=!0}}else{let l=e[++a],h=xN(u,i,bm(t),n);if(h===-1){if(un(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(un(r))return!1;s=!0}}}}return un(r)||s}function un(t){return(t&1)===0}function xN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return kN(e,t)}function PN(t,e,n=!1){for(let r=0;r<e.length;r++)if(NN(t,e[r],n))return!0;return!1}function ON(t){for(let e=0;e<t.length;e++){let n=t[e];if(S0(n))return e}return t.length}function kN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function kE(t,e){return t?":not("+e.trim()+")":e}function FN(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!un(s)&&(e+=kE(o,i),i=""),r=s,o=o||!un(r);n++}return i!==""&&(e+=kE(o,i)),e}function VN(t){return t.map(FN).join(",")}function LN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!un(i))break;i=o}r++}return{attrs:e,classes:n}}function nt(t){return ka(()=>{let e=P0(t),n=le(V({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===T0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Dn.Emulated,styles:t.styles||Zt,_:null,schemas:t.schemas||null,tView:null,id:""});O0(n);let r=t.dependencies;return n.directiveDefs=VE(r,!1),n.pipeDefs=VE(r,!0),n.id=BN(n),n})}function jN(t){return zr(t)||R0(t)}function UN(t){return t!==null}function Qr(t){return ka(()=>({type:t.type,bootstrap:t.bootstrap||Zt,declarations:t.declarations||Zt,imports:t.imports||Zt,exports:t.exports||Zt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function FE(t,e){if(t==null)return Lo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=qr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==qr.None?[r,a]:r,e[o]=s):n[o]=r}return n}function ke(t){return ka(()=>{let e=P0(t);return O0(e),e})}function Ko(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function zr(t){return t[aN]||null}function R0(t){return t[cN]||null}function M0(t){return t[uN]||null}function N0(t){let e=zr(t)||R0(t)||M0(t);return e!==null?e.standalone:!1}function x0(t,e){let n=t[lN]||null;if(!n&&e===!0)throw new Error(`Type ${Mt(t)} does not have '\u0275mod' property.`);return n}function P0(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Lo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Zt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:FE(t.inputs,e),outputs:FE(t.outputs),debugInfo:null}}function O0(t){t.features?.forEach(e=>e(t))}function VE(t,e){if(!t)return null;let n=e?M0:jN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(UN)}function BN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Rn(t){return{\u0275providers:t}}function $N(...t){return{\u0275providers:k0(!0,t),\u0275fromNgModule:!0}}function k0(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Cm(e,s=>{let a=s;Ap(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&F0(i,o),n}function F0(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Tm(i,o=>{e(o,r)})}}function Ap(t,e,n,r){if(t=Rt(t),!t)return!1;let i=null,o=ME(t),s=!o&&zr(t);if(!o&&!s){let u=t.ngModule;if(o=ME(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Ap(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Cm(o.imports,h=>{Ap(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&F0(l,e)}if(!a){let l=Ni(i)||(()=>new i);e({provide:i,useFactory:l,deps:Zt},i),e({provide:b0,useValue:i,multi:!0},i),e({provide:jo,useValue:()=>Q(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Tm(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Tm(t,e){for(let n of t)_0(n)&&(n=n.\u0275providers),Array.isArray(n)?Tm(n,e):e(n)}var HN=Ae({provide:String,useValue:Ae});function V0(t){return t!==null&&typeof t=="object"&&HN in t}function qN(t){return!!(t&&t.useExisting)}function zN(t){return!!(t&&t.useFactory)}function Uo(t){return typeof t=="function"}function GN(t){return!!t.useClass}var Vl=new B(""),il={},WN={},dp;function Sm(){return dp===void 0&&(dp=new fl),dp}var $t=class{},Na=class extends $t{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mp(e,s=>this.processProvider(s)),this.records.set(C0,xo(void 0,this)),i.has("environment")&&this.records.set($t,xo(void 0,this));let o=this.records.get(Vl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(b0,Zt,ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Br(this),r=Pt(void 0),i;try{return e()}finally{Br(n),Pt(r)}}get(e,n=Ra,r=ae.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(xE))return e[xE](this);r=Fl(r);let i,o=Br(this),s=Pt(void 0);try{if(!(r&ae.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=JN(e)&&Ol(e);l&&this.injectableDefInScope(l)?u=xo(Rp(e),il):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ae.Self?Sm():this.parent;return n=r&ae.Optional&&n===Ra?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[dl]=a[dl]||[]).unshift(Mt(e)),o)throw a;return IN(a,e,"R3InjectorError",this.source)}else throw a}finally{Pt(s),Br(o)}}resolveInjectorInitializers(){let e=ye(null),n=Br(this),r=Pt(void 0),i;try{let o=this.get(jo,Zt,ae.Self);for(let s of o)s()}finally{Br(n),Pt(r),ye(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Mt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new H(205,!1)}processProvider(e){e=Rt(e);let n=Uo(e)?e:Rt(e&&e.provide),r=QN(e);if(!Uo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=xo(void 0,il,!0),i.factory=()=>Tp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ye(null);try{return n.value===il&&(n.value=WN,n.value=n.factory()),typeof n.value=="object"&&n.value&&ZN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ye(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Rt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Rp(t){let e=Ol(t),n=e!==null?e.factory:Ni(t);if(n!==null)return n;if(t instanceof B)throw new H(204,!1);if(t instanceof Function)return KN(t);throw new H(204,!1)}function KN(t){if(t.length>0)throw new H(204,!1);let n=oN(t);return n!==null?()=>n.factory(t):()=>new t}function QN(t){if(V0(t))return xo(void 0,t.useValue);{let e=L0(t);return xo(e,il)}}function L0(t,e,n){let r;if(Uo(t)){let i=Rt(t);return Ni(i)||Rp(i)}else if(V0(t))r=()=>Rt(t.useValue);else if(zN(t))r=()=>t.useFactory(...Tp(t.deps||[]));else if(qN(t))r=()=>Q(Rt(t.useExisting));else{let i=Rt(t&&(t.useClass||t.provide));if(YN(t))r=()=>new i(...Tp(t.deps));else return Ni(i)||Rp(i)}return r}function xo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function YN(t){return!!t.deps}function ZN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function JN(t){return typeof t=="function"||typeof t=="object"&&t instanceof B}function Mp(t,e){for(let n of t)Array.isArray(n)?Mp(n,e):n&&_0(n)?Mp(n.\u0275providers,e):e(n)}function Mn(t,e){t instanceof Na&&t.assertNotDestroyed();let n,r=Br(t),i=Pt(void 0);try{return e()}finally{Br(r),Pt(i)}}function j0(){return I0()!==void 0||yN()!=null}function XN(t){if(!j0())throw new H(-203,!1)}function ex(t){return typeof t=="function"}var tr=0,ie=1,J=2,vt=3,ln=4,dn=5,pl=6,ml=7,Cn=8,Bo=9,bn=10,Ye=11,xa=12,LE=13,Qo=14,Tn=15,xi=16,Po=17,Yn=18,Ll=19,U0=20,$r=21,hp=22,Jt=23,Xt=25,B0=1;var Pi=7,gl=8,$o=9,Bt=10,yl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(yl||{});function Hr(t){return Array.isArray(t)&&typeof t[B0]=="object"}function nr(t){return Array.isArray(t)&&t[B0]===!0}function $0(t){return(t.flags&4)!==0}function jl(t){return t.componentOffset>-1}function Am(t){return(t.flags&1)===1}function Gr(t){return!!t.template}function Np(t){return(t[J]&512)!==0}var xp=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function H0(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function rr(){return q0}function q0(t){return t.type.prototype.ngOnChanges&&(t.setInput=nx),tx}rr.ngInherit=!0;function tx(){let t=G0(this),e=t?.current;if(e){let n=t.previous;if(n===Lo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function nx(t,e,n,r,i){let o=this.declaredInputs[r],s=G0(t)||rx(t,{previous:Lo,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new xp(l&&l.currentValue,n,u===Lo),H0(t,e,i,n)}var z0="__ngSimpleChanges__";function G0(t){return t[z0]||null}function rx(t,e){return t[z0]=e}var jE=null;var wn=function(t,e,n){jE?.(t,e,n)},W0="svg",ix="math";function Sn(t){for(;Array.isArray(t);)t=t[tr];return t}function K0(t,e){return Sn(e[t])}function en(t,e){return Sn(e[t.index])}function Q0(t,e){return t.data[e]}function Rm(t,e){return t[e]}function Yr(t,e){let n=e[t];return Hr(n)?n:n[tr]}function ox(t){return(t[J]&4)===4}function Mm(t){return(t[J]&128)===128}function sx(t){return nr(t[vt])}function vl(t,e){return e==null?null:t[e]}function Y0(t){t[Po]=0}function Z0(t){t[J]&1024||(t[J]|=1024,Mm(t)&&Bl(t))}function ax(t,e){for(;t>0;)e=e[Qo],t--;return e}function Ul(t){return!!(t[J]&9216||t[Jt]?.dirty)}function Pp(t){t[bn].changeDetectionScheduler?.notify(8),t[J]&64&&(t[J]|=1024),Ul(t)&&Bl(t)}function Bl(t){t[bn].changeDetectionScheduler?.notify(0);let e=Oi(t);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!Mm(e)));)e=Oi(e)}function J0(t,e){if((t[J]&256)===256)throw new H(911,!1);t[$r]===null&&(t[$r]=[]),t[$r].push(e)}function cx(t,e){if(t[$r]===null)return;let n=t[$r].indexOf(e);n!==-1&&t[$r].splice(n,1)}function Oi(t){let e=t[vt];return nr(e)?e[vt]:e}var ce={lFrame:aD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var X0=!1;function ux(){return ce.lFrame.elementDepthCount}function lx(){ce.lFrame.elementDepthCount++}function dx(){ce.lFrame.elementDepthCount--}function eD(){return ce.bindingsEnabled}function hx(){return ce.skipHydrationRootTNode!==null}function fx(t){return ce.skipHydrationRootTNode===t}function px(){ce.skipHydrationRootTNode=null}function Ie(){return ce.lFrame.lView}function It(){return ce.lFrame.tView}function wt(){let t=tD();for(;t!==null&&t.type===64;)t=t.parent;return t}function tD(){return ce.lFrame.currentTNode}function mx(){let t=ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Va(t,e){let n=ce.lFrame;n.currentTNode=t,n.isParent=e}function nD(){return ce.lFrame.isParent}function gx(){ce.lFrame.isParent=!1}function rD(){return X0}function UE(t){X0=t}function Nm(){let t=ce.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function yx(t){return ce.lFrame.bindingIndex=t}function $l(){return ce.lFrame.bindingIndex++}function vx(t){let e=ce.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function _x(){return ce.lFrame.inI18n}function Ix(t,e){let n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,Op(e)}function wx(){return ce.lFrame.currentDirectiveIndex}function Op(t){ce.lFrame.currentDirectiveIndex=t}function Ex(t){let e=ce.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function iD(){return ce.lFrame.currentQueryIndex}function xm(t){ce.lFrame.currentQueryIndex=t}function Dx(t){let e=t[ie];return e.type===2?e.declTNode:e.type===1?t[dn]:null}function oD(t,e,n){if(n&ae.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ae.Host);)if(i=Dx(o),i===null||(o=o[Qo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ce.lFrame=sD();return r.currentTNode=e,r.lView=t,!0}function Pm(t){let e=sD(),n=t[ie];ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function sD(){let t=ce.lFrame,e=t===null?null:t.child;return e===null?aD(t):e}function aD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function cD(){let t=ce.lFrame;return ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var uD=cD;function Om(){let t=cD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Cx(t){return(ce.lFrame.contextLView=ax(t,ce.lFrame.contextLView))[Cn]}function Yo(){return ce.lFrame.selectedIndex}function ki(t){ce.lFrame.selectedIndex=t}function km(){let t=ce.lFrame;return Q0(t.tView,t.selectedIndex)}function Fm(){ce.lFrame.currentNamespace=W0}function Vm(){bx()}function bx(){ce.lFrame.currentNamespace=null}function Tx(){return ce.lFrame.currentNamespace}var lD=!0;function Lm(){return lD}function jm(t){lD=t}function Sx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=q0(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Um(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function ol(t,e,n){dD(t,e,3,n)}function sl(t,e,n,r){(t[J]&3)===n&&dD(t,e,n,r)}function fp(t,e){let n=t[J];(n&3)===e&&(n&=16383,n+=1,t[J]=n)}function dD(t,e,n,r){let i=r!==void 0?t[Po]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Po]+=65536),(a<o||o==-1)&&(Ax(t,n,e,u),t[Po]=(t[Po]&4294901760)+u+2),u++}function BE(t,e){wn(4,t,e);let n=ye(null);try{e.call(t)}finally{ye(n),wn(5,t,e)}}function Ax(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[J]>>14<t[Po]>>16&&(t[J]&3)===e&&(t[J]+=16384,BE(a,o)):BE(a,o)}var Vo=-1,Fi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Rx(t){return t instanceof Fi}function Mx(t){return(t.flags&8)!==0}function Nx(t){return(t.flags&16)!==0}var pp={},kp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Fl(r);let i=this.injector.get(e,pp,r);return i!==pp||n===pp?i:this.parentInjector.get(e,n,r)}};function hD(t){return t!==Vo}function _l(t){return t&32767}function xx(t){return t>>16}function Il(t,e){let n=xx(t),r=e;for(;n>0;)r=r[Qo],n--;return r}var Fp=!0;function wl(t){let e=Fp;return Fp=t,e}var Px=256,fD=Px-1,pD=5,Ox=0,En={};function kx(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Aa)&&(r=n[Aa]),r==null&&(r=n[Aa]=Ox++);let i=r&fD,o=1<<i;e.data[t+(i>>pD)]|=o}function El(t,e){let n=mD(t,e);if(n!==-1)return n;let r=e[ie];r.firstCreatePass&&(t.injectorIndex=e.length,mp(r.data,t),mp(e,null),mp(r.blueprint,null));let i=Bm(t,e),o=t.injectorIndex;if(hD(i)){let s=_l(i),a=Il(i,e),u=a[ie].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function mp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function mD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Bm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=ID(i),r===null)return Vo;if(n++,i=i[Qo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Vo}function Vp(t,e,n){kx(t,e,n)}function Fx(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(S0(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function gD(t,e,n){if(n&ae.Optional||t!==void 0)return t;Em(e,"NodeInjector")}function yD(t,e,n,r){if(n&ae.Optional&&r===void 0&&(r=null),!(n&(ae.Self|ae.Host))){let i=t[Bo],o=Pt(void 0);try{return i?i.get(e,r,n&ae.Optional):w0(e,r,n&ae.Optional)}finally{Pt(o)}}return gD(r,e,n)}function vD(t,e,n,r=ae.Default,i){if(t!==null){if(e[J]&2048&&!(r&ae.Self)){let s=Ux(t,e,n,r,En);if(s!==En)return s}let o=_D(t,e,n,r,En);if(o!==En)return o}return yD(e,n,r,i)}function _D(t,e,n,r,i){let o=Lx(n);if(typeof o=="function"){if(!oD(e,t,r))return r&ae.Host?gD(i,n,r):yD(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ae.Optional))Em(n);else return s}finally{uD()}}else if(typeof o=="number"){let s=null,a=mD(t,e),u=Vo,l=r&ae.Host?e[Tn][dn]:null;for((a===-1||r&ae.SkipSelf)&&(u=a===-1?Bm(t,e):e[a+8],u===Vo||!HE(r,!1)?a=-1:(s=e[ie],a=_l(u),e=Il(u,e)));a!==-1;){let h=e[ie];if($E(o,a,h.data)){let p=Vx(a,e,n,s,r,l);if(p!==En)return p}u=e[a+8],u!==Vo&&HE(r,e[ie].data[a+8]===l)&&$E(o,a,e)?(s=h,a=_l(u),e=Il(u,e)):a=-1}}return i}function Vx(t,e,n,r,i,o){let s=e[ie],a=s.data[t+8],u=r==null?jl(a)&&Fp:r!=s&&(a.type&3)!==0,l=i&ae.Host&&o===a,h=al(a,s,n,u,l);return h!==null?Vi(e,s,h,a):En}function al(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let v=p;v<g;v++){let R=s[v];if(v<u&&n===R||v>=u&&R.type===n)return v}if(i){let v=s[u];if(v&&Gr(v)&&v.type===n)return u}return null}function Vi(t,e,n,r){let i=t[n],o=e.data;if(Rx(i)){let s=i;s.resolving&&hN(dN(o[n]));let a=wl(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Pt(s.injectImpl):null,h=oD(t,r,ae.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&Sx(n,o[n],e)}finally{l!==null&&Pt(l),wl(a),s.resolving=!1,uD()}}return i}function Lx(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Aa)?t[Aa]:void 0;return typeof e=="number"?e>=0?e&fD:jx:e}function $E(t,e,n){let r=1<<t;return!!(n[e+(t>>pD)]&r)}function HE(t,e){return!(t&ae.Self)&&!(t&ae.Host&&e)}var Mi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return vD(this._tNode,this._lView,e,Fl(r),n)}};function jx(){return new Mi(wt(),Ie())}function ir(t){return ka(()=>{let e=t.prototype.constructor,n=e[ll]||Lp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[ll]||Lp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Lp(t){return m0(t)?()=>{let e=Lp(Rt(t));return e&&e()}:Ni(t)}function Ux(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[J]&2048&&!(s[J]&512);){let a=_D(o,s,n,r|ae.Self,En);if(a!==En)return a;let u=o.parent;if(!u){let l=s[U0];if(l){let h=l.get(n,En,r);if(h!==En)return h}u=ID(s),s=s[Qo]}o=u}return i}function ID(t){let e=t[ie],n=e.type;return n===2?e.declTNode:n===1?t[dn]:null}function $m(t){return Fx(wt(),t)}function qE(t,e=null,n=null,r){let i=wD(t,e,n,r);return i.resolveInjectorInitializers(),i}function wD(t,e=null,n=null,r,i=new Set){let o=[n||Zt,$N(t)];return r=r||(typeof t=="object"?void 0:Mt(t)),new Na(o,e||Sm(),r||null,i)}var dt=class t{static{this.THROW_IF_NOT_FOUND=Ra}static{this.NULL=new fl}static create(e,n){if(Array.isArray(e))return qE({name:""},n,e,"");{let r=e.name??"";return qE({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=$({token:t,providedIn:"any",factory:()=>Q(C0)})}static{this.__NG_ELEMENT_ID__=-1}};var Bx=new B("");Bx.__NG_ELEMENT_ID__=t=>{let e=wt();if(e===null)throw new H(204,!1);if(e.type&2)return e.value;if(t&ae.Optional)return null;throw new H(204,!1)};var $x="ngOriginalError";function gp(t){return t[$x]}var ED=!0,Hm=(()=>{class t{static{this.__NG_ELEMENT_ID__=Hx}static{this.__NG_ENV_ID__=n=>n}}return t})(),jp=class extends Hm{constructor(e){super(),this._lView=e}onDestroy(e){return J0(this._lView,e),()=>cx(this._lView,e)}};function Hx(){return new jp(Ie())}var Zo=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new lt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}}return t})();var Up=class extends tt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,j0()&&(this.destroyRef=O(Hm,{optional:!0})??void 0,this.pendingTasks=O(Zo,{optional:!0})??void 0)}emit(e){let n=ye(null);try{super.next(e)}finally{ye(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Le&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},je=Up;function Dl(...t){}function DD(t){let e,n;function r(){t=Dl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function zE(t){return queueMicrotask(()=>t()),()=>{t=Dl}}var qm="isAngularZone",Cl=qm+"_ID",qx=0,Ce=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new je(!1),this.onMicrotaskEmpty=new je(!1),this.onStable=new je(!1),this.onError=new je(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=ED}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Wx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(qm)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new H(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,zx,Dl,Dl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},zx={};function zm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Gx(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){DD(()=>{t.callbackScheduled=!1,Bp(t),t.isCheckStableRunning=!0,zm(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Bp(t)}function Wx(t){let e=()=>{Gx(t)},n=qx++;t._inner=t._inner.fork({name:"angular",properties:{[qm]:!0,[Cl]:n,[Cl+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(Kx(u))return r.invokeTask(o,s,a,u);try{return GE(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),WE(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return GE(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Qx(u)&&e(),WE(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Bp(t),zm(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Bp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function GE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function WE(t){t._nesting--,zm(t)}var $p=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new je,this.onMicrotaskEmpty=new je,this.onStable=new je,this.onError=new je}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Kx(t){return CD(t,"__ignore_ng_zone__")}function Qx(t){return CD(t,"__scheduler_tick__")}function CD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Zn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&gp(e);for(;n&&gp(n);)n=gp(n);return n||null}},Yx=new B("",{providedIn:"root",factory:()=>{let t=O(Ce),e=O(Zn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function Zx(){return Jo(wt(),Ie())}function Jo(t,e){return new Ot(en(t,e))}var Ot=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=Zx}}return t})();function Jx(t){return t instanceof Ot?t.nativeElement:t}function Xx(){return this._results[Symbol.iterator]()}var Hp=class t{get changes(){return this._changes??=new je}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Xx)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=DN(e);(this._changesDetected=!EN(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function bD(t){return(t.flags&128)===128}var TD=new Map,eP=0;function tP(){return eP++}function nP(t){TD.set(t[Ll],t)}function qp(t){TD.delete(t[Ll])}var KE="__ngContext__";function Li(t,e){Hr(e)?(t[KE]=e[Ll],nP(e)):t[KE]=e}function SD(t){return RD(t[xa])}function AD(t){return RD(t[ln])}function RD(t){for(;t!==null&&!nr(t);)t=t[ln];return t}var zp;function MD(t){zp=t}function rP(){if(zp!==void 0)return zp;if(typeof document<"u")return document;throw new H(210,!1)}var Gm=new B("",{providedIn:"root",factory:()=>iP}),iP="ng",Wm=new B(""),Nn=new B("",{providedIn:"platform",factory:()=>"unknown"});var Km=new B("",{providedIn:"root",factory:()=>rP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var oP="h",sP="b";var aP=()=>null;function Qm(t,e,n=!1){return aP(t,e,n)}var ND=!1,cP=new B("",{providedIn:"root",factory:()=>ND});var el;function uP(){if(el===void 0&&(el=null,Ri.trustedTypes))try{el=Ri.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return el}function QE(t){return uP()?.createScriptURL(t)||t}var bl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${f0})`}};function La(t){return t instanceof bl?t.changingThisBreaksApplicationSecurity:t}function Ym(t,e){let n=lP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${f0})`)}return n===e}function lP(t){return t instanceof bl&&t.getTypeName()||null}var dP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xD(t){return t=String(t),t.match(dP)?t:"unsafe:"+t}var Hl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Hl||{});function hP(t){let e=OD();return e?e.sanitize(Hl.URL,t)||"":Ym(t,"URL")?La(t):xD(kl(t))}function fP(t){let e=OD();if(e)return QE(e.sanitize(Hl.RESOURCE_URL,t)||"");if(Ym(t,"ResourceURL"))return QE(La(t));throw new H(904,!1)}function pP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?fP:hP}function PD(t,e,n){return pP(e,n)(t)}function OD(){let t=Ie();return t&&t[bn].sanitizer}function kD(t){return t instanceof Function?t():t}function mP(t){return(t??O(dt)).get(Nn)==="browser"}var Jn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Jn||{}),gP;function Zm(t,e){return gP(t,e)}function Oo(t,e,n,r,i){if(r!=null){let o,s=!1;nr(r)?o=r:Hr(r)&&(s=!0,r=r[tr]);let a=Sn(r);t===0&&n!==null?i==null?UD(e,n,a):Tl(e,n,a,i||null,!0):t===1&&n!==null?Tl(e,n,a,i||null,!0):t===2?NP(e,a,s):t===3&&e.destroyNode(a),o!=null&&PP(e,t,o,n,i)}}function yP(t,e){return t.createText(e)}function vP(t,e,n){t.setValue(e,n)}function FD(t,e,n){return t.createElement(e,n)}function _P(t,e){VD(t,e),e[tr]=null,e[dn]=null}function IP(t,e,n,r,i,o){r[tr]=i,r[dn]=e,ql(t,r,n,1,i,o)}function VD(t,e){e[bn].changeDetectionScheduler?.notify(9),ql(t,e,e[Ye],2,null,null)}function wP(t){let e=t[xa];if(!e)return yp(t[ie],t);for(;e;){let n=null;if(Hr(e))n=e[xa];else{let r=e[Bt];r&&(n=r)}if(!n){for(;e&&!e[ln]&&e!==t;)Hr(e)&&yp(e[ie],e),e=e[vt];e===null&&(e=t),Hr(e)&&yp(e[ie],e),n=e&&e[ln]}e=n}}function EP(t,e,n,r){let i=Bt+r,o=n.length;r>0&&(n[i-1][ln]=e),r<o-Bt?(e[ln]=n[i],D0(n,Bt+r,e)):(n.push(e),e[ln]=null),e[vt]=n;let s=e[xi];s!==null&&n!==s&&LD(s,e);let a=e[Yn];a!==null&&a.insertView(t),Pp(e),e[J]|=128}function LD(t,e){let n=t[$o],r=e[vt];if(Hr(r))t[J]|=yl.HasTransplantedViews;else{let i=r[vt][Tn];e[Tn]!==i&&(t[J]|=yl.HasTransplantedViews)}n===null?t[$o]=[e]:n.push(e)}function Jm(t,e){let n=t[$o],r=n.indexOf(e);n.splice(r,1)}function Gp(t,e){if(t.length<=Bt)return;let n=Bt+e,r=t[n];if(r){let i=r[xi];i!==null&&i!==t&&Jm(i,r),e>0&&(t[n-1][ln]=r[ln]);let o=hl(t,Bt+e);_P(r[ie],r);let s=o[Yn];s!==null&&s.detachView(o[ie]),r[vt]=null,r[ln]=null,r[J]&=-129}return r}function jD(t,e){if(!(e[J]&256)){let n=e[Ye];n.destroyNode&&ql(t,e,n,3,null,null),wP(e)}}function yp(t,e){if(e[J]&256)return;let n=ye(null);try{e[J]&=-129,e[J]|=256,e[Jt]&&$f(e[Jt]),CP(t,e),DP(t,e),e[ie].type===1&&e[Ye].destroy();let r=e[xi];if(r!==null&&nr(e[vt])){r!==e[vt]&&Jm(r,e);let i=e[Yn];i!==null&&i.detachView(t)}qp(e)}finally{ye(n)}}function DP(t,e){let n=t.cleanup,r=e[ml];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[ml]=null);let i=e[$r];if(i!==null){e[$r]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function CP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Fi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];wn(4,a,u);try{u.call(a)}finally{wn(5,a,u)}}else{wn(4,i,o);try{o.call(i)}finally{wn(5,i,o)}}}}}function bP(t,e,n){return TP(t,e.parent,n)}function TP(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[tr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Dn.None||o===Dn.Emulated)return null}return en(r,n)}}function Tl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function UD(t,e,n){t.appendChild(e,n)}function YE(t,e,n,r,i){r!==null?Tl(t,e,n,r,i):UD(t,e,n)}function BD(t,e){return t.parentNode(e)}function SP(t,e){return t.nextSibling(e)}function AP(t,e,n){return MP(t,e,n)}function RP(t,e,n){return t.type&40?en(t,n):null}var MP=RP,ZE;function Xm(t,e,n,r){let i=bP(t,r,e),o=e[Ye],s=r.parent||e[dn],a=AP(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)YE(o,i,n[u],a,!1);else YE(o,i,n,a,!1);ZE!==void 0&&ZE(o,r,e,n,i)}function Sa(t,e){if(e!==null){let n=e.type;if(n&3)return en(e,t);if(n&4)return Wp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Sa(t,r);{let i=t[e.index];return nr(i)?Wp(-1,i):Sn(i)}}else{if(n&128)return Sa(t,e.next);if(n&32)return Zm(e,t)()||Sn(t[e.index]);{let r=$D(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Oi(t[Tn]);return Sa(i,r)}else return Sa(t,e.next)}}}return null}function $D(t,e){if(e!==null){let r=t[Tn][dn],i=e.projection;return r.projection[i]}return null}function Wp(t,e){let n=Bt+t+1;if(n<e.length){let r=e[n],i=r[ie].firstChild;if(i!==null)return Sa(r,i)}return e[Pi]}function NP(t,e,n){t.removeChild(null,e,n)}function eg(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Li(Sn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)eg(t,e,n.child,r,i,o,!1),Oo(e,t,i,a,o);else if(u&32){let l=Zm(n,r),h;for(;h=l();)Oo(e,t,i,h,o);Oo(e,t,i,a,o)}else u&16?xP(t,e,r,n,i,o):Oo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ql(t,e,n,r,i,o){eg(n,r,t.firstChild,e,i,o,!1)}function xP(t,e,n,r,i,o){let s=n[Tn],u=s[dn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Oo(e,t,i,h,o)}else{let l=u,h=s[vt];bD(r)&&(l.flags|=128),eg(t,e,l,h,i,o,!0)}}function PP(t,e,n,r,i){let o=n[Pi],s=Sn(n);o!==s&&Oo(e,t,r,o,i);for(let a=Bt;a<n.length;a++){let u=n[a];ql(u[ie],u,t,e,r,o)}}function OP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Jn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Jn.Important),t.setStyle(n,r,i,o))}}function kP(t,e,n){t.setAttribute(e,"style",n)}function HD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function qD(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Sp(t,e,r),i!==null&&HD(t,e,i),o!==null&&kP(t,e,o)}var $i={};function X(t=1){zD(It(),Ie(),Yo()+t,!1)}function zD(t,e,n,r){if(!r)if((e[J]&3)===3){let o=t.preOrderCheckHooks;o!==null&&ol(e,o,n)}else{let o=t.preOrderHooks;o!==null&&sl(e,o,0,n)}ki(n)}function q(t,e=ae.Default){let n=Ie();if(n===null)return Q(t,e);let r=wt();return vD(r,n,Rt(t),e)}function GD(){let t="invalid";throw new Error(t)}function WD(t,e,n,r,i,o){let s=ye(null);try{let a=null;i&qr.SignalBased&&(a=e[r][Wn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&qr.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):H0(e,a,r,o)}finally{ye(s)}}function FP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ki(~i);else{let o=i,s=n[++r],a=n[++r];Ix(s,o);let u=e[o];a(2,u)}}}finally{ki(-1)}}function zl(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[tr]=i,p[J]=r|4|128|8|64,(l!==null||t&&t[J]&2048)&&(p[J]|=2048),Y0(p),p[vt]=p[Qo]=t,p[Cn]=n,p[bn]=s||t&&t[bn],p[Ye]=a||t&&t[Ye],p[Bo]=u||t&&t[Bo]||null,p[dn]=o,p[Ll]=tP(),p[pl]=h,p[U0]=l,p[Tn]=e.type==2?t[Tn]:p,p}function Gl(t,e,n,r,i){let o=t.data[e];if(o===null)o=VP(t,e,n,r,i),_x()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=mx();o.injectorIndex=s===null?-1:s.injectorIndex}return Va(o,!0),o}function VP(t,e,n,r,i){let o=tD(),s=nD(),a=s?o:o&&o.parent,u=t.data[e]=HP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function KD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function QD(t,e,n,r,i){let o=Yo(),s=r&2;try{ki(-1),s&&e.length>Xt&&zD(t,e,Xt,!1),wn(s?2:0,i),n(r,i)}finally{ki(o),wn(s?3:1,i)}}function YD(t,e,n){if($0(e)){let r=ye(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{ye(r)}}}function ZD(t,e,n){eD()&&(QP(t,e,n,en(n,e)),(n.flags&64)===64&&rC(t,e,n))}function JD(t,e,n=en){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function XD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=tg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function tg(t,e,n,r,i,o,s,a,u,l,h){let p=Xt+r,g=p+i,v=LP(p,g),R=typeof l=="function"?l():l;return v[ie]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:R,incompleteFirstPass:!1,ssrId:h}}function LP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:$i);return n}function jP(t,e,n,r){let o=r.get(cP,ND)||n===Dn.ShadowDom,s=t.selectRootElement(e,o);return UP(s),s}function UP(t){BP(t)}var BP=()=>null;function $P(t,e,n,r){let i=sC(e);i.push(n),t.firstCreatePass&&aC(t).push(r,i.length-1)}function HP(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return hx()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function JE(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=qr.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?XE(r,n,l,a,u):XE(r,n,l,a)}return r}function XE(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function qP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],g=n?n.get(p):null,v=g?g.inputs:null,R=g?g.outputs:null;u=JE(0,p.inputs,h,u,v),l=JE(1,p.outputs,h,l,R);let P=u!==null&&s!==null&&!bm(e)?s1(u,h,s):null;a.push(P)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function zP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function eC(t,e,n,r,i,o,s,a){let u=en(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(ng(t,n,h,r,i),jl(e)&&GP(n,e.index)):e.type&3?(r=zP(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function GP(t,e){let n=Yr(e,t);n[J]&16||(n[J]|=64)}function tC(t,e,n,r){if(eD()){let i=r===null?null:{"":-1},o=ZP(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&nC(t,e,n,s,i,a),i&&JP(n,r,i)}n.mergedAttrs=Ma(n.mergedAttrs,n.attrs)}function nC(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Vp(El(n,e),t,r[l].type);e1(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=KD(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Ma(n.mergedAttrs,h.hostAttrs),t1(t,n,e,u,h),XP(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}qP(t,n,o)}function WP(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;KP(s)!=a&&s.push(a),s.push(n,r,o)}}function KP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function QP(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;jl(n)&&n1(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||El(n,e),Li(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=Vi(e,t,a,n);if(Li(l,e),s!==null&&o1(e,a-i,l,u,n,s),Gr(u)){let h=Yr(n.index,e);h[Cn]=Vi(e,t,a,n)}}}function rC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=wx();try{ki(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Op(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&YP(u,l)}}finally{ki(-1),Op(s)}}function YP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function ZP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(PN(e,s.selectors,!1))if(r||(r=[]),Gr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Kp(t,e,u)}else r.unshift(s),Kp(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Kp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function JP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new H(-301,!1);r.push(e[i],o)}}}function XP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Gr(e)&&(n[""]=t)}}function e1(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function t1(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ni(i.type,!0)),s=new Fi(o,Gr(i),q);t.blueprint[r]=s,n[r]=s,WP(t,e,r,KD(t,n,i.hostVars,$i),i)}function n1(t,e,n){let r=en(e,t),i=XD(n),o=t[bn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Wl(t,zl(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function r1(t,e,n,r,i,o){let s=en(t,e);i1(e[Ye],s,o,t.value,n,r,i)}function i1(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?kl(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function o1(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];WD(r,n,u,l,h,p)}}function s1(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function iC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function oC(t,e){let n=t.contentQueries;if(n!==null){let r=ye(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];xm(o),a.contentQueries(2,e[s],s)}}}finally{ye(r)}}}function Wl(t,e){return t[xa]?t[LE][ln]=e:t[xa]=e,t[LE]=e,e}function Qp(t,e,n){xm(0);let r=ye(null);try{e(t,n)}finally{ye(r)}}function sC(t){return t[ml]??=[]}function aC(t){return t.cleanup??=[]}function cC(t,e){let n=t[Bo],r=n?n.get(Zn,null):null;r&&r.handleError(e)}function ng(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];WD(h,l,r,a,u,i)}}function a1(t,e,n){let r=K0(e,t);vP(t[Ye],r,n)}function c1(t,e){let n=Yr(e,t),r=n[ie];u1(r,n);let i=n[tr];i!==null&&n[pl]===null&&(n[pl]=Qm(i,n[Bo])),rg(r,n,n[Cn])}function u1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function rg(t,e,n){Pm(e);try{let r=t.viewQuery;r!==null&&Qp(1,r,n);let i=t.template;i!==null&&QD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Yn]?.finishViewCreation(t),t.staticContentQueries&&oC(t,e),t.staticViewQueries&&Qp(2,t.viewQuery,n);let o=t.components;o!==null&&l1(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[J]&=-5,Om()}}function l1(t,e){for(let n=0;n<e.length;n++)c1(t,e[n])}function d1(t,e,n,r){let i=ye(null);try{let o=e.tView,a=t[J]&4096?4096:16,u=zl(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[xi]=l;let h=t[Yn];return h!==null&&(u[Yn]=h.createEmbeddedView(o)),rg(o,u,n),u}finally{ye(i)}}function e0(t,e){return!e||e.firstChild===null||bD(t)}function h1(t,e,n,r=!0){let i=e[ie];if(EP(i,e,t,n),r){let s=Wp(n,t),a=e[Ye],u=BD(a,t[Pi]);u!==null&&IP(i,t[dn],a,e,u,s)}let o=e[pl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Sl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Sn(o)),nr(o)&&f1(o,r);let s=n.type;if(s&8)Sl(t,e,n.child,r);else if(s&32){let a=Zm(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=$D(e,n);if(Array.isArray(a))r.push(...a);else{let u=Oi(e[Tn]);Sl(u[ie],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function f1(t,e){for(let n=Bt;n<t.length;n++){let r=t[n],i=r[ie].firstChild;i!==null&&Sl(r[ie],r,i,e)}t[Pi]!==t[tr]&&e.push(t[Pi])}var uC=[];function p1(t){return t[Jt]??m1(t)}function m1(t){let e=uC.pop()??Object.create(y1);return e.lView=t,e}function g1(t){t.lView[Jt]!==t&&(t.lView=null,uC.push(t))}var y1=le(V({},Ea),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Bl(t.lView)},consumerOnSignalRead(){this.lView[Jt]=this}});function v1(t){let e=t[Jt]??Object.create(_1);return e.lView=t,e}var _1=le(V({},Ea),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Oi(t.lView);for(;e&&!lC(e[ie]);)e=Oi(e);e&&Z0(e)},consumerOnSignalRead(){this.lView[Jt]=this}});function lC(t){return t.type!==2}var I1=100;function dC(t,e=!0,n=0){let r=t[bn],i=r.rendererFactory,o=!1;o||i.begin?.();try{w1(t,n)}catch(s){throw e&&cC(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function w1(t,e){let n=rD();try{UE(!0),Yp(t,e);let r=0;for(;Ul(t);){if(r===I1)throw new H(103,!1);r++,Yp(t,1)}}finally{UE(n)}}function E1(t,e,n,r){let i=e[J];if((i&256)===256)return;let o=!1,s=!1;!o&&e[bn].inlineEffectRunner?.flush(),Pm(e);let a=!0,u=null,l=null;o||(lC(t)?(l=p1(e),u=Tu(l)):qw()===null?(a=!1,l=v1(e),u=Tu(l)):e[Jt]&&($f(e[Jt]),e[Jt]=null));try{Y0(e),yx(t.bindingStartIndex),n!==null&&QD(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let v=t.preOrderCheckHooks;v!==null&&ol(e,v,null)}else{let v=t.preOrderHooks;v!==null&&sl(e,v,0,null),fp(e,0)}if(s||D1(e),hC(e,0),t.contentQueries!==null&&oC(t,e),!o)if(h){let v=t.contentCheckHooks;v!==null&&ol(e,v)}else{let v=t.contentHooks;v!==null&&sl(e,v,1),fp(e,1)}FP(t,e);let p=t.components;p!==null&&pC(e,p,0);let g=t.viewQuery;if(g!==null&&Qp(2,g,r),!o)if(h){let v=t.viewCheckHooks;v!==null&&ol(e,v)}else{let v=t.viewHooks;v!==null&&sl(e,v,2),fp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[hp]){for(let v of e[hp])v();e[hp]=null}o||(e[J]&=-73)}catch(h){throw o||Bl(e),h}finally{l!==null&&(Uf(l,u),a&&g1(l)),Om()}}function hC(t,e){for(let n=SD(t);n!==null;n=AD(n))for(let r=Bt;r<n.length;r++){let i=n[r];fC(i,e)}}function D1(t){for(let e=SD(t);e!==null;e=AD(e)){if(!(e[J]&yl.HasTransplantedViews))continue;let n=e[$o];for(let r=0;r<n.length;r++){let i=n[r];Z0(i)}}}function C1(t,e,n){let r=Yr(e,t);fC(r,n)}function fC(t,e){Mm(t)&&Yp(t,e)}function Yp(t,e){let r=t[ie],i=t[J],o=t[Jt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Bf(o)),s||=!1,o&&(o.dirty=!1),t[J]&=-9217,s)E1(r,t,r.template,t[Cn]);else if(i&8192){hC(t,1);let a=r.components;a!==null&&pC(t,a,1)}}function pC(t,e,n){for(let r=0;r<e.length;r++)C1(t,e[r],n)}function ig(t,e){let n=rD()?64:1088;for(t[bn].changeDetectionScheduler?.notify(e);t;){t[J]|=n;let r=Oi(t);if(Np(t)&&!r)return t;t=r}return null}var ji=class{get rootNodes(){let e=this._lView,n=e[ie];return Sl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Cn]}set context(e){this._lView[Cn]=e}get destroyed(){return(this._lView[J]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[vt];if(nr(e)){let n=e[gl],r=n?n.indexOf(this):-1;r>-1&&(Gp(e,r),hl(n,r))}this._attachedToViewContainer=!1}jD(this._lView[ie],this._lView)}onDestroy(e){J0(this._lView,e)}markForCheck(){ig(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){Pp(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,dC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Np(this._lView),n=this._lView[xi];n!==null&&!e&&Jm(n,this._lView),VD(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let n=Np(this._lView),r=this._lView[xi];r!==null&&!n&&LD(r,this._lView),Pp(this._lView)}},Ui=(()=>{class t{static{this.__NG_ELEMENT_ID__=S1}}return t})(),b1=Ui,T1=class extends b1{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=d1(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ji(i)}};function S1(){return og(wt(),Ie())}function og(t,e){return t.type&4?new T1(e,t,Jo(t,e)):null}var O6=new RegExp(`^(\\d+)*(${sP}|${oP})*(.*)`);var A1=()=>null;function t0(t,e){return A1(t,e)}var Ho=class{},Kl=new B("",{providedIn:"root",factory:()=>!1});var mC=new B(""),gC=new B(""),Zp=class{},Al=class{};function R1(t){let e=Error(`No component factory found for ${Mt(t)}.`);return e[M1]=t,e}var M1="ngComponent";var Jp=class{resolveComponentFactory(e){throw R1(e)}},qo=class{static{this.NULL=new Jp}},zo=class{},xn=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>N1()}}return t})();function N1(){let t=Ie(),e=wt(),n=Yr(e.index,t);return(Hr(n)?n:t)[Ye]}var x1=(()=>{class t{static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>null})}}return t})();function Xp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=AE(i,a);else if(o==2){let u=a,l=e[++s];r=AE(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Rl=class extends qo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=zr(e);return new Go(n,this.ngModule)}};function n0(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:qr.None;e?n.push({propName:s,templateName:r,isSignal:(a&qr.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function P1(t){let e=t.toLowerCase();return e==="svg"?W0:e==="math"?ix:null}var Go=class extends Al{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=n0(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return n0(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=VN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=ye(null);try{i=i||this.ngModule;let s=i instanceof $t?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new kp(e,s):e,u=a.get(zo,null);if(u===null)throw new H(407,!1);let l=a.get(x1,null),h=a.get(Ho,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},g=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",R=r?jP(g,r,this.componentDef.encapsulation,a):FD(g,v,P1(v)),P=512;this.componentDef.signals?P|=4096:this.componentDef.onPush||(P|=16);let x=null;R!==null&&(x=Qm(R,a,!0));let j=tg(0,null,null,1,0,null,null,null,null,null,null),G=zl(null,j,null,P,null,null,p,g,a,null,x);Pm(G);let W,re,Ne=null;try{let ee=this.componentDef,D,y=null;ee.findHostDirectiveDefs?(D=[],y=new Map,ee.findHostDirectiveDefs(ee,D,y),D.push(ee)):D=[ee];let _=O1(G,R);Ne=k1(_,R,ee,D,G,p,g),re=Q0(j,Xt),R&&L1(g,ee,R,r),n!==void 0&&j1(re,this.ngContentSelectors,n),W=V1(Ne,ee,D,y,G,[U1]),rg(j,G,null)}catch(ee){throw Ne!==null&&qp(Ne),qp(G),ee}finally{Om()}return new em(this.componentType,W,Jo(re,G),G,re)}finally{ye(o)}}},em=class extends Zp{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ji(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;ng(o[ie],o,i,e,n),this.previousInputValues.set(e,n);let s=Yr(this._tNode.index,o);ig(s,1)}}get injector(){return new Mi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function O1(t,e){let n=t[ie],r=Xt;return t[r]=e,Gl(n,r,2,"#host",null)}function k1(t,e,n,r,i,o,s){let a=i[ie];F1(r,t,e,s);let u=null;e!==null&&(u=Qm(e,i[Bo]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=zl(i,XD(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&Kp(a,t,r.length-1),Wl(i,p),i[t.index]=p}function F1(t,e,n,r){for(let i of t)e.mergedAttrs=Ma(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Xp(e,e.mergedAttrs,!0),n!==null&&qD(r,n,e))}function V1(t,e,n,r,i,o){let s=wt(),a=i[ie],u=en(s,i);nC(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,g=Vi(i,a,p,s);Li(g,i)}rC(a,i,s),u&&Li(u,i);let l=Vi(i,a,s.directiveStart+s.componentOffset,s);if(t[Cn]=i[Cn]=l,o!==null)for(let h of o)h(l,e);return YD(a,s,i),l}function L1(t,e,n,r){if(r)Sp(t,n,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=LN(e.selectors[0]);i&&Sp(t,n,i),o&&o.length>0&&HD(t,n,o.join(" "))}}function j1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function U1(){let t=wt();Um(Ie()[ie],t)}var Zr=(()=>{class t{static{this.__NG_ELEMENT_ID__=B1}}return t})();function B1(){let t=wt();return vC(t,Ie())}var $1=Zr,yC=class extends $1{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Jo(this._hostTNode,this._hostLView)}get injector(){return new Mi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Bm(this._hostTNode,this._hostLView);if(hD(e)){let n=Il(e,this._hostLView),r=_l(e),i=n[ie].data[r+8];return new Mi(i,n)}else return new Mi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=r0(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Bt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=t0(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,e0(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!ex(e),a;if(s)a=n;else{let R=n||{};a=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef}let u=s?e:new Go(zr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let P=(s?l:this.parentInjector).get($t,null);P&&(o=P)}let h=zr(u.componentType??{}),p=t0(this._lContainer,h?.id??null),g=p?.firstChild??null,v=u.create(l,i,g,o);return this.insertImpl(v.hostView,a,e0(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(sx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[vt],l=new yC(u,u[dn],u[vt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return h1(s,i,o,r),e.attachToViewContainerRef(),D0(vp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=r0(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Gp(this._lContainer,n);r&&(hl(vp(this._lContainer),n),jD(r[ie],r))}detach(e){let n=this._adjustIndex(e,-1),r=Gp(this._lContainer,n);return r&&hl(vp(this._lContainer),n)!=null?new ji(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function r0(t){return t[gl]}function vp(t){return t[gl]||(t[gl]=[])}function vC(t,e){let n,r=e[t.index];return nr(r)?n=r:(n=iC(r,e,null,t),e[t.index]=n,Wl(e,n)),q1(n,e,t,r),new yC(n,t,e)}function H1(t,e){let n=t[Ye],r=n.createComment(""),i=en(e,t),o=BD(n,i);return Tl(n,o,r,SP(n,i),!1),r}var q1=W1,z1=()=>!1;function G1(t,e,n){return z1(t,e,n)}function W1(t,e,n,r){if(t[Pi])return;let i;n.type&8?i=Sn(r):i=H1(e,n),t[Pi]=i}var tm=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},nm=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)sg(e,n).matches!==null&&this.queries[n].setDirty()}},rm=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=tO(e):this.predicate=e}},im=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},om=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,K1(n,o)),this.matchTNodeWithReadOption(e,n,al(n,e,o,!1,!1))}else r===Ui?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,al(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ot||i===Zr||i===Ui&&n.type&4)this.addMatch(n.index,-2);else{let o=al(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function K1(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function Q1(t,e){return t.type&11?Jo(t,e):t.type&4?og(t,e):null}function Y1(t,e,n,r){return n===-1?Q1(e,t):n===-2?Z1(t,e,r):Vi(t,t[ie],n,e)}function Z1(t,e,n){if(n===Ot)return Jo(e,t);if(n===Ui)return og(e,t);if(n===Zr)return vC(e,t)}function _C(t,e,n,r){let i=e[Yn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(Y1(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function sm(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=_C(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=Bt;p<h.length;p++){let g=h[p];g[xi]===g[vt]&&sm(g[ie],g,l,r)}if(h[$o]!==null){let p=h[$o];for(let g=0;g<p.length;g++){let v=p[g];sm(v[ie],v,l,r)}}}}}return r}function J1(t,e){return t[Yn].queries[e].queryList}function X1(t,e,n){let r=new Hp((n&4)===4);return $P(t,e,r,r.destroy),(e[Yn]??=new nm).queries.push(new tm(r))-1}function eO(t,e,n,r){let i=It();if(i.firstCreatePass){let o=wt();nO(i,new rm(e,n,r),o.index),rO(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return X1(i,Ie(),n)}function tO(t){return t.split(",").map(e=>e.trim())}function nO(t,e,n){t.queries===null&&(t.queries=new im),t.queries.track(new om(e,n))}function rO(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function sg(t,e){return t.queries.getByIndex(e)}function iO(t,e){let n=t[ie],r=sg(n,e);return r.crossesNgTemplate?sm(n,t,e,[]):_C(n,t,r,e)}var i0=new Set;function Xo(t){i0.has(t)||(i0.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function oO(t){return typeof t=="function"&&t[Wn]!==void 0}function ja(t,e){Xo("NgSignals");let n=tE(t),r=n[Wn];return e?.equal&&(r.equal=e.equal),n.set=i=>Hf(r,i),n.update=i=>nE(r,i),n.asReadonly=sO.bind(n),n}function sO(){let t=this[Wn];if(t.readonlyFn===void 0){let e=()=>this();e[Wn]=t,t.readonlyFn=e}return t.readonlyFn}function IC(t){return oO(t)&&typeof t.set=="function"}function aO(t){return Object.getPrototypeOf(t.prototype).constructor}function tn(t){let e=aO(t.type),n=!0,r=[t];for(;e;){let i;if(Gr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=tl(t.inputs),s.inputTransforms=tl(t.inputTransforms),s.declaredInputs=tl(t.declaredInputs),s.outputs=tl(t.outputs);let a=i.hostBindings;a&&hO(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&lO(t,u),l&&dO(t,l),cO(t,i),rN(t.outputs,i.outputs),Gr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===tn&&(n=!1)}}e=Object.getPrototypeOf(e)}uO(r)}function cO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function uO(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ma(i.hostAttrs,n=Ma(n,i.hostAttrs))}}function tl(t){return t===Lo?{}:t===Zt?[]:t}function lO(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function dO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function hO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function ag(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Wr=class{},Pa=class{};var am=class extends Wr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Rl(this);let o=x0(e);this._bootstrapComponents=kD(o.bootstrap),this._r3Injector=wD(e,n,[{provide:Wr,useValue:this},{provide:qo,useValue:this.componentFactoryResolver},...r],Mt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},cm=class extends Pa{constructor(e){super(),this.moduleType=e}create(e){return new am(this.moduleType,e,[])}};var Ml=class extends Wr{constructor(e){super(),this.componentFactoryResolver=new Rl(this),this.instance=null;let n=new Na([...e.providers,{provide:Wr,useValue:this},{provide:qo,useValue:this.componentFactoryResolver}],e.parent||Sm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ql(t,e,n=null){return new Ml({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function wC(t){return pO(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function fO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function pO(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function cg(t,e,n){return t[e]=n}function Xn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function EC(t,e,n,r){let i=Xn(t,e,n);return Xn(t,e+1,r)||i}function mO(t,e,n,r,i){let o=EC(t,e,n,r);return Xn(t,e+2,i)||o}function gO(t){return(t.flags&32)===32}function yO(t,e,n,r,i,o,s,a,u){let l=e.consts,h=Gl(e,t,4,s||null,a||null);tC(e,n,h,vl(l,u)),Um(e,h);let p=h.tView=tg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function vO(t,e,n,r,i,o,s,a,u,l){let h=n+Xt,p=e.firstCreatePass?yO(h,e,t,r,i,o,s,a,u):e.data[h];Va(p,!1);let g=_O(e,t,p,n);Lm()&&Xm(e,t,g,p),Li(g,t);let v=iC(g,t,g,p);return t[h]=v,Wl(t,v),G1(v,p,t),Am(p)&&ZD(e,t,p),u!=null&&JD(t,p,l),p}function kt(t,e,n,r,i,o,s,a){let u=Ie(),l=It(),h=vl(l.consts,o);return vO(u,l,t,e,n,r,i,h,s,a),kt}var _O=IO;function IO(t,e,n,r){return jm(!0),e[Ye].createComment("")}var ko=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ko||{}),DC=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}}return t})(),um=class t{constructor(){this.ngZone=O(Ce),this.scheduler=O(Ho),this.errorHandler=O(Zn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ko.EarlyRead,ko.Write,ko.MixedReadWrite,ko.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}},lm=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function ug(t,e){!e?.injector&&XN(ug);let n=e?.injector??O(dt);return mP(n)?(Xo("NgAfterNextRender"),EO(t,n,e,!0)):DO}function wO(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function EO(t,e,n,r){let i=e.get(DC);i.impl??=e.get(um);let o=n?.phase??ko.MixedReadWrite,s=n?.manualCleanup!==!0?e.get(Hm):null,a=new lm(i.impl,wO(t,o),r,s);return i.impl.register(a),a}var DO={destroy(){}};function Ua(t,e,n,r){let i=Ie(),o=$l();if(Xn(i,o,e)){let s=It(),a=km();r1(a,i,t,e,n,r)}return Ua}function CO(t,e,n,r){return Xn(t,$l(),n)?e+kl(n)+r:$i}function nl(t,e){return t<<17|e<<2}function Bi(t){return t>>17&32767}function bO(t){return(t&2)==2}function TO(t,e){return t&131071|e<<17}function dm(t){return t|2}function Wo(t){return(t&131068)>>2}function _p(t,e){return t&-131069|e<<2}function SO(t){return(t&1)===1}function hm(t){return t|1}function AO(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Bi(s),u=Wo(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Fa(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=Bi(t[a+1]);t[r+1]=nl(g,a),g!==0&&(t[g+1]=_p(t[g+1],r)),t[a+1]=TO(t[a+1],r)}else t[r+1]=nl(a,0),a!==0&&(t[a+1]=_p(t[a+1],r)),a=r;else t[r+1]=nl(u,0),a===0?a=r:t[u+1]=_p(t[u+1],r),u=r;l&&(t[r+1]=dm(t[r+1])),o0(t,h,r,!0),o0(t,h,r,!1),RO(e,h,t,r,o),s=nl(a,u),o?e.classBindings=s:e.styleBindings=s}function RO(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Fa(o,e)>=0&&(n[r+1]=hm(n[r+1]))}function o0(t,e,n,r){let i=t[n+1],o=e===null,s=r?Bi(i):Wo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];MO(u,e)&&(a=!0,t[s+1]=r?hm(l):dm(l)),s=r?Bi(l):Wo(l)}a&&(t[n+1]=r?dm(i):hm(i))}function MO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Fa(t,e)>=0:!1}function Et(t,e,n){let r=Ie(),i=$l();if(Xn(r,i,e)){let o=It(),s=km();eC(o,s,r,t,e,r[Ye],n,!1)}return Et}function s0(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";ng(t,n,o[s],s,r)}function Yl(t,e){return NO(t,e,null,!0),Yl}function NO(t,e,n,r){let i=Ie(),o=It(),s=vx(2);if(o.firstUpdatePass&&PO(o,t,s,r),e!==$i&&Xn(i,s,e)){let a=o.data[Yo()];LO(o,a,i,i[Ye],t,i[s+1]=jO(e,n),r,s)}}function xO(t,e){return e>=t.expandoStartIndex}function PO(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Yo()],s=xO(t,n);UO(o,r)&&e===null&&!s&&(e=!1),e=OO(i,o,e,r),AO(i,o,e,n,s,r)}}function OO(t,e,n,r){let i=Ex(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Ip(null,t,e,n,r),n=Oa(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Ip(i,t,e,n,r),o===null){let u=kO(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Ip(null,t,e,u[1],r),u=Oa(u,e.attrs,r),FO(t,e,r,u))}else o=VO(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function kO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Wo(r)!==0)return t[Bi(r)]}function FO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Bi(i)]=r}function VO(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Oa(r,s,n)}return Oa(r,e.attrs,n)}function Ip(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Oa(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Oa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),bN(t,s,n?!0:e[++o]))}return t===void 0?null:t}function LO(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=SO(l)?a0(u,e,n,i,Wo(l),s):void 0;if(!Nl(h)){Nl(o)||bO(l)&&(o=a0(u,null,n,i,a,s));let p=K0(Yo(),n);OP(r,s,p,i,o)}}function a0(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===$i&&(g=p?Zt:void 0);let v=p?lp(g,r):h===r?g:void 0;if(l&&!Nl(v)&&(v=lp(u,r)),Nl(v)&&(a=v,s))return a;let R=t[i+1];i=s?Bi(R):Wo(R)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=lp(u,r))}return a}function Nl(t){return t!==void 0}function jO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Mt(La(t)))),t}function UO(t,e){return(t.flags&(e?8:16))!==0}function BO(t,e,n,r,i,o){let s=e.consts,a=vl(s,i),u=Gl(e,t,2,r,a);return tC(e,n,u,vl(s,o)),u.attrs!==null&&Xp(u,u.attrs,!1),u.mergedAttrs!==null&&Xp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function T(t,e,n,r){let i=Ie(),o=It(),s=Xt+t,a=i[Ye],u=o.firstCreatePass?BO(s,o,i,e,n,r):o.data[s],l=$O(o,i,u,a,e,t);i[s]=l;let h=Am(u);return Va(u,!0),qD(a,l,u),!gO(u)&&Lm()&&Xm(o,i,l,u),ux()===0&&Li(l,i),lx(),h&&(ZD(o,i,u),YD(o,u,i)),r!==null&&JD(i,u),T}function S(){let t=wt();nD()?gx():(t=t.parent,Va(t,!1));let e=t;fx(e)&&px(),dx();let n=It();return n.firstCreatePass&&(Um(n,t),$0(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Mx(e)&&s0(n,e,Ie(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Nx(e)&&s0(n,e,Ie(),e.stylesWithoutHost,!1),S}function Pe(t,e,n,r){return T(t,e,n,r),S(),Pe}var $O=(t,e,n,r,i,o)=>(jm(!0),FD(r,i,Tx()));var Ai=void 0;function HO(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var qO=["en",[["a","p"],["AM","PM"],Ai],[["AM","PM"],Ai,Ai],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ai,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ai,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ai,"{1} 'at' {0}",Ai],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",HO],wp={};function Ft(t){let e=zO(t),n=c0(e);if(n)return n;let r=e.split("-")[0];if(n=c0(r),n)return n;if(r==="en")return qO;throw new H(701,!1)}function c0(t){return t in wp||(wp[t]=Ri.ng&&Ri.ng.common&&Ri.ng.common.locales&&Ri.ng.common.locales[t]),wp[t]}var Fe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Fe||{});function zO(t){return t.toLowerCase().replace(/_/g,"-")}var xl="en-US",GO="USD";var WO=xl;function KO(t){typeof t=="string"&&(WO=t.toLowerCase().replace(/_/g,"-"))}var QO=(t,e,n)=>{};function rt(t,e,n,r){let i=Ie(),o=It(),s=wt();return CC(o,i,i[Ye],s,t,e,r),rt}function YO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[ml],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function CC(t,e,n,r,i,o,s){let a=Am(r),l=t.firstCreatePass&&aC(t),h=e[Cn],p=sC(e),g=!0;if(r.type&3||s){let P=en(r,e),x=s?s(P):P,j=p.length,G=s?re=>s(Sn(re[r.index])):r.index,W=null;if(!s&&a&&(W=YO(t,e,i,r.index)),W!==null){let re=W.__ngLastListenerFn__||W;re.__ngNextListenerFn__=o,W.__ngLastListenerFn__=o,g=!1}else{o=l0(r,e,h,o),QO(P,i,o);let re=n.listen(x,i,o);p.push(o,re),l&&l.push(i,G,j,j+1)}}else o=l0(r,e,h,o);let v=r.outputs,R;if(g&&v!==null&&(R=v[i])){let P=R.length;if(P)for(let x=0;x<P;x+=2){let j=R[x],G=R[x+1],Ne=e[j][G].subscribe(o),ee=p.length;p.push(o,Ne),l&&l.push(i,r.index,ee,-(ee+1))}}}function u0(t,e,n,r){let i=ye(null);try{return wn(6,e,n),n(r)!==!1}catch(o){return cC(t,o),!1}finally{wn(7,e,n),ye(i)}}function l0(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Yr(t.index,e):e;ig(s,5);let a=u0(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=u0(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function Ba(t=1){return Cx(t)}function bC(t,e,n,r){eO(t,e,n,r)}function TC(t){let e=Ie(),n=It(),r=iD();xm(r+1);let i=sg(n,r);if(t.dirty&&ox(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=iO(e,r);t.reset(o,Jx),t.notifyOnChanges()}return!0}return!1}function SC(){return J1(Ie(),iD())}function ZO(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function N(t,e=""){let n=Ie(),r=It(),i=t+Xt,o=r.firstCreatePass?Gl(r,i,1,e,null):r.data[i],s=JO(r,n,o,e,t);n[i]=s,Lm()&&Xm(r,n,s,o),Va(o,!1)}var JO=(t,e,n,r,i)=>(jm(!0),yP(e[Ye],r));function ht(t){return or("",t,""),ht}function or(t,e,n){let r=Ie(),i=CO(r,t,e,n);return i!==$i&&a1(r,Yo(),i),or}function Ze(t,e,n){IC(e)&&(e=e());let r=Ie(),i=$l();if(Xn(r,i,e)){let o=It(),s=km();eC(o,s,r,t,e,r[Ye],n,!1)}return Ze}function it(t,e){let n=IC(t);return n&&t.set(e),n}function Je(t,e){let n=Ie(),r=It(),i=wt();return CC(r,n,n[Ye],i,t,e),Je}function XO(t,e,n){let r=It();if(r.firstCreatePass){let i=Gr(t);fm(n,r.data,r.blueprint,i,!0),fm(e,r.data,r.blueprint,i,!1)}}function fm(t,e,n,r,i){if(t=Rt(t),Array.isArray(t))for(let o=0;o<t.length;o++)fm(t[o],e,n,r,i);else{let o=It(),s=Ie(),a=wt(),u=Uo(t)?t:Rt(t.provide),l=L0(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Uo(t)||!t.multi){let v=new Fi(l,i,q),R=Dp(u,e,i?h:h+g,p);R===-1?(Vp(El(a,s),o,u),Ep(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)):(n[R]=v,s[R]=v)}else{let v=Dp(u,e,h+g,p),R=Dp(u,e,h,h+g),P=v>=0&&n[v],x=R>=0&&n[R];if(i&&!x||!i&&!P){Vp(El(a,s),o,u);let j=nk(i?tk:ek,n.length,i,r,l);!i&&x&&(n[R].providerFactory=j),Ep(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(j),s.push(j)}else{let j=AC(n[i?R:v],l,!i&&r);Ep(o,t,v>-1?v:R,j)}!i&&r&&x&&n[R].componentProviders++}}}function Ep(t,e,n,r){let i=Uo(e),o=GN(e);if(i||o){let u=(o?Rt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function AC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Dp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ek(t,e,n,r){return pm(this.multi,[])}function tk(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Vi(n,n[ie],this.providerFactory.index,r);o=a.slice(0,s),pm(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],pm(i,o);return o}function pm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function nk(t,e,n,r,i){let o=new Fi(t,n,q);return o.multi=[],o.index=e,o.componentProviders=0,AC(o,i,r&&!n),o}function Jr(t,e=[]){return n=>{n.providersResolver=(r,i)=>XO(r,i?i(t):t,e)}}var rk=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=k0(!1,n.type),i=r.length>0?Ql([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=$({token:t,providedIn:"environment",factory:()=>new t(Q($t))})}}return t})();function ot(t){Xo("NgStandalone"),t.getStandaloneInjector=e=>e.get(rk).getOrCreateStandaloneInjector(t)}function lg(t,e){let n=t[e];return n===$i?void 0:n}function ik(t,e,n,r,i,o){let s=e+n;return Xn(t,s,i)?cg(t,s+1,o?r.call(o,i):r(i)):lg(t,s+1)}function ok(t,e,n,r,i,o,s){let a=e+n;return EC(t,a,i,o)?cg(t,a+2,s?r.call(s,i,o):r(i,o)):lg(t,a+2)}function sk(t,e,n,r,i,o,s,a){let u=e+n;return mO(t,u,i,o,s)?cg(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):lg(t,u+3)}function sr(t,e){let n=It(),r,i=t+Xt;n.firstCreatePass?(r=ak(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Ni(r.type,!0)),s,a=Pt(q);try{let u=wl(!1),l=o();return wl(u),ZO(n,Ie(),i,l),l}finally{Pt(a)}}function ak(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function RC(t,e,n){let r=t+Xt,i=Ie(),o=Rm(i,r);return dg(i,r)?ik(i,Nm(),e,o.transform,n,o):o.transform(n)}function es(t,e,n,r){let i=t+Xt,o=Ie(),s=Rm(o,i);return dg(o,i)?ok(o,Nm(),e,s.transform,n,r,s):s.transform(n,r)}function MC(t,e,n,r,i){let o=t+Xt,s=Ie(),a=Rm(s,o);return dg(s,o)?sk(s,Nm(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function dg(t,e){return t[ie].data[e].pure}var er=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},NC=new er("18.2.13");var Zl=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var xC=new B("");function Hi(t){return!!t&&typeof t.then=="function"}function PC(t){return!!t&&typeof t.subscribe=="function"}var Jl=new B(""),OC=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=O(Jl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(Hi(o))n.push(o);else if(PC(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Xl=new B("");function ck(){eE(()=>{throw new H(600,!1)})}function uk(t){return t.isBoundToModule}var lk=10;function dk(t,e,n){try{let r=n();return Hi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var qi=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(Yx),this.afterRenderManager=O(DC),this.zonelessEnabled=O(Kl),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new tt,this.afterTick=new tt,this.componentTypes=[],this.components=[],this.isStable=O(Zo).hasPendingTasks.pipe(ue(n=>!n)),this._injector=O($t)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Al;if(!this._injector.get(OC).done){let g=!i&&N0(n),v=!1;throw new H(405,v)}let s;i?s=n:s=this._injector.get(qo).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=uk(s)?void 0:this._injector.get(Wr),u=r||s.selector,l=s.create(dt.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(xC,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),cl(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new H(101,!1);let n=ye(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ye(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(zo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<lk;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)hk(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ul(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;cl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Xl,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>cl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new H(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function cl(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function hk(t,e,n,r){if(!n&&!Ul(t))return;dC(t,e,n&&!r?0:1)}var mm=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ed=(()=>{class t{compileModuleSync(n){return new cm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=x0(n),o=kD(i.declarations).reduce((s,a)=>{let u=zr(a);return u&&s.push(new Go(u)),s},[]);return new mm(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var fk=(()=>{class t{constructor(){this.zone=O(Ce),this.changeDetectionScheduler=O(Ho),this.applicationRef=O(qi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),pk=new B("",{factory:()=>!1});function kC({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ce(le(V({},VC()),{scheduleInRootZone:n})),[{provide:Ce,useFactory:t},{provide:jo,multi:!0,useFactory:()=>{let r=O(fk,{optional:!0});return()=>r.initialize()}},{provide:jo,multi:!0,useFactory:()=>{let r=O(mk);return()=>{r.initialize()}}},e===!0?{provide:mC,useValue:!0}:[],{provide:gC,useValue:n??ED}]}function FC(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=kC({ngZoneFactory:()=>{let i=VC(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Xo("NgZone_CoalesceEvent"),new Ce(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Rn([{provide:pk,useValue:!0},{provide:Kl,useValue:!1},r])}function VC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var mk=(()=>{class t{constructor(){this.subscription=new Le,this.initialized=!1,this.zone=O(Ce),this.pendingTasks=O(Zo)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var gk=(()=>{class t{constructor(){this.appRef=O(qi),this.taskService=O(Zo),this.ngZone=O(Ce),this.zonelessEnabled=O(Kl),this.disableScheduling=O(mC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Le,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Cl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(gC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof $p||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?zE:DD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Cl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,zE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function yk(){return typeof $localize<"u"&&$localize.locale||xl}var $a=new B("",{providedIn:"root",factory:()=>O($a,ae.Optional|ae.SkipSelf)||yk()}),LC=new B("",{providedIn:"root",factory:()=>GO});var gm=new B("");function rl(t){return!t.moduleRef}function vk(t){let e=rl(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ce);return n.run(()=>{rl(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Zn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),rl(t)){let o=()=>e.destroy(),s=t.platformInjector.get(gm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(gm);s.add(o),t.moduleRef.onDestroy(()=>{cl(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return dk(r,n,()=>{let o=e.get(OC);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get($a,xl);if(KO(s||xl),rl(t)){let a=e.get(qi);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return _k(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function _k(t,e){let n=t.injector.get(qi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new H(-403,!1);e.push(t)}var ul=null;function Ik(t=[],e){return dt.create({name:e,providers:[{provide:Vl,useValue:"platform"},{provide:gm,useValue:new Set([()=>ul=null])},...t]})}function wk(t=[]){if(ul)return ul;let e=Ik(t);return ul=e,ck(),Ek(e),e}function Ek(t){t.get(Wm,null)?.forEach(n=>n())}var Xr=(()=>{class t{static{this.__NG_ELEMENT_ID__=Dk}}return t})();function Dk(t){return Ck(wt(),Ie(),(t&16)===16)}function Ck(t,e,n){if(jl(t)&&!n){let r=Yr(t.index,e);return new ji(r,r)}else if(t.type&175){let r=e[Tn];return new ji(r,e)}return null}var ym=class{constructor(){}supports(e){return wC(e)}create(e){return new vm(e)}},bk=(t,e)=>e,vm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||bk}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<d0(r,i,o)?n:r,a=d0(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let v=g<o.length?o[g]:o[g]=0,R=v+g;h<=R&&R<l&&(o[g]=v+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!wC(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,fO(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new _m(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Pl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Pl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},_m=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Im=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Pl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Im,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function d0(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function h0(){return new hg([new ym])}var hg=(()=>{class t{static{this.\u0275prov=$({token:t,providedIn:"root",factory:h0})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||h0()),deps:[[t,new Dm,new _t]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new H(901,!1)}}return t})();function jC(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=wk(r),o=[kC({}),{provide:Ho,useExisting:gk},...n||[]],s=new Ml({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return vk({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function ei(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ha(t,e){Xo("NgSignals");let n=Zw(t);return e?.equal&&(n[Wn].equal=e.equal),n}function ar(t){let e=ye(null);try{return t()}finally{ye(e)}}function UC(t){let e=zr(t);if(!e)return null;let n=new Go(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var KC=null;function hr(){return KC}function QC(t){KC??=t}var ud=class{};var Vt=new B(""),Eg=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>O(Tk),providedIn:"platform"})}}return t})(),YC=new B(""),Tk=(()=>{class t extends Eg{constructor(){super(),this._doc=O(Vt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hr().getBaseHref(this._doc)}onPopState(n){let r=hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Dg(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function BC(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ur(t){return t&&t[0]!=="?"?"?"+t:t}var fr=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>O(Cg),providedIn:"root"})}}return t})(),ZC=new B(""),Cg=(()=>{class t extends fr{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(Vt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Dg(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ur(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+ur(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+ur(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(Q(Eg),Q(ZC,8))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),JC=(()=>{class t extends fr{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Dg(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+ur(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+ur(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(Q(Eg),Q(ZC,8))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),ts=(()=>{class t{constructor(n){this._subject=new je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Rk(BC($C(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ur(r))}normalize(n){return t.stripTrailingSlash(Ak(this._basePath,$C(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ur(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ur(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=ur}static{this.joinWithSlash=Dg}static{this.stripTrailingSlash=BC}static{this.\u0275fac=function(r){return new(r||t)(Q(fr))}}static{this.\u0275prov=$({token:t,factory:()=>Sk(),providedIn:"root"})}}return t})();function Sk(){return new ts(Q(fr))}function Ak(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function $C(t){return t.replace(/\/index.html$/,"")}function Rk(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var XC={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},eb=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(eb||{});var Nt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Nt||{}),Re=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Re||{}),Ht=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Ht||{}),qt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Mk(t){return Ft(t)[Fe.LocaleId]}function Nk(t,e,n){let r=Ft(t),i=[r[Fe.DayPeriodsFormat],r[Fe.DayPeriodsStandalone]],o=nn(i,e);return nn(o,n)}function xk(t,e,n){let r=Ft(t),i=[r[Fe.DaysFormat],r[Fe.DaysStandalone]],o=nn(i,e);return nn(o,n)}function Pk(t,e,n){let r=Ft(t),i=[r[Fe.MonthsFormat],r[Fe.MonthsStandalone]],o=nn(i,e);return nn(o,n)}function Ok(t,e){let r=Ft(t)[Fe.Eras];return nn(r,e)}function td(t,e){let n=Ft(t);return nn(n[Fe.DateFormat],e)}function nd(t,e){let n=Ft(t);return nn(n[Fe.TimeFormat],e)}function rd(t,e){let r=Ft(t)[Fe.DateTimeFormat];return nn(r,e)}function lr(t,e){let n=Ft(t),r=n[Fe.NumberSymbols][e];if(typeof r>"u"){if(e===qt.CurrencyDecimal)return n[Fe.NumberSymbols][qt.Decimal];if(e===qt.CurrencyGroup)return n[Fe.NumberSymbols][qt.Group]}return r}function kk(t,e){return Ft(t)[Fe.NumberFormats][e]}function Fk(t){return Ft(t)[Fe.Currencies]}function tb(t){if(!t[Fe.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Fe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Vk(t){let e=Ft(t);return tb(e),(e[Fe.ExtraData][2]||[]).map(r=>typeof r=="string"?fg(r):[fg(r[0]),fg(r[1])])}function Lk(t,e,n){let r=Ft(t);tb(r);let i=[r[Fe.ExtraData][0],r[Fe.ExtraData][1]],o=nn(i,e)||[];return nn(o,n)||[]}function nn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function fg(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}function jk(t,e,n="en"){let r=Fk(n)[t]||XC[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var Uk=2;function Bk(t){let e,n=XC[t];return n&&(e=n[2]),typeof e=="number"?e:Uk}var $k=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,id={},Hk=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,dr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(dr||{}),Ee=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ee||{}),we=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(we||{});function qk(t,e,n,r){let i=Xk(t);e=cr(n,e)||e;let s=[],a;for(;e;)if(a=Hk.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=rb(r,u),i=Jk(i,r,!0));let l="";return s.forEach(h=>{let p=Yk(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function ld(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function cr(t,e){let n=Mk(t);if(id[n]??={},id[n][e])return id[n][e];let r="";switch(e){case"shortDate":r=td(t,Ht.Short);break;case"mediumDate":r=td(t,Ht.Medium);break;case"longDate":r=td(t,Ht.Long);break;case"fullDate":r=td(t,Ht.Full);break;case"shortTime":r=nd(t,Ht.Short);break;case"mediumTime":r=nd(t,Ht.Medium);break;case"longTime":r=nd(t,Ht.Long);break;case"fullTime":r=nd(t,Ht.Full);break;case"short":let i=cr(t,"shortTime"),o=cr(t,"shortDate");r=od(rd(t,Ht.Short),[i,o]);break;case"medium":let s=cr(t,"mediumTime"),a=cr(t,"mediumDate");r=od(rd(t,Ht.Medium),[s,a]);break;case"long":let u=cr(t,"longTime"),l=cr(t,"longDate");r=od(rd(t,Ht.Long),[u,l]);break;case"full":let h=cr(t,"fullTime"),p=cr(t,"fullDate");r=od(rd(t,Ht.Full),[h,p]);break}return r&&(id[n][e]=r),r}function od(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function hn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function zk(t,e){return hn(t,3).substring(0,e)}function qe(t,e,n=0,r=!1,i=!1){return function(o,s){let a=Gk(t,o);if((n>0||a>-n)&&(a+=n),t===Ee.Hours)a===0&&n===-12&&(a=12);else if(t===Ee.FractionalSeconds)return zk(a,e);let u=lr(s,qt.MinusSign);return hn(a,e,u,r,i)}}function Gk(t,e){switch(t){case Ee.FullYear:return e.getFullYear();case Ee.Month:return e.getMonth();case Ee.Date:return e.getDate();case Ee.Hours:return e.getHours();case Ee.Minutes:return e.getMinutes();case Ee.Seconds:return e.getSeconds();case Ee.FractionalSeconds:return e.getMilliseconds();case Ee.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Me(t,e,n=Nt.Format,r=!1){return function(i,o){return Wk(i,o,t,e,n,r)}}function Wk(t,e,n,r,i,o){switch(n){case we.Months:return Pk(e,i,r)[t.getMonth()];case we.Days:return xk(e,i,r)[t.getDay()];case we.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=Vk(e),h=Lk(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[v,R]=g,P=s>=v.hours&&a>=v.minutes,x=s<R.hours||s===R.hours&&a<R.minutes;if(v.hours<R.hours){if(P&&x)return!0}else if(P||x)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return Nk(e,i,r)[s<12?0:1];case we.Eras:return Ok(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function sd(t){return function(e,n,r){let i=-1*r,o=lr(n,qt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case dr.Short:return(i>=0?"+":"")+hn(s,2,o)+hn(Math.abs(i%60),2,o);case dr.ShortGMT:return"GMT"+(i>=0?"+":"")+hn(s,1,o);case dr.Long:return"GMT"+(i>=0?"+":"")+hn(s,2,o)+":"+hn(Math.abs(i%60),2,o);case dr.Extended:return r===0?"Z":(i>=0?"+":"")+hn(s,2,o)+":"+hn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var Kk=0,cd=4;function Qk(t){let e=ld(t,Kk,1).getDay();return ld(t,0,1+(e<=cd?cd:cd+7)-e)}function nb(t){let e=t.getDay(),n=e===0?-3:cd-e;return ld(t.getFullYear(),t.getMonth(),t.getDate()+n)}function pg(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=nb(n),s=Qk(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return hn(i,t,lr(r,qt.MinusSign))}}function ad(t,e=!1){return function(n,r){let o=nb(n).getFullYear();return hn(o,t,lr(r,qt.MinusSign),e)}}var mg={};function Yk(t){if(mg[t])return mg[t];let e;switch(t){case"G":case"GG":case"GGG":e=Me(we.Eras,Re.Abbreviated);break;case"GGGG":e=Me(we.Eras,Re.Wide);break;case"GGGGG":e=Me(we.Eras,Re.Narrow);break;case"y":e=qe(Ee.FullYear,1,0,!1,!0);break;case"yy":e=qe(Ee.FullYear,2,0,!0,!0);break;case"yyy":e=qe(Ee.FullYear,3,0,!1,!0);break;case"yyyy":e=qe(Ee.FullYear,4,0,!1,!0);break;case"Y":e=ad(1);break;case"YY":e=ad(2,!0);break;case"YYY":e=ad(3);break;case"YYYY":e=ad(4);break;case"M":case"L":e=qe(Ee.Month,1,1);break;case"MM":case"LL":e=qe(Ee.Month,2,1);break;case"MMM":e=Me(we.Months,Re.Abbreviated);break;case"MMMM":e=Me(we.Months,Re.Wide);break;case"MMMMM":e=Me(we.Months,Re.Narrow);break;case"LLL":e=Me(we.Months,Re.Abbreviated,Nt.Standalone);break;case"LLLL":e=Me(we.Months,Re.Wide,Nt.Standalone);break;case"LLLLL":e=Me(we.Months,Re.Narrow,Nt.Standalone);break;case"w":e=pg(1);break;case"ww":e=pg(2);break;case"W":e=pg(1,!0);break;case"d":e=qe(Ee.Date,1);break;case"dd":e=qe(Ee.Date,2);break;case"c":case"cc":e=qe(Ee.Day,1);break;case"ccc":e=Me(we.Days,Re.Abbreviated,Nt.Standalone);break;case"cccc":e=Me(we.Days,Re.Wide,Nt.Standalone);break;case"ccccc":e=Me(we.Days,Re.Narrow,Nt.Standalone);break;case"cccccc":e=Me(we.Days,Re.Short,Nt.Standalone);break;case"E":case"EE":case"EEE":e=Me(we.Days,Re.Abbreviated);break;case"EEEE":e=Me(we.Days,Re.Wide);break;case"EEEEE":e=Me(we.Days,Re.Narrow);break;case"EEEEEE":e=Me(we.Days,Re.Short);break;case"a":case"aa":case"aaa":e=Me(we.DayPeriods,Re.Abbreviated);break;case"aaaa":e=Me(we.DayPeriods,Re.Wide);break;case"aaaaa":e=Me(we.DayPeriods,Re.Narrow);break;case"b":case"bb":case"bbb":e=Me(we.DayPeriods,Re.Abbreviated,Nt.Standalone,!0);break;case"bbbb":e=Me(we.DayPeriods,Re.Wide,Nt.Standalone,!0);break;case"bbbbb":e=Me(we.DayPeriods,Re.Narrow,Nt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Me(we.DayPeriods,Re.Abbreviated,Nt.Format,!0);break;case"BBBB":e=Me(we.DayPeriods,Re.Wide,Nt.Format,!0);break;case"BBBBB":e=Me(we.DayPeriods,Re.Narrow,Nt.Format,!0);break;case"h":e=qe(Ee.Hours,1,-12);break;case"hh":e=qe(Ee.Hours,2,-12);break;case"H":e=qe(Ee.Hours,1);break;case"HH":e=qe(Ee.Hours,2);break;case"m":e=qe(Ee.Minutes,1);break;case"mm":e=qe(Ee.Minutes,2);break;case"s":e=qe(Ee.Seconds,1);break;case"ss":e=qe(Ee.Seconds,2);break;case"S":e=qe(Ee.FractionalSeconds,1);break;case"SS":e=qe(Ee.FractionalSeconds,2);break;case"SSS":e=qe(Ee.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=sd(dr.Short);break;case"ZZZZZ":e=sd(dr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=sd(dr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=sd(dr.Long);break;default:return null}return mg[t]=e,e}function rb(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Zk(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function Jk(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=rb(e,i);return Zk(t,r*(o-i))}function Xk(t){if(HC(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return ld(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match($k))return eF(r)}let e=new Date(t);if(!HC(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function eF(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function HC(t){return t instanceof Date&&!isNaN(t.valueOf())}var tF=/^(\d+)?\.((\d+)(-(\d+))?)?$/,qC=22,dd=".",qa="0",nF=";",rF=",",gg="#",zC="\xA4";function iF(t,e,n,r,i,o,s=!1){let a="",u=!1;if(!isFinite(t))a=lr(n,qt.Infinity);else{let l=cF(t);s&&(l=aF(l));let h=e.minInt,p=e.minFrac,g=e.maxFrac;if(o){let G=o.match(tF);if(G===null)throw new Error(`${o} is not a valid digit info`);let W=G[1],re=G[3],Ne=G[5];W!=null&&(h=yg(W)),re!=null&&(p=yg(re)),Ne!=null?g=yg(Ne):re!=null&&p>g&&(g=p)}uF(l,p,g);let v=l.digits,R=l.integerLen,P=l.exponent,x=[];for(u=v.every(G=>!G);R<h;R++)v.unshift(0);for(;R<0;R++)v.unshift(0);R>0?x=v.splice(R,v.length):(x=v,v=[0]);let j=[];for(v.length>=e.lgSize&&j.unshift(v.splice(-e.lgSize,v.length).join(""));v.length>e.gSize;)j.unshift(v.splice(-e.gSize,v.length).join(""));v.length&&j.unshift(v.join("")),a=j.join(lr(n,r)),x.length&&(a+=lr(n,i)+x.join("")),P&&(a+=lr(n,qt.Exponential)+"+"+P)}return t<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function oF(t,e,n,r,i){let o=kk(e,eb.Currency),s=sF(o,lr(e,qt.MinusSign));return s.minFrac=Bk(r),s.maxFrac=s.minFrac,iF(t,s,e,qt.CurrencyGroup,qt.CurrencyDecimal,i).replace(zC,n).replace(zC,"").trim()}function sF(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(nF),i=r[0],o=r[1],s=i.indexOf(dd)!==-1?i.split(dd):[i.substring(0,i.lastIndexOf(qa)+1),i.substring(i.lastIndexOf(qa)+1)],a=s[0],u=s[1]||"";n.posPre=a.substring(0,a.indexOf(gg));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===qa?n.minFrac=n.maxFrac=h+1:p===gg?n.maxFrac=h+1:n.posSuf+=p}let l=a.split(rF);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(gg);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function aF(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function cF(t){let e=Math.abs(t)+"",n=0,r,i,o,s,a;for((i=e.indexOf(dd))>-1&&(e=e.replace(dd,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===qa;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===qa;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>qC&&(r=r.splice(0,qC-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function uF(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+t.integerLen,h=r.reduceRight(function(p,g,v,R){return g=g+p,R[v]=g<10?g:g-10,u&&(R[v]===0&&v>=l?R.pop():u=!1),g>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function yg(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function ib(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var vg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ns=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new vg(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),GC(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);GC(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(q(Zr),q(Ui),q(hg))}}static{this.\u0275dir=ke({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function GC(t,e){t.context.$implicit=e.item}var rs=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new _g,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){WC("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){WC("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(q(Zr),q(Ui))}}static{this.\u0275dir=ke({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),_g=class{constructor(){this.$implicit=null,this.ngIf=null}};function WC(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Mt(e)}'.`)}function bg(t,e){return new H(2100,!1)}var lF="mediumDate",dF=new B(""),hF=new B(""),fd=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??lF,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return qk(n,s,o||this.locale,a)}catch(s){throw bg(t,s.message)}}static{this.\u0275fac=function(r){return new(r||t)(q($a,16),q(dF,24),q(hF,24))}}static{this.\u0275pipe=Ko({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var pd=(()=>{class t{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",o,s){if(!fF(n))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=jk(a,i==="symbol"?"wide":"narrow",s):a=i);try{let u=pF(n);return oF(u,s,a,r,o)}catch(u){throw bg(t,u.message)}}static{this.\u0275fac=function(r){return new(r||t)(q($a,16),q(LC,16))}}static{this.\u0275pipe=Ko({name:"currency",type:t,pure:!0,standalone:!0})}}return t})();function fF(t){return!(t==null||t===""||t!==t)}function pF(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var ob=(()=>{class t{transform(n,r,i){if(n==null)return null;if(!this.supports(n))throw bg(t,n);return n.slice(r,i)}supports(n){return typeof n=="string"||Array.isArray(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=Ko({name:"slice",type:t,pure:!1,standalone:!0})}}return t})();var zt=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Qr({type:t})}static{this.\u0275inj=Kr({})}}return t})(),Tg="browser",mF="server";function gF(t){return t===Tg}function Sg(t){return t===mF}var sb=(()=>{class t{static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>gF(O(Nn))?new Ig(O(Vt),window):new wg})}}return t})(),Ig=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=yF(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function yF(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var wg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},hd=class{};var Mg=class extends ud{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ng=class t extends Mg{static makeCurrent(){QC(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=vF();return n==null?null:_F(n)}resetBaseElement(){za=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ib(document.cookie,e)}},za=null;function vF(){return za=za||document.querySelector("base"),za?za.getAttribute("href"):null}function _F(t){return new URL(t,document.baseURI).pathname}var IF=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),xg=new B(""),lb=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(Q(xg),Q(Ce))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),md=class{constructor(e){this._doc=e}},Ag="ng-app-id",db=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Sg(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Ag}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Ag),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Ag,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(Q(Vt),Q(Gm),Q(Km,8),Q(Nn))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),Rg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Og=/%COMP%/g,hb="%COMP%",wF=`_nghost-${hb}`,EF=`_ngcontent-${hb}`,DF=!0,CF=new B("",{providedIn:"root",factory:()=>DF});function bF(t){return EF.replace(Og,t)}function TF(t){return wF.replace(Og,t)}function fb(t,e){return e.map(n=>n.replace(Og,t))}var ab=(()=>{class t{constructor(n,r,i,o,s,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Sg(a),this.defaultRenderer=new Ga(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Dn.ShadowDom&&(r=le(V({},r),{encapsulation:Dn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof gd?i.applyToHost(n):i instanceof Wa&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Dn.Emulated:o=new gd(u,l,r,this.appId,h,s,a,p);break;case Dn.ShadowDom:return new Pg(u,l,n,r,s,a,this.nonce,p);default:o=new Wa(u,l,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(Q(lb),Q(db),Q(Gm),Q(CF),Q(Vt),Q(Nn),Q(Ce),Q(Km))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),Ga=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Rg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(cb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(cb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Rg[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Rg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Jn.DashCase|Jn.Important)?e.style.setProperty(n,r,i&Jn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Jn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=hr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function cb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Pg=class extends Ga{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=fb(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Wa=class extends Ga{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?fb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},gd=class extends Wa{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=bF(l),this.hostAttr=TF(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},SF=(()=>{class t extends md{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(Q(Vt))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),ub=["alt","control","meta","shift"],AF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},RF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},MF=(()=>{class t extends md{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hr().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),ub.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=AF[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),ub.forEach(s=>{if(s!==i){let a=RF[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(Q(Vt))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();function pb(t,e){return jC(V({rootComponent:t},NF(e)))}function NF(t){return{appProviders:[...FF,...t?.providers??[]],platformProviders:kF}}function xF(){Ng.makeCurrent()}function PF(){return new Zn}function OF(){return MD(document),document}var kF=[{provide:Nn,useValue:Tg},{provide:Wm,useValue:xF,multi:!0},{provide:Vt,useFactory:OF,deps:[]}];var FF=[{provide:Vl,useValue:"root"},{provide:Zn,useFactory:PF,deps:[]},{provide:xg,useClass:SF,multi:!0,deps:[Vt,Ce,Nn]},{provide:xg,useClass:MF,multi:!0,deps:[Vt]},ab,db,lb,{provide:zo,useExisting:ab},{provide:hd,useClass:IF,deps:[]},[]];var mb=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(Q(Vt))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var oe="primary",cc=Symbol("RouteTitle"),jg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function us(t){return new jg(t)}function LF(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function jF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Pn(t[n],e[n]))return!1;return!0}function Pn(t,e){let n=t?Ug(t):void 0,r=e?Ug(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Tb(t[i],e[i]))return!1;return!0}function Ug(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Tb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function Sb(t){return t.length>0?t[t.length-1]:null}function ni(t){return rp(t)?t:Hi(t)?Se(Promise.resolve(t)):K(t)}var UF={exact:Rb,subset:Mb},Ab={exact:BF,subset:$F,ignored:()=>!0};function gb(t,e,n){return UF[n.paths](t.root,e.root,n.matrixParams)&&Ab[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function BF(t,e){return Pn(t,e)}function Rb(t,e,n){if(!Wi(t.segments,e.segments)||!_d(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Rb(t.children[r],e.children[r],n))return!1;return!0}function $F(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Tb(t[n],e[n]))}function Mb(t,e,n){return Nb(t,e,e.segments,n)}function Nb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Wi(i,n)||e.hasChildren()||!_d(i,n,r))}else if(t.segments.length===n.length){if(!Wi(t.segments,n)||!_d(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Mb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Wi(t.segments,i)||!_d(t.segments,i,r)||!t.children[oe]?!1:Nb(t.children[oe],e,o,r)}}function _d(t,e,n){return e.every((r,i)=>Ab[n](t[i].parameters,r.parameters))}var mr=class{constructor(e=new be([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=us(this.queryParams),this._queryParamMap}toString(){return zF.serialize(this)}},be=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Id(this)}},Gi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=us(this.parameters),this._parameterMap}toString(){return Pb(this)}};function HF(t,e){return Wi(t,e)&&t.every((n,r)=>Pn(n.parameters,e[r].parameters))}function Wi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function qF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===oe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==oe&&(n=n.concat(e(i,r)))}),n}var uc=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>new ls,providedIn:"root"})}}return t})(),ls=class{parse(e){let n=new $g(e);return new mr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ka(e.root,!0)}`,r=KF(e.queryParams),i=typeof e.fragment=="string"?`#${GF(e.fragment)}`:"";return`${n}${r}${i}`}},zF=new ls;function Id(t){return t.segments.map(e=>Pb(e)).join("/")}function Ka(t,e){if(!t.hasChildren())return Id(t);if(e){let n=t.children[oe]?Ka(t.children[oe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==oe&&r.push(`${i}:${Ka(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=qF(t,(r,i)=>i===oe?[Ka(t.children[oe],!1)]:[`${i}:${Ka(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[oe]!=null?`${Id(t)}/${n[0]}`:`${Id(t)}/(${n.join("//")})`}}function xb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yd(t){return xb(t).replace(/%3B/gi,";")}function GF(t){return encodeURI(t)}function Bg(t){return xb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wd(t){return decodeURIComponent(t)}function yb(t){return wd(t.replace(/\+/g,"%20"))}function Pb(t){return`${Bg(t.path)}${WF(t.parameters)}`}function WF(t){return Object.entries(t).map(([e,n])=>`;${Bg(e)}=${Bg(n)}`).join("")}function KF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${yd(n)}=${yd(i)}`).join("&"):`${yd(n)}=${yd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var QF=/^[^\/()?;#]+/;function kg(t){let e=t.match(QF);return e?e[0]:""}var YF=/^[^\/()?;=#]+/;function ZF(t){let e=t.match(YF);return e?e[0]:""}var JF=/^[^=?&#]+/;function XF(t){let e=t.match(JF);return e?e[0]:""}var eV=/^[^&#]+/;function tV(t){let e=t.match(eV);return e?e[0]:""}var $g=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[oe]=new be(e,n)),r}parseSegment(){let e=kg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new Gi(wd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=ZF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=kg(this.remaining);i&&(r=i,this.capture(r))}e[wd(n)]=wd(r)}parseQueryParam(e){let n=XF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=tV(this.remaining);s&&(r=s,this.capture(r))}let i=yb(n),o=yb(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=kg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=oe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[oe]:new be([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function Ob(t){return t.segments.length>0?new be([],{[oe]:t}):t}function kb(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=kb(i);if(r===oe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new be(t.segments,e);return nV(n)}function nV(t){if(t.numberOfChildren===1&&t.children[oe]){let e=t.children[oe];return new be(t.segments.concat(e.segments),e.children)}return t}function Ki(t){return t instanceof mr}function rV(t,e,n=null,r=null){let i=Fb(t);return Vb(i,e,n,r)}function Fb(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new be(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=Ob(r);return e??i}function Vb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Fg(i,i,i,n,r);let o=iV(e);if(o.toRoot())return Fg(i,i,new be([],{}),n,r);let s=oV(o,i,t),a=s.processChildren?Za(s.segmentGroup,s.index,o.commands):jb(s.segmentGroup,s.index,o.commands);return Fg(i,s.segmentGroup,a,n,r)}function Ed(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ec(t){return typeof t=="object"&&t!=null&&t.outlets}function Fg(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=Lb(t,e,n);let a=Ob(kb(s));return new mr(a,o,i)}function Lb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=Lb(o,e,n)}),new be(t.segments,r)}var Dd=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ed(r[0]))throw new H(4003,!1);let i=r.find(ec);if(i&&i!==Sb(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function iV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Dd(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Dd(n,e,r)}var ss=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function oV(t,e,n){if(t.isAbsolute)return new ss(e,!0,0);if(!n)return new ss(e,!1,NaN);if(n.parent===null)return new ss(n,!0,0);let r=Ed(t.commands[0])?0:1,i=n.segments.length-1+r;return sV(n,i,t.numberOfDoubleDots)}function sV(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new ss(r,!1,i-o)}function aV(t){return ec(t[0])?t[0].outlets:{[oe]:t}}function jb(t,e,n){if(t??=new be([],{}),t.segments.length===0&&t.hasChildren())return Za(t,e,n);let r=cV(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new be(t.segments.slice(0,r.pathIndex),{});return o.children[oe]=new be(t.segments.slice(r.pathIndex),t.children),Za(o,0,i)}else return r.match&&i.length===0?new be(t.segments,{}):r.match&&!t.hasChildren()?Hg(t,e,n):r.match?Za(t,0,i):Hg(t,e,n)}function Za(t,e,n){if(n.length===0)return new be(t.segments,{});{let r=aV(n),i={};if(Object.keys(r).some(o=>o!==oe)&&t.children[oe]&&t.numberOfChildren===1&&t.children[oe].segments.length===0){let o=Za(t.children[oe],e,n);return new be(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=jb(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new be(t.segments,i)}}function cV(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(ec(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!_b(u,l,s))return o;r+=2}else{if(!_b(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Hg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(ec(o)){let u=uV(o.outlets);return new be(r,u)}if(i===0&&Ed(n[0])){let u=t.segments[e];r.push(new Gi(u.path,vb(n[0]))),i++;continue}let s=ec(o)?o.outlets[oe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Ed(a)?(r.push(new Gi(s,vb(a))),i+=2):(r.push(new Gi(s,{})),i++)}return new be(r,{})}function uV(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Hg(new be([],{}),0,r))}),e}function vb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function _b(t,e,n){return t==n.path&&Pn(e,n.parameters)}var Ja="imperative",st=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(st||{}),rn=class{constructor(e,n){this.id=e,this.url=n}},ds=class extends rn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=st.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},pn=class extends rn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=st.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Wt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Wt||{}),Cd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Cd||{}),pr=class extends rn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=st.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ti=class extends rn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=st.NavigationSkipped}},tc=class extends rn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=st.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},bd=class extends rn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=st.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qg=class extends rn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=st.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zg=class extends rn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=st.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Gg=class extends rn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=st.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wg=class extends rn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=st.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kg=class{constructor(e){this.route=e,this.type=st.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Qg=class{constructor(e){this.route=e,this.type=st.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Yg=class{constructor(e){this.snapshot=e,this.type=st.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zg=class{constructor(e){this.snapshot=e,this.type=st.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jg=class{constructor(e){this.snapshot=e,this.type=st.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xg=class{constructor(e){this.snapshot=e,this.type=st.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Td=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=st.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},nc=class{},hs=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function lV(t,e){return t.providers&&!t._injector&&(t._injector=Ql(t.providers,e,`Route: ${t.path}`)),t._injector??e}function fn(t){return t.outlet||oe}function dV(t,e){let n=t.filter(r=>fn(r)===e);return n.push(...t.filter(r=>fn(r)!==e)),n}function lc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var ey=class{get injector(){return lc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new dc(this.rootInjector),this.attachRef=null}},dc=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new ey(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(Q($t))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Sd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ty(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=ty(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=ny(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ny(e,this._root).map(n=>n.value)}};function ty(t,e){if(t===e.value)return e;for(let n of e.children){let r=ty(t,n);if(r)return r}return null}function ny(t,e){if(t===e.value)return[e];for(let n of e.children){let r=ny(t,n);if(r.length)return r.unshift(e),r}return[]}var Gt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function os(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ad=class extends Sd{constructor(e,n){super(e),this.snapshot=n,dy(this,e)}toString(){return this.snapshot.toString()}};function Ub(t){let e=hV(t),n=new lt([new Gi("",{})]),r=new lt({}),i=new lt({}),o=new lt({}),s=new lt(""),a=new On(n,r,o,s,i,oe,t,e.root);return a.snapshot=e.root,new Ad(new Gt(a,[]),e)}function hV(t){let e={},n={},r={},i="",o=new as([],e,r,i,n,oe,t,null,{});return new Md("",new Gt(o,[]))}var On=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ue(l=>l[cc]))??K(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ue(e=>us(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ue(e=>us(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Rd(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),t.params),data:V(V({},e.data),t.data),resolve:V(V(V(V({},t.data),e.data),i?.data),t._resolvedData)}:r={params:V({},t.params),data:V({},t.data),resolve:V(V({},t.data),t._resolvedData??{})},i&&$b(i)&&(r.resolve[cc]=i.title),r}var as=class{get title(){return this.data?.[cc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=us(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=us(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Md=class extends Sd{constructor(e,n){super(n),this.url=e,dy(this,n)}toString(){return Bb(this._root)}};function dy(t,e){e.value._routerState=t,e.children.forEach(n=>dy(t,n))}function Bb(t){let e=t.children.length>0?` { ${t.children.map(Bb).join(", ")} } `:"";return`${t.value}${e}`}function Vg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Pn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Pn(e.params,n.params)||t.paramsSubject.next(n.params),jF(e.url,n.url)||t.urlSubject.next(n.url),Pn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ry(t,e){let n=Pn(t.params,e.params)&&HF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||ry(t.parent,e.parent))}function $b(t){return typeof t.title=="string"||t.title===null}var hy=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new je,this.deactivateEvents=new je,this.attachEvents=new je,this.detachEvents=new je,this.parentContexts=O(dc),this.location=O(Zr),this.changeDetector=O(Xr),this.inputBinder=O(Od,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new iy(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=ke({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[rr]})}}return t})(),iy=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===On?this.route:e===dc?this.childContexts:this.parent.get(e,n)}},Od=new B(""),Ib=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=ba([r.queryParams,r.params,r.data]).pipe(Yt(([o,s,a],u)=>(a=V(V(V({},o),s),a),u===0?K(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=UC(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();function fV(t,e,n){let r=rc(t,e._root,n?n._root:void 0);return new Ad(r,e)}function rc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=pV(t,e,n);return new Gt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>rc(t,a)),s}}let r=mV(e.value),i=e.children.map(o=>rc(t,o));return new Gt(r,i)}}function pV(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return rc(t,r,i);return rc(t,r)})}function mV(t){return new On(new lt(t.url),new lt(t.params),new lt(t.queryParams),new lt(t.fragment),new lt(t.data),t.outlet,t.component,t)}var ic=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Hb="ngNavigationCancelingError";function Nd(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ki(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=qb(!1,Wt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function qb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Hb]=!0,n.cancellationCode=e,n}function gV(t){return zb(t)&&Ki(t.url)}function zb(t){return!!t&&t[Hb]}var yV=(t,e,n,r)=>ue(i=>(new oy(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),oy=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Vg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=os(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=os(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=os(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=os(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Xg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Zg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Vg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Vg(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},xd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},cs=class{constructor(e,n){this.component=e,this.route=n}};function vV(t,e,n){let r=t._root,i=e?e._root:null;return Qa(r,i,n,[r.value])}function _V(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ms(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!g0(t)?t:e.get(t):r}function Qa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=os(e);return t.children.forEach(s=>{IV(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Xa(a,n.getContext(s),i)),i}function IV(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=wV(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new xd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Qa(t,e,a?a.children:null,r,i):Qa(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new cs(a.outlet.component,s))}else s&&Xa(e,a,i),i.canActivateChecks.push(new xd(r)),o.component?Qa(t,null,a?a.children:null,r,i):Qa(t,null,n,r,i);return i}function wV(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Wi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Wi(t.url,e.url)||!Pn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ry(t,e)||!Pn(t.queryParams,e.queryParams);case"paramsChange":default:return!ry(t,e)}}function Xa(t,e,n){let r=os(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Xa(s,e.children.getContext(o),n):Xa(s,null,n):Xa(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new cs(e.outlet.component,i)):n.canDeactivateChecks.push(new cs(null,i)):n.canDeactivateChecks.push(new cs(null,i))}function hc(t){return typeof t=="function"}function EV(t){return typeof t=="boolean"}function DV(t){return t&&hc(t.canLoad)}function CV(t){return t&&hc(t.canActivate)}function bV(t){return t&&hc(t.canActivateChild)}function TV(t){return t&&hc(t.canDeactivate)}function SV(t){return t&&hc(t.canMatch)}function Gb(t){return t instanceof Kn||t?.name==="EmptyError"}var vd=Symbol("INITIAL_VALUE");function fs(){return Yt(t=>ba(t.map(e=>e.pipe(Qn(1),cp(vd)))).pipe(ue(e=>{for(let n of e)if(n!==!0){if(n===vd)return vd;if(n===!1||AV(n))return n}return!0}),Qt(e=>e!==vd),Qn(1)))}function AV(t){return Ki(t)||t instanceof ic}function RV(t,e){return He(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?K(le(V({},n),{guardsResult:!0})):MV(s,r,i,t).pipe(He(a=>a&&EV(a)?NV(r,o,t,e):K(a)),ue(a=>le(V({},n),{guardsResult:a})))})}function MV(t,e,n,r){return Se(t).pipe(He(i=>FV(i.component,i.route,n,e,r)),In(i=>i!==!0,!0))}function NV(t,e,n,r){return Se(e).pipe(Si(i=>Mo(PV(i.route.parent,r),xV(i.route,r),kV(t,i.path,n),OV(t,i.route,n))),In(i=>i!==!0,!0))}function xV(t,e){return t!==null&&e&&e(new Jg(t)),K(!0)}function PV(t,e){return t!==null&&e&&e(new Yg(t)),K(!0)}function OV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(o=>Zu(()=>{let s=lc(e)??n,a=ms(o,s),u=CV(a)?a.canActivate(e,t):Mn(s,()=>a(e,t));return ni(u).pipe(In())}));return K(i).pipe(fs())}function kV(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>_V(s)).filter(s=>s!==null).map(s=>Zu(()=>{let a=s.guards.map(u=>{let l=lc(s.node)??n,h=ms(u,l),p=bV(h)?h.canActivateChild(r,t):Mn(l,()=>h(r,t));return ni(p).pipe(In())});return K(a).pipe(fs())}));return K(o).pipe(fs())}function FV(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return K(!0);let s=o.map(a=>{let u=lc(e)??i,l=ms(a,u),h=TV(l)?l.canDeactivate(t,e,n,r):Mn(u,()=>l(t,e,n,r));return ni(h).pipe(In())});return K(s).pipe(fs())}function VV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return K(!0);let o=i.map(s=>{let a=ms(s,t),u=DV(a)?a.canLoad(e,n):Mn(t,()=>a(e,n));return ni(u)});return K(o).pipe(fs(),Wb(r))}function Wb(t){return Qf(Qe(e=>{if(typeof e!="boolean")throw Nd(t,e)}),ue(e=>e===!0))}function LV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return K(!0);let o=i.map(s=>{let a=ms(s,t),u=SV(a)?a.canMatch(e,n):Mn(t,()=>a(e,n));return ni(u)});return K(o).pipe(fs(),Wb(r))}var oc=class{constructor(e){this.segmentGroup=e||null}},sc=class extends Error{constructor(e){super(),this.urlTree=e}};function is(t){return Ro(new oc(t))}function jV(t){return Ro(new H(4e3,!1))}function UV(t){return Ro(qb(!1,Wt.GuardRejected))}var sy=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[oe])return jV(`${e.redirectTo}`);i=i.children[oe]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,params:v,data:R,title:P}=i,x=Mn(o,()=>a({params:v,data:R,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,title:P}));if(x instanceof mr)throw new sc(x);n=x}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new sc(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new mr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new be(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},ay={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function BV(t,e,n,r,i){let o=Kb(t,e,n);return o.matched?(r=lV(e,r),LV(r,e,n,i).pipe(ue(s=>s===!0?o:V({},ay)))):K(o)}function Kb(t,e,n){if(e.path==="**")return $V(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?V({},ay):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||LF)(n,t,e);if(!i)return V({},ay);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function $V(t){return{matched:!0,parameters:t.length>0?Sb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function wb(t,e,n,r){return n.length>0&&zV(t,n,r)?{segmentGroup:new be(e,qV(r,new be(n,t.children))),slicedSegments:[]}:n.length===0&&GV(t,n,r)?{segmentGroup:new be(t.segments,HV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new be(t.segments,t.children),slicedSegments:n}}function HV(t,e,n,r){let i={};for(let o of n)if(kd(t,e,o)&&!r[fn(o)]){let s=new be([],{});i[fn(o)]=s}return V(V({},r),i)}function qV(t,e){let n={};n[oe]=e;for(let r of t)if(r.path===""&&fn(r)!==oe){let i=new be([],{});n[fn(r)]=i}return n}function zV(t,e,n){return n.some(r=>kd(t,e,r)&&fn(r)!==oe)}function GV(t,e,n){return n.some(r=>kd(t,e,r))}function kd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function WV(t,e,n){return e.length===0&&!t.children[n]}var cy=class{};function KV(t,e,n,r,i,o,s="emptyOnly"){return new uy(t,e,n,r,i,s,o).recognize()}var QV=31,uy=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new sy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=wb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ue(({children:n,rootSnapshot:r})=>{let i=new Gt(r,n),o=new Md("",i),s=rV(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new as([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,oe,n).pipe(ue(r=>({children:r,rootSnapshot:n})),jr(r=>{if(r instanceof sc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof oc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ue(s=>s instanceof Gt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Se(o).pipe(Si(s=>{let a=r.children[s],u=dV(n,s);return this.processSegmentGroup(e,u,a,s,i)}),ap((s,a)=>(s.push(...a),s)),Ur(null),sp(),He(s=>{if(s===null)return is(r);let a=Qb(s);return YV(a),K(a)}))}processSegment(e,n,r,i,o,s,a){return Se(n).pipe(Si(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(jr(l=>{if(l instanceof oc)return K(null);throw l}))),In(u=>!!u),jr(u=>{if(Gb(u))return WV(r,i,o)?K(new cy):is(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return fn(r)!==s&&(s===oe||!kd(i,o,r))?is(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):is(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=Kb(n,i,o);if(!u)return is(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>QV&&(this.allowRedirects=!1));let v=new as(o,l,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Eb(i),fn(i),i.component??i._loadedComponent??null,i,Db(i)),R=Rd(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(R.params),v.data=Object.freeze(R.data);let P=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,P).pipe(He(x=>this.processSegment(e,r,n,x.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=BV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Yt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Yt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:v}=u,R=new as(g,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Eb(r),fn(r),r.component??r._loadedComponent??null,r,Db(r)),P=Rd(R,s,this.paramsInheritanceStrategy);R.params=Object.freeze(P.params),R.data=Object.freeze(P.data);let{segmentGroup:x,slicedSegments:j}=wb(n,g,v,l);if(j.length===0&&x.hasChildren())return this.processChildren(h,l,x,R).pipe(ue(W=>new Gt(R,W)));if(l.length===0&&j.length===0)return K(new Gt(R,[]));let G=fn(r)===o;return this.processSegment(h,l,x,j,G?oe:o,!0,R).pipe(ue(W=>new Gt(R,W instanceof Gt?[W]:[])))}))):is(n)))}getChildConfig(e,n,r){return n.children?K({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?K({routes:n._loadedRoutes,injector:n._loadedInjector}):VV(e,n,r,this.urlSerializer).pipe(He(i=>i?this.configLoader.loadChildren(e,n).pipe(Qe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):UV(n))):K({routes:[],injector:e})}};function YV(t){t.sort((e,n)=>e.value.outlet===oe?-1:n.value.outlet===oe?1:e.value.outlet.localeCompare(n.value.outlet))}function ZV(t){let e=t.value.routeConfig;return e&&e.path===""}function Qb(t){let e=[],n=new Set;for(let r of t){if(!ZV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Qb(r.children);e.push(new Gt(r.value,i))}return e.filter(r=>!n.has(r))}function Eb(t){return t.data||{}}function Db(t){return t.resolve||{}}function JV(t,e,n,r,i,o){return He(s=>KV(t,e,n,r,s.extractedUrl,i,o).pipe(ue(({state:a,tree:u})=>le(V({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function XV(t,e){return He(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return K(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of Yb(u))s.add(l);let a=0;return Se(s).pipe(Si(u=>o.has(u)?eL(u,r,t,e):(u.data=Rd(u,u.parent,t).resolve,K(void 0))),Qe(()=>a++),No(1),He(u=>a===s.size?K(n):Ut))})}function Yb(t){let e=t.children.map(n=>Yb(n)).flat();return[t,...e]}function eL(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!$b(i)&&(o[cc]=i.title),tL(o,t,e,r).pipe(ue(s=>(t._resolvedData=s,t.data=Rd(t,t.parent,n).resolve,null)))}function tL(t,e,n,r){let i=Ug(t);if(i.length===0)return K({});let o={};return Se(i).pipe(He(s=>nL(t[s],e,n,r).pipe(In(),Qe(a=>{if(a instanceof ic)throw Nd(new ls,a);o[s]=a}))),No(1),op(o),jr(s=>Gb(s)?Ut:Ro(s)))}function nL(t,e,n,r){let i=lc(e)??r,o=ms(t,i),s=o.resolve?o.resolve(e,n):Mn(i,()=>o(e,n));return ni(s)}function Lg(t){return Yt(e=>{let n=t(e);return n?Se(n).pipe(ue(()=>e)):K(e)})}var Zb=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===oe);return r}getResolvedTitleForRoute(n){return n.data[cc]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>O(rL),providedIn:"root"})}}return t})(),rL=(()=>{class t extends Zb{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(Q(mb))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),fc=new B("",{providedIn:"root",factory:()=>({})}),iL=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=nt({type:t,selectors:[["ng-component"]],standalone:!0,features:[ot],decls:1,vars:0,template:function(r,i){r&1&&Pe(0,"router-outlet")},dependencies:[hy],encapsulation:2})}}return t})();function fy(t){let e=t.children&&t.children.map(fy),n=e?le(V({},t),{children:e}):V({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==oe&&(n.component=iL),n}var ac=new B(""),py=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(ed)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return K(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=ni(n.loadComponent()).pipe(ue(Jb),Qe(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Ta(()=>{this.componentLoaders.delete(n)})),i=new bo(r,()=>new tt).pipe(Co());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=oL(r,this.compiler,n,this.onLoadEndListener).pipe(Ta(()=>{this.childrenLoaders.delete(r)})),s=new bo(o,()=>new tt).pipe(Co());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function oL(t,e,n,r){return ni(t.loadChildren()).pipe(ue(Jb),He(i=>i instanceof Pa||Array.isArray(i)?K(i):Se(e.compileModuleAsync(i))),ue(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(ac,[],{optional:!0,self:!0}).flat()),{routes:s.map(fy),injector:o}}))}function sL(t){return t&&typeof t=="object"&&"default"in t}function Jb(t){return sL(t)?t.default:t}var my=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>O(aL),providedIn:"root"})}}return t})(),aL=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Xb=new B(""),eT=new B("");function cL(t,e,n){let r=t.get(eT),i=t.get(Vt);return t.get(Ce).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),uL(t))),{onViewTransitionCreated:u}=r;return u&&Mn(t,()=>u({transition:a,from:e,to:n})),s})}function uL(t){return new Promise(e=>{ug({read:()=>setTimeout(e)},{injector:t})})}var lL=new B(""),gy=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new tt,this.transitionAbortSubject=new tt,this.configLoader=O(py),this.environmentInjector=O($t),this.urlSerializer=O(uc),this.rootContexts=O(dc),this.location=O(ts),this.inputBindingEnabled=O(Od,{optional:!0})!==null,this.titleStrategy=O(Zb),this.options=O(fc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(my),this.createViewTransition=O(Xb,{optional:!0}),this.navigationErrorHandler=O(lL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>K(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Kg(i)),r=i=>this.events.next(new Qg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(le(V(V({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new lt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ja,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qt(o=>o.id!==0),ue(o=>le(V({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Yt(o=>{let s=!1,a=!1;return K(o).pipe(Yt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Wt.SupersededByNewNavigation),Ut;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?le(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new ti(u.id,this.urlSerializer.serialize(u.rawUrl),p,Cd.IgnoredSameUrlNavigation)),u.resolve(!1),Ut}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return K(u).pipe(Yt(p=>{let g=this.transitions?.getValue();return this.events.next(new ds(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?Ut:Promise.resolve(p)}),JV(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Qe(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=le(V({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let g=new bd(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:g,source:v,restoredState:R,extras:P}=u,x=new ds(p,this.urlSerializer.serialize(g),v,R);this.events.next(x);let j=Ub(this.rootComponentType).snapshot;return this.currentTransition=o=le(V({},u),{targetSnapshot:j,urlAfterRedirects:g,extras:le(V({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,K(o)}else{let p="";return this.events.next(new ti(u.id,this.urlSerializer.serialize(u.extractedUrl),p,Cd.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Ut}}),Qe(u=>{let l=new qg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ue(u=>(this.currentTransition=o=le(V({},u),{guards:vV(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),RV(this.environmentInjector,u=>this.events.next(u)),Qe(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Nd(this.urlSerializer,u.guardsResult);let l=new zg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Qt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Wt.GuardRejected),!1)),Lg(u=>{if(u.guards.canActivateChecks.length)return K(u).pipe(Qe(l=>{let h=new Gg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Yt(l=>{let h=!1;return K(l).pipe(XV(this.paramsInheritanceStrategy,this.environmentInjector),Qe({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",Wt.NoDataFromResolver)}}))}),Qe(l=>{let h=new Wg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),Lg(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Qe(g=>{h.component=g}),ue(()=>{})));for(let g of h.children)p.push(...l(g));return p};return ba(l(u.targetSnapshot.root)).pipe(Ur(null),Qn(1))}),Lg(()=>this.afterPreactivation()),Yt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Se(h).pipe(ue(()=>o)):K(o)}),ue(u=>{let l=fV(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=le(V({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Qe(()=>{this.events.next(new nc)}),yV(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Qn(1),Qe({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new pn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),up(this.transitionAbortSubject.pipe(Qe(u=>{throw u}))),Ta(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Wt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),jr(u=>{if(a=!0,zb(u))this.events.next(new pr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),gV(u)?this.events.next(new hs(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new tc(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let h=Mn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof ic){let{message:p,cancellationCode:g}=Nd(this.urlSerializer,h);this.events.next(new pr(o.id,this.urlSerializer.serialize(o.extractedUrl),p,g)),this.events.next(new hs(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(u);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Ut}))}))}cancelNavigationTransition(n,r,i){let o=new pr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function dL(t){return t!==Ja}var hL=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>O(fL),providedIn:"root"})}}return t})(),ly=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},fL=(()=>{class t extends ly{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ir(t)))(i||t)}})()}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),tT=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>O(pL),providedIn:"root"})}}return t})(),pL=(()=>{class t extends tT{constructor(){super(...arguments),this.location=O(ts),this.urlSerializer=O(uc),this.options=O(fc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(my),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new mr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ub(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof ds)this.stateMemento=this.createStateMemento();else if(n instanceof ti)this.rawUrlTree=r.initialUrl;else if(n instanceof bd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof nc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof pr&&(n.code===Wt.GuardRejected||n.code===Wt.NoDataFromResolver)?this.restoreHistory(r):n instanceof tc?this.restoreHistory(r,!0):n instanceof pn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof mr?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=V(V({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=V(V({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ir(t)))(i||t)}})()}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ya=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ya||{});function nT(t,e){t.events.pipe(Qt(n=>n instanceof pn||n instanceof pr||n instanceof tc||n instanceof ti),ue(n=>n instanceof pn||n instanceof ti?Ya.COMPLETE:(n instanceof pr?n.code===Wt.Redirect||n.code===Wt.SupersededByNewNavigation:!1)?Ya.REDIRECTING:Ya.FAILED),Qt(n=>n!==Ya.REDIRECTING),Qn(1)).subscribe(()=>{e()})}function mL(t){throw t}var gL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Dt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=O(Zl),this.stateManager=O(tT),this.options=O(fc,{optional:!0})||{},this.pendingTasks=O(Zo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(gy),this.urlSerializer=O(uc),this.location=O(ts),this.urlHandlingStrategy=O(my),this._events=new tt,this.errorHandler=this.options.errorHandler||mL,this.navigated=!1,this.routeReuseStrategy=O(hL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(ac,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(Od,{optional:!0}),this.eventsSubscription=new Le,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof pr&&r.code!==Wt.Redirect&&r.code!==Wt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof pn)this.navigated=!0;else if(r instanceof hs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||dL(i.source)},s);this.scheduleNavigation(a,Ja,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}_L(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ja,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=V({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(fy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=Fb(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return Vb(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Ki(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ja,null,r)}navigate(n,r={skipLocationChange:!1}){return vL(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=V({},gL):r===!1?i=V({},yL):i=r,Ki(n))return gb(this.currentUrlTree,n,i);let o=this.parseUrl(n);return gb(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return nT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function vL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new H(4008,!1)}function _L(t){return!(t instanceof nc)&&!(t instanceof hs)}var ps=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new tt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof pn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ki(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:PD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Ki(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(q(Dt),q(On),$m("tabindex"),q(xn),q(Ot),q(fr))}}static{this.\u0275dir=ke({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&rt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ua("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ei],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ei],replaceUrl:[2,"replaceUrl","replaceUrl",ei],routerLink:"routerLink"},standalone:!0,features:[ag,rr]})}}return t})(),rT=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new je,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof pn&&this.update()})}ngAfterContentInit(){K(this.links.changes,K(null)).pipe(Lr()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Se(n).pipe(Lr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=IL(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static{this.\u0275fac=function(r){return new(r||t)(q(Dt),q(Ot),q(xn),q(Xr),q(ps,8))}}static{this.\u0275dir=ke({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&bC(o,ps,5),r&2){let s;TC(s=SC())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[rr]})}}return t})();function IL(t){return!!t.paths}var Pd=class{};var wL=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Qt(n=>n instanceof pn),Si(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ql(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Se(i).pipe(Lr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=K(null);let o=i.pipe(He(s=>s===null?K(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Se([o,s]).pipe(Lr())}else return o})}static{this.\u0275fac=function(r){return new(r||t)(Q(Dt),Q(ed),Q($t),Q(Pd),Q(py))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),iT=new B(""),EL=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ds?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof pn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof ti&&n.code===Cd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Td&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Td(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){GD()}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();function oT(t,...e){return Rn([{provide:ac,multi:!0,useValue:t},[],{provide:On,useFactory:sT,deps:[Dt]},{provide:Xl,multi:!0,useFactory:aT},e.map(n=>n.\u0275providers)])}function sT(t){return t.routerState.root}function pc(t,e){return{\u0275kind:t,\u0275providers:e}}function aT(){let t=O(dt);return e=>{let n=t.get(qi);if(e!==n.components[0])return;let r=t.get(Dt),i=t.get(cT);t.get(yy)===1&&r.initialNavigation(),t.get(uT,null,ae.Optional)?.setUpPreloading(),t.get(iT,null,ae.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var cT=new B("",{factory:()=>new tt}),yy=new B("",{providedIn:"root",factory:()=>1});function DL(){return pc(2,[{provide:yy,useValue:0},{provide:Jl,multi:!0,deps:[dt],useFactory:e=>{let n=e.get(YC,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Dt),o=e.get(cT);nT(i,()=>{r(!0)}),e.get(gy).afterPreactivation=()=>(r(!0),o.closed?K(void 0):o),i.initialNavigation()}))}}])}function CL(){return pc(3,[{provide:Jl,multi:!0,useFactory:()=>{let e=O(Dt);return()=>{e.setUpLocationChangeListener()}}},{provide:yy,useValue:2}])}var uT=new B("");function bL(t){return pc(0,[{provide:uT,useExisting:wL},{provide:Pd,useExisting:t}])}function TL(){return pc(8,[Ib,{provide:Od,useExisting:Ib}])}function SL(t){let e=[{provide:Xb,useValue:cL},{provide:eT,useValue:V({skipNextTransition:!!t?.skipInitialTransition},t)}];return pc(9,e)}var Cb=new B("ROUTER_FORROOT_GUARD"),AL=[ts,{provide:uc,useClass:ls},Dt,dc,{provide:On,useFactory:sT,deps:[Dt]},py,[]],lT=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[AL,[],{provide:ac,multi:!0,useValue:n},{provide:Cb,useFactory:xL,deps:[[Dt,new _t,new Dm]]},{provide:fc,useValue:r||{}},r?.useHash?ML():NL(),RL(),r?.preloadingStrategy?bL(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?PL(r):[],r?.bindToComponentInputs?TL().\u0275providers:[],r?.enableViewTransitions?SL().\u0275providers:[],OL()]}}static forChild(n){return{ngModule:t,providers:[{provide:ac,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(Q(Cb,8))}}static{this.\u0275mod=Qr({type:t})}static{this.\u0275inj=Kr({})}}return t})();function RL(){return{provide:iT,useFactory:()=>{let t=O(sb),e=O(Ce),n=O(fc),r=O(gy),i=O(uc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new EL(i,r,t,e,n)}}}function ML(){return{provide:fr,useClass:JC}}function NL(){return{provide:fr,useClass:Cg}}function xL(t){return"guarded"}function PL(t){return[t.initialNavigation==="disabled"?CL().\u0275providers:[],t.initialNavigation==="enabledBlocking"?DL().\u0275providers:[]]}var bb=new B("");function OL(){return[{provide:bb,useFactory:aT},{provide:Xl,multi:!0,useExisting:bb}]}var hT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},kL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},fT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,v=l&63;u||(v=64,s||(g=64)),r.push(n[h],n[p],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new _y;let g=o<<2|a>>4;if(r.push(g),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let R=l<<6&192|p;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},_y=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},FL=function(t){let e=hT(t);return fT.encodeByteArray(e,!0)},mc=function(t){return FL(t).replace(/\./g,"")},wy=function(t){try{return fT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function VL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var LL=()=>VL().__FIREBASE_DEFAULTS__,jL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&wy(t[1]);return e&&JSON.parse(e)},Ld=()=>{try{return LL()||jL()||UL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ey=t=>{var e,n;return(n=(e=Ld())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},pT=t=>{let e=Ey(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Dy=()=>{var t;return(t=Ld())===null||t===void 0?void 0:t.config},Cy=t=>{var e;return(e=Ld())===null||e===void 0?void 0:e[`_${t}`]};var Vd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function mT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mc(JSON.stringify(n)),mc(JSON.stringify(s)),""].join(".")}function at(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(at())}function BL(){var t;let e=(t=Ld())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _T(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IT(){let t=at();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wT(){return!BL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function by(){try{return typeof indexedDB=="object"}catch{return!1}}function ET(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var $L="FirebaseError",Kt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$L,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gr.prototype.create)}},gr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?HL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Kt(i,a,r)}};function HL(t,e){return t.replace(qL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var qL=/\{\$([^}]+)}/g;function DT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(dT(o)&&dT(s)){if(!Qi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function dT(t){return t!==null&&typeof t=="object"}function gc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ys(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function CT(t,e){let n=new Iy(t,e);return n.subscribe.bind(n)}var Iy=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=vy),i.error===void 0&&(i.error=vy),i.complete===void 0&&(i.complete=vy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function zL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vy(){}var G5=4*60*60*1e3;function mn(t){return t&&t._delegate?t._delegate:t}var on=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Yi="[DEFAULT]";var Ty=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Vd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WL(e))try{this.getOrInitializeService({instanceIdentifier:Yi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Yi){return this.instances.has(e)}getOptions(e=Yi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yi){return this.component?this.component.multipleInstances?e:Yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function GL(t){return t===Yi?void 0:t}function WL(t){return t.instantiationMode==="EAGER"}var jd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Ty(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var KL=[],he=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(he||{}),QL={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},YL=he.INFO,ZL={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},JL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=ZL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ri=class{constructor(e){this.name=e,this._logLevel=YL,this._logHandler=JL,this._userLogHandler=null,KL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}};var XL=(t,e)=>e.some(n=>t instanceof n),bT,TT;function e2(){return bT||(bT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t2(){return TT||(TT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var ST=new WeakMap,Ay=new WeakMap,AT=new WeakMap,Sy=new WeakMap,My=new WeakMap;function n2(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(kn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&ST.set(n,t)}).catch(()=>{}),My.set(e,t),e}function r2(t){if(Ay.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Ay.set(t,e)}var Ry={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ay.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RT(t){Ry=t(Ry)}function i2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ud(this),e,...n);return AT.set(r,e.sort?e.sort():[e]),kn(r)}:t2().includes(t)?function(...e){return t.apply(Ud(this),e),kn(ST.get(this))}:function(...e){return kn(t.apply(Ud(this),e))}}function o2(t){return typeof t=="function"?i2(t):(t instanceof IDBTransaction&&r2(t),XL(t,e2())?new Proxy(t,Ry):t)}function kn(t){if(t instanceof IDBRequest)return n2(t);if(Sy.has(t))return Sy.get(t);let e=o2(t);return e!==t&&(Sy.set(t,e),My.set(e,t)),e}var Ud=t=>My.get(t);function NT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=kn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(kn(s.result),u.oldVersion,u.newVersion,kn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var s2=["get","getKey","getAll","getAllKeys","count"],a2=["put","add","delete","clear"],Ny=new Map;function MT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ny.get(e))return Ny.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=a2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||s2.includes(n)))return;let o=function(s,...a){return w(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Ny.set(e,o),o}RT(t=>le(V({},t),{get:(e,n,r)=>MT(e,n)||t.get(e,n,r),has:(e,n)=>!!MT(e,n)||t.has(e,n)}));var Py=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(c2(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function c2(t){let e=t.getComponent();return e?.type==="VERSION"}var Oy="@firebase/app",xT="0.10.13";var yr=new ri("@firebase/app"),u2="@firebase/app-compat",l2="@firebase/analytics-compat",d2="@firebase/analytics",h2="@firebase/app-check-compat",f2="@firebase/app-check",p2="@firebase/auth",m2="@firebase/auth-compat",g2="@firebase/database",y2="@firebase/data-connect",v2="@firebase/database-compat",_2="@firebase/functions",I2="@firebase/functions-compat",w2="@firebase/installations",E2="@firebase/installations-compat",D2="@firebase/messaging",C2="@firebase/messaging-compat",b2="@firebase/performance",T2="@firebase/performance-compat",S2="@firebase/remote-config",A2="@firebase/remote-config-compat",R2="@firebase/storage",M2="@firebase/storage-compat",N2="@firebase/firestore",x2="@firebase/vertexai-preview",P2="@firebase/firestore-compat",O2="firebase",k2="10.14.1";var ky="[DEFAULT]",F2={[Oy]:"fire-core",[u2]:"fire-core-compat",[d2]:"fire-analytics",[l2]:"fire-analytics-compat",[f2]:"fire-app-check",[h2]:"fire-app-check-compat",[p2]:"fire-auth",[m2]:"fire-auth-compat",[g2]:"fire-rtdb",[y2]:"fire-data-connect",[v2]:"fire-rtdb-compat",[_2]:"fire-fn",[I2]:"fire-fn-compat",[w2]:"fire-iid",[E2]:"fire-iid-compat",[D2]:"fire-fcm",[C2]:"fire-fcm-compat",[b2]:"fire-perf",[T2]:"fire-perf-compat",[S2]:"fire-rc",[A2]:"fire-rc-compat",[R2]:"fire-gcs",[M2]:"fire-gcs-compat",[N2]:"fire-fst",[P2]:"fire-fst-compat",[x2]:"fire-vertex","fire-js":"fire-js",[O2]:"fire-js-all"};var yc=new Map,V2=new Map,Fy=new Map;function PT(t,e){try{t.container.addComponent(e)}catch(n){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oi(t){let e=t.name;if(Fy.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;Fy.set(e,t);for(let n of yc.values())PT(n,t);for(let n of V2.values())PT(n,t);return!0}function _c(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gn(t){return t.settings!==void 0}var L2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ii=new gr("app","Firebase",L2);var Vy=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new on("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}};var si=k2;function Uy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ky,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ii.create("bad-app-name",{appName:String(i)});if(n||(n=Dy()),!n)throw ii.create("no-options");let o=yc.get(i);if(o){if(Qi(n,o.options)&&Qi(r,o.config))return o;throw ii.create("duplicate-app",{appName:i})}let s=new jd(i);for(let u of Fy.values())s.addComponent(u);let a=new Vy(n,r,s);return yc.set(i,a),a}function vs(t=ky){let e=yc.get(t);if(!e&&t===ky&&Dy())return Uy();if(!e)throw ii.create("no-app",{appName:t});return e}function Bd(){return Array.from(yc.values())}function Xe(t,e,n){var r;let i=(r=F2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(a.join(" "));return}oi(new on(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var j2="firebase-heartbeat-database",U2=1,vc="firebase-heartbeat-store",xy=null;function VT(){return xy||(xy=NT(j2,U2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ii.create("idb-open",{originalErrorMessage:t.message})})),xy}function B2(t){return w(this,null,function*(){try{let n=(yield VT()).transaction(vc),r=yield n.objectStore(vc).get(LT(t));return yield n.done,r}catch(e){if(e instanceof Kt)yr.warn(e.message);else{let n=ii.create("idb-get",{originalErrorMessage:e?.message});yr.warn(n.message)}}})}function OT(t,e){return w(this,null,function*(){try{let r=(yield VT()).transaction(vc,"readwrite");yield r.objectStore(vc).put(e,LT(t)),yield r.done}catch(n){if(n instanceof Kt)yr.warn(n.message);else{let r=ii.create("idb-set",{originalErrorMessage:n?.message});yr.warn(r.message)}}})}function LT(t){return`${t.name}!${t.options.appId}`}var $2=1024,H2=30*24*60*60*1e3,Ly=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new jy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=kT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=H2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){yr.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=kT(),{heartbeatsToSend:r,unsentEntries:i}=q2(this._heartbeatsCache.heartbeats),o=mc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return yr.warn(n),""}})}};function kT(){return new Date().toISOString().substring(0,10)}function q2(t,e=$2){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),FT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),FT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var jy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return by()?ET().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield B2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return OT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return OT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function FT(t){return mc(JSON.stringify({version:2,heartbeats:t})).length}function z2(t){oi(new on("platform-logger",e=>new Py(e),"PRIVATE")),oi(new on("heartbeat",e=>new Ly(e),"PRIVATE")),Xe(Oy,xT,t),Xe(Oy,xT,"esm2017"),Xe("fire-js","")}z2("");var G2="firebase",W2="10.14.1";Xe(G2,W2,"app");var Ji=new er("ANGULARFIRE2_VERSION");function Hd(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ic=(t,e)=>{let n=e?[e]:Bd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Is=class{constructor(){return Ic(K2)}},K2="app-check";function _s(){}var $d=class{zone;delegate;constructor(e,n=tp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},By=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_s,{},_s,_s)),n.pipe(Qe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ws=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new $d(Zone.current)),this.insideAngular=n.run(()=>new $d(Zone.current,ep)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Q(Ce))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Q2(t){return qd().ngZone.runOutsideAngular(()=>t())}function Zi(t){return qd().ngZone.run(()=>t())}function Y2(t){return Z2(qd())(t)}function Z2(t){return function(n){return n=n.lift(new By(t.ngZone)),n.pipe(Vr(t.outsideAngular),Fr(t.insideAngular))}}var J2=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Zi(()=>t.apply(void 0,r))},yn=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Zi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_s,{},_s,_s))),r[o]=J2(r[o],n));let i=Q2(()=>t.apply(this,r));if(!e)if(i instanceof fe){let o=qd();return i.pipe(Vr(o.outsideAngular),Fr(o.insideAngular))}else return Zi(()=>i);return i instanceof fe?i.pipe(Y2):i instanceof Promise?Zi(()=>new Promise((o,s)=>i.then(a=>Zi(()=>o(a)),a=>Zi(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Zi(()=>i)};var vr=class{constructor(e){return e}},Xi=class{constructor(){return Bd()}};function X2(t){return t&&t.length===1?t[0]:new vr(vs())}var $y=new B("angularfire2._apps"),ej={provide:vr,useFactory:X2,deps:[[new _t,$y]]},tj={provide:Xi,deps:[[new _t,$y]]};function nj(t){return(e,n)=>{let r=n.get(Nn);Xe("angularfire",Ji.full,"core"),Xe("angularfire",Ji.full,"app"),Xe("angular",NC.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new vr(i)}}function jT(t,...e){return Rn([ej,tj,{provide:$y,useFactory:nj(t),multi:!0,deps:[Ce,dt,ws,...e]}])}var UT=yn(Uy,!0);function rS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var iS=rS,oS=new gr("auth","Firebase",rS());var Yd=new ri("@firebase/auth");function rj(t,...e){Yd.logLevel<=he.WARN&&Yd.warn(`Auth (${si}): ${t}`,...e)}function Gd(t,...e){Yd.logLevel<=he.ERROR&&Yd.error(`Auth (${si}): ${t}`,...e)}function Vn(t,...e){throw dv(t,...e)}function eo(t,...e){return dv(t,...e)}function sS(t,e,n){let r=Object.assign(Object.assign({},iS()),{[e]:n});return new gr("auth","Firebase",r).create(e,{appName:t.name})}function wr(t){return sS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dv(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oS.create(t,...e)}function Y(t,e,...n){if(!t)throw dv(e,...n)}function _r(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Gd(e),new Error(e)}function ci(t,e){t||_r(e)}function Gy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ij(){return BT()==="http:"||BT()==="https:"}function BT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function oj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ij()||vT()||"connection"in navigator)?navigator.onLine:!0}function sj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var to=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ci(n>e,"Short delay should be less than long delay!"),this.isMobile=gT()||_T()}get(){return oj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function hv(t,e){ci(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Zd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var aj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var cj=new to(3e4,6e4);function ui(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Er(o,s,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return aS(t,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=gc(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);let v=Object.assign({method:e,headers:g},l);return yT()||(v.referrerPolicy="no-referrer"),Zd.fetch()(cS(t,t.config.apiHost,n,p),v)}))})}function aS(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},aj),e);try{let i=new Wy(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw zd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw zd(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw zd(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw zd(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw sS(t,h,l);Vn(t,h)}}catch(i){if(i instanceof Kt)throw i;Vn(t,"network-request-failed",{message:String(i)})}})}function Sc(o,s,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield Er(t,e,n,r,i);return"mfaPendingCredential"in l&&Vn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function cS(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?hv(t.config,i):`${t.config.apiScheme}://${i}`}function uj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Wy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(eo(this.auth,"network-request-failed")),cj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function zd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=eo(t,e,r);return i.customData._tokenResponse=n,i}function $T(t){return t!==void 0&&t.enterprise!==void 0}var Ky=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return uj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function lj(t,e){return w(this,null,function*(){return Er(t,"GET","/v2/recaptchaConfig",ui(t,e))})}function dj(t,e){return w(this,null,function*(){return Er(t,"POST","/v1/accounts:delete",e)})}function uS(t,e){return w(this,null,function*(){return Er(t,"POST","/v1/accounts:lookup",e)})}function wc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function fv(t,e=!1){return w(this,null,function*(){let n=mn(t),r=yield n.getIdToken(e),i=pv(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:wc(Hy(i.auth_time)),issuedAtTime:wc(Hy(i.iat)),expirationTime:wc(Hy(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Hy(t){return Number(t)*1e3}function pv(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gd("JWT malformed, contained fewer than 3 sections"),null;try{let i=wy(n);return i?JSON.parse(i):(Gd("Failed to decode base64 JWT payload"),null)}catch(i){return Gd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function HT(t){let e=pv(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Es(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Kt&&hj(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function hj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Qy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Dc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wc(this.lastLoginAt),this.creationTime=wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Jd(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Es(t,uS(n,{idToken:r}));Y(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?lS(o.providerUserInfo):[],a=fj(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Dc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function mv(t){return w(this,null,function*(){let e=mn(t);yield Jd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function fj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function lS(t){return t.map(e=>{var{providerId:n}=e,r=np(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function pj(t,e){return w(this,null,function*(){let n=yield aS(t,{},()=>w(this,null,function*(){let r=gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=cS(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Zd.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function mj(t,e){return w(this,null,function*(){return Er(t,"POST","/v2/accounts:revokeToken",ui(t,e))})}var Ec=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");let n=HT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield pj(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Y(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Y(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return _r("not implemented")}};function ai(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ds=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=np(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Dc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield Es(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return fv(this,e)}reload(){return mv(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Jd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(gn(this.auth.app))return Promise.reject(wr(this.auth));let e=yield this.getIdToken();return yield Es(this,dj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,v=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,R=(s=n.photoURL)!==null&&s!==void 0?s:void 0,P=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,j=(l=n.createdAt)!==null&&l!==void 0?l:void 0,G=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:W,emailVerified:re,isAnonymous:Ne,providerData:ee,stsTokenManager:D}=n;Y(W&&D,e,"internal-error");let y=Ec.fromJSON(this.name,D);Y(typeof W=="string",e,"internal-error"),ai(p,e.name),ai(g,e.name),Y(typeof re=="boolean",e,"internal-error"),Y(typeof Ne=="boolean",e,"internal-error"),ai(v,e.name),ai(R,e.name),ai(P,e.name),ai(x,e.name),ai(j,e.name),ai(G,e.name);let _=new t({uid:W,auth:e,email:g,emailVerified:re,displayName:p,isAnonymous:Ne,photoURL:R,phoneNumber:v,tenantId:P,stsTokenManager:y,createdAt:j,lastLoginAt:G});return ee&&Array.isArray(ee)&&(_.providerData=ee.map(E=>Object.assign({},E))),x&&(_._redirectEventId=x),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new Ec;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Jd(o),o})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];Y(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?lS(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ec;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Dc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var qT=new Map;function Ir(t){ci(t instanceof Function,"Expected a class definition");let e=qT.get(t);return e?(ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qT.set(t,e),e)}var gj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Yy=gj;function Wd(t,e,n){return`firebase:${t}:${e}:${n}`}var Xd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Wd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Wd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ds._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Ir(Yy),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Ir(Yy),s=Wd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=Ds._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function zT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gS(e))return"Blackberry";if(yS(e))return"Webos";if(hS(e))return"Safari";if((e.includes("chrome/")||fS(e))&&!e.includes("edge/"))return"Chrome";if(mS(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function dS(t=at()){return/firefox\//i.test(t)}function hS(t=at()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fS(t=at()){return/crios\//i.test(t)}function pS(t=at()){return/iemobile/i.test(t)}function mS(t=at()){return/android/i.test(t)}function gS(t=at()){return/blackberry/i.test(t)}function yS(t=at()){return/webos/i.test(t)}function gv(t=at()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yj(t=at()){var e;return gv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vj(){return IT()&&document.documentMode===10}function vS(t=at()){return gv(t)||mS(t)||yS(t)||gS(t)||/windows phone/i.test(t)||pS(t)}function _S(t,e=[]){let n;switch(t){case"Browser":n=zT(at());break;case"Worker":n=`${zT(at())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${si}/${r}`}var Zy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function _j(n){return w(this,arguments,function*(t,e={}){return Er(t,"GET","/v2/passwordPolicy",ui(t,e))})}var Ij=6,Jy=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Ij,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Xy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eh(this),this.idTokenSubscription=new eh(this),this.beforeStateQueue=new Zy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ir(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Xd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield uS(this,{idToken:e}),r=yield Ds._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(gn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Jd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=sj()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(gn(this.app))return Promise.reject(wr(this));let n=e?mn(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return gn(this.app)?Promise.reject(wr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return gn(this.app)?Promise.reject(wr(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Ir(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield _j(this),n=new Jy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield mj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ir(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=yield Xd.create(this,[Ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_S(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&rj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ro(t){return mn(t)}var eh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=CT(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ah={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wj(t){ah=t}function IS(t){return ah.loadJS(t)}function Ej(){return ah.recaptchaEnterpriseScript}function Dj(){return ah.gapiScript}function wS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Cj="recaptcha-enterprise",bj="NO_RECAPTCHA",ev=class{constructor(e){this.type=Cj,this.auth=ro(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(o){return w(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>w(this,null,function*(){lj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Ky(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;$T(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(bj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&$T(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Ej();u.length!==0&&(u+=a),IS(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function GT(t,e,n,r=!1){return w(this,null,function*(){let i=new ev(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function tv(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield GT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>w(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield GT(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function yv(t,e){let n=_c(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Qi(o,e??{}))return i;Vn(i,"already-initialized")}return n.initialize({options:e})}function Tj(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ir);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function vv(t,e,n){let r=ro(t);Y(r._canInitEmulator,r,"emulator-config-failed"),Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=ES(e),{host:s,port:a}=Sj(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Aj()}function ES(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Sj(t){let e=ES(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:WT(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:WT(s)}}}function WT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Aj(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Cc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _r("not implemented")}_getIdTokenResponse(e){return _r("not implemented")}_linkToIdToken(e,n){return _r("not implemented")}_getReauthenticationResolver(e){return _r("not implemented")}};function Rj(t,e){return w(this,null,function*(){return Er(t,"POST","/v1/accounts:signUp",e)})}function Mj(t,e){return w(this,null,function*(){return Sc(t,"POST","/v1/accounts:signInWithPassword",ui(t,e))})}function Nj(t,e){return w(this,null,function*(){return Sc(t,"POST","/v1/accounts:signInWithEmailLink",ui(t,e))})}function xj(t,e){return w(this,null,function*(){return Sc(t,"POST","/v1/accounts:signInWithEmailLink",ui(t,e))})}var bc=class t extends Cc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tv(e,n,"signInWithPassword",Mj);case"emailLink":return Nj(e,{email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tv(e,r,"signUpPassword",Rj);case"emailLink":return xj(e,{idToken:n,email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function qy(t,e){return w(this,null,function*(){return Sc(t,"POST","/v1/accounts:signInWithIdp",ui(t,e))})}function Pj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Oj(t){let e=gs(ys(t)).link,n=e?gs(ys(e)).deep_link_id:null,r=gs(ys(t)).deep_link_id;return(r?gs(ys(r)).link:null)||r||n||e||t}var th=class t{constructor(e){var n,r,i,o,s,a;let u=gs(ys(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=Pj((i=u.mode)!==null&&i!==void 0?i:null);Y(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Oj(e);try{return new t(n)}catch{return null}}};var DS=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return bc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=th.parseLink(r);return Y(i,"argument-error"),bc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),nh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var nv=class extends nh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function kj(t,e){return w(this,null,function*(){return Sc(t,"POST","/v1/accounts:signUp",ui(t,e))})}var Cs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let o=yield Ds._fromIdTokenResponse(e,r,i),s=KT(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=KT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function KT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var rv=class t extends Kt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function CS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?rv._fromErrorAndOperation(t,o,e,r):o})}function Fj(t,e,n=!1){return w(this,null,function*(){let r=yield Es(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Cs._forOperation(t,"link",r)})}function Vj(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(gn(r.app))return Promise.reject(wr(r));let i="reauthenticate";try{let o=yield Es(t,CS(r,i,e,t),n);Y(o.idToken,r,"internal-error");let s=pv(o.idToken);Y(s,r,"internal-error");let{sub:a}=s;return Y(t.uid===a,r,"user-mismatch"),Cs._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Vn(r,"user-mismatch"),o}})}function bS(t,e,n=!1){return w(this,null,function*(){if(gn(t.app))return Promise.reject(wr(t));let r="signIn",i=yield CS(t,r,e),o=yield Cs._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function _v(t,e){return w(this,null,function*(){return bS(ro(t),e)})}function TS(t){return w(this,null,function*(){let e=ro(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Iv(t,e,n){return w(this,null,function*(){if(gn(t.app))return Promise.reject(wr(t));let r=ro(t),s=yield tv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kj).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&TS(t),u}),a=yield Cs._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function wv(t,e,n){return gn(t.app)?Promise.reject(wr(t)):_v(mn(t),DS.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&TS(t),r}))}function Lj(t,e){return w(this,null,function*(){return Er(t,"POST","/v1/accounts:update",e)})}function Ev(r,i){return w(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let o=mn(t),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=yield Es(o,Lj(o.auth,a));o.displayName=u.displayName||null,o.photoURL=u.photoUrl||null;let l=o.providerData.find(({providerId:h})=>h==="password");l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),yield o._updateTokensIfNecessary(u)})}function Dv(t,e,n,r){return mn(t).onIdTokenChanged(e,n,r)}function Cv(t,e,n){return mn(t).beforeAuthStateChanged(e,n)}var rh="__sak";var ih=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var jj=1e3,Uj=10,Bj=(()=>{class t extends ih{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vS(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);vj()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,Uj):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},jj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield Or(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield Or(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield Or(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),SS=Bj;var $j=(()=>{class t extends ih{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),bv=$j;function Hj(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var qj=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,s)})),l=yield Hj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function AS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var iv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=AS("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Fn(){return window}function zj(t){Fn().location.href=t}function RS(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}function Gj(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Wj(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Kj(){return RS()?self:null}var MS="firebaseLocalStorageDb",Qj=1,oh="firebaseLocalStorage",NS="fbase_key",no=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function ch(t,e){return t.transaction([oh],e?"readwrite":"readonly").objectStore(oh)}function Yj(){let t=indexedDB.deleteDatabase(MS);return new no(t).toPromise()}function ov(){let t=indexedDB.open(MS,Qj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(oh,{keyPath:NS})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(oh)?e(r):(r.close(),yield Yj(),e(yield ov()))}))})}function QT(t,e,n){return w(this,null,function*(){let r=ch(t,!0).put({[NS]:e,value:n});return new no(r).toPromise()})}function Zj(t,e){return w(this,null,function*(){let n=ch(t,!1).get(e),r=yield new no(n).toPromise();return r===void 0?null:r.value})}function YT(t,e){let n=ch(t,!0).delete(e);return new no(n).toPromise()}var Jj=800,Xj=3,eU=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield ov(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>Xj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return RS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=qj._getInstance(Kj()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Gj(),!this.activeServiceWorker)return;this.sender=new iv(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Wj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield ov();return yield QT(n,rh,"1"),yield YT(n,rh),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>QT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>Zj(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>YT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(o=>{let s=ch(o,!1).getAll();return new no(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),Jj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),xS=eU;var jW=wS("rcb"),UW=new to(3e4,6e4);function tU(t,e){return e?Ir(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Tc=class extends Cc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qy(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qy(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qy(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function nU(t){return bS(t.auth,new Tc(t),t.bypassAuthState)}function rU(t){let{auth:e,user:n}=t;return Y(n,e,"internal-error"),Vj(n,new Tc(t),t.bypassAuthState)}function iU(t){return w(this,null,function*(){let{auth:e,user:n}=t;return Y(n,e,"internal-error"),Fj(n,new Tc(t),t.bypassAuthState)})}var sv=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nU;case"linkViaPopup":case"linkViaRedirect":return iU;case"reauthViaPopup":case"reauthViaRedirect":return rU;default:Vn(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var BW=new to(2e3,1e4);var oU="pendingRedirect",Kd=new Map,av=class t extends sv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=Kd.get(this.auth._key());if(!e){try{let r=(yield sU(this.resolver,this.auth))?yield Or(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kd.set(this.auth._key(),e)}return this.bypassAuthState||Kd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return Or(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Or(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function sU(t,e){return w(this,null,function*(){let n=uU(e),r=cU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function aU(t,e){Kd.set(t._key(),e)}function cU(t){return Ir(t._redirectPersistence)}function uU(t){return Wd(oU,t.config.apiKey,t.name)}function lU(t,e,n=!1){return w(this,null,function*(){if(gn(t.app))return Promise.reject(wr(t));let r=ro(t),i=tU(r,e),s=yield new av(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var dU=10*60*1e3,cv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!PS(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(eo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dU&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZT(e))}saveEventToCache(e){this.cachedEventUids.add(ZT(e)),this.lastProcessedEventTime=Date.now()}};function ZT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function hU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PS(t);default:return!1}}function fU(n){return w(this,arguments,function*(t,e={}){return Er(t,"GET","/v1/projects",e)})}var pU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mU=/^https?/;function gU(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield fU(t);for(let n of e)try{if(yU(n))return}catch{}Vn(t,"unauthorized-domain")})}function yU(t){let e=Gy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!mU.test(n))return!1;if(pU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var vU=new to(3e4,6e4);function JT(){let t=Fn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _U(t){return new Promise((e,n)=>{var r,i,o;function s(){JT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JT(),n(eo(t,"network-request-failed"))},timeout:vU.get()})}if(!((i=(r=Fn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Fn().gapi)===null||o===void 0)&&o.load)s();else{let a=wS("iframefcb");return Fn()[a]=()=>{gapi.load?s():n(eo(t,"network-request-failed"))},IS(`${Dj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Qd=null,e})}var Qd=null;function IU(t){return Qd=Qd||_U(t),Qd}var wU=new to(5e3,15e3),EU="__/auth/iframe",DU="emulator/auth/iframe",CU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TU(t){let e=t.config;Y(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?hv(e,DU):`https://${t.config.authDomain}/${EU}`,r={apiKey:e.apiKey,appName:t.name,v:si},i=bU.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${gc(r).slice(1)}`}function SU(t){return w(this,null,function*(){let e=yield IU(t),n=Fn().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:TU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CU,dontclear:!0},r=>new Promise((i,o)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=eo(t,"network-request-failed"),a=Fn().setTimeout(()=>{o(s)},wU.get());function u(){Fn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var AU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RU=500,MU=600,NU="_blank",xU="http://localhost",sh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function PU(t,e,n,r=RU,i=MU){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},AU),{width:r.toString(),height:i.toString(),top:o,left:s}),l=at().toLowerCase();n&&(a=fS(l)?NU:n),dS(l)&&(e=e||xU,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[v,R])=>`${g}${v}=${R},`,"");if(yj(l)&&a!=="_self")return OU(e||"",a),new sh(null);let p=window.open(e||"",a,h);Y(p,t,"popup-blocked");try{p.focus()}catch{}return new sh(p)}function OU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var kU="__/auth/handler",FU="emulator/auth/handler",VU=encodeURIComponent("fac");function XT(t,e,n,r,i,o){return w(this,null,function*(){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:si,eventId:i};if(e instanceof nh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",DT(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof nv){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${VU}=${encodeURIComponent(u)}`:"";return`${LU(t)}?${gc(a).slice(1)}${l}`})}function LU({config:t}){return t.emulator?hv(t,FU):`https://${t.authDomain}/${kU}`}var zy="webStorageSupport",uv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bv,this._completeRedirectFn=lU,this._overrideRedirectResult=aU}_openPopup(e,n,r,i){return w(this,null,function*(){var o;ci((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield XT(e,n,r,Gy(),i);return PU(e,s,AS())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let o=yield XT(e,n,r,Gy(),i);return zj(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ci(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield SU(e),r=new cv(e);return n.register("authEvent",i=>(Y(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zy,{type:zy},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[zy];s!==void 0&&n(!!s),Vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vS()||hS()||gv()}},OS=uv;var eS="@firebase/auth",tS="1.7.9";var lv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function jU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UU(t){oi(new on("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Y(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_S(t)},l=new Xy(r,i,o,u);return Tj(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),oi(new on("auth-internal",e=>{let n=ro(e.getProvider("auth").getImmediate());return(r=>new lv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xe(eS,tS,jU(t)),Xe(eS,tS,"esm2017")}var BU=5*60,$U=Cy("authIdTokenMaxAge")||BU,nS=null,HU=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$U)return;let i=n?.token;nS!==i&&(nS=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Tv(t=vs()){let e=_c(t,"auth");if(e.isInitialized())return e.getImmediate();let n=yv(t,{popupRedirectResolver:OS,persistence:[xS,SS,bv]}),r=Cy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=HU(o.toString());Cv(n,s,()=>s(n.currentUser)),Dv(n,a=>s(a))}}let i=Ey("auth");return i&&vv(n,`http://${i}`),n}function qU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}wj({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=eo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",qU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UU("Browser");var kS="auth",io=class{constructor(e){return e}},Ac=class{constructor(){return Ic(kS)}};var Sv=new B("angularfire2.auth-instances");function OB(t,e){let n=Hd(kS,t,e);return n&&new io(n)}function kB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new io(r)}}var FB={provide:Ac,deps:[[new _t,Sv]]},VB={provide:io,useFactory:OB,deps:[[new _t,Sv],vr]};function FS(t,...e){return Xe("angularfire",Ji.full,"auth"),Rn([VB,FB,{provide:Sv,useFactory:kB(t),multi:!0,deps:[Ce,dt,ws,Xi,[new _t,Is],...e]}])}var VS=yn(Iv,!0);var LS=yn(Tv,!0);var jS=yn(wv,!0);var US=yn(Ev,!0);var oo={production:!1,firebaseConfig:{apiKey:"AIzaSyAduYKZZsZBfKgUO8Ow9OW_PvGDf7ap2sI",authDomain:"cartao-de-credito-29ebe.firebaseapp.com",projectId:"cartao-de-credito-29ebe",storageBucket:"cartao-de-credito-29ebe.firebasestorage.app",messagingSenderId:"59927673433",appId:"1:59927673433:web:3cca85919eee7173d00f48"}};var YS=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(q(xn),q(Ot))}}static{this.\u0275dir=ke({type:t})}}return t})(),gh=(()=>{class t extends YS{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ir(t)))(i||t)}})()}static{this.\u0275dir=ke({type:t,features:[tn]})}}return t})(),kc=new B("");var LB={provide:kc,useExisting:An(()=>Ln),multi:!0};function jB(){let t=hr()?hr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var UB=new B(""),Ln=(()=>{class t extends YS{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!jB())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(q(xn),q(Ot),q(UB,8))}}static{this.\u0275dir=ke({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&rt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Jr([LB]),tn]})}}return t})();function BB(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var Rv=new B(""),ZS=new B("");function $B(t){return BB(t.value)?{required:!0}:null}function BS(t){return null}function JS(t){return t!=null}function XS(t){return Hi(t)?Se(t):t}function eA(t){let e={};return t.forEach(n=>{e=n!=null?V(V({},e),n):e}),Object.keys(e).length===0?null:e}function tA(t,e){return e.map(n=>n(t))}function HB(t){return!t.validate}function nA(t){return t.map(e=>HB(e)?e:n=>e.validate(n))}function qB(t){if(!t)return null;let e=t.filter(JS);return e.length==0?null:function(n){return eA(tA(n,e))}}function Mv(t){return t!=null?qB(nA(t)):null}function zB(t){if(!t)return null;let e=t.filter(JS);return e.length==0?null:function(n){let r=tA(n,e).map(XS);return ip(r).pipe(ue(eA))}}function Nv(t){return t!=null?zB(nA(t)):null}function $S(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function GB(t){return t._rawValidators}function WB(t){return t._rawAsyncValidators}function Av(t){return t?Array.isArray(t)?t:[t]:[]}function lh(t,e){return Array.isArray(t)?t.includes(e):t===e}function HS(t,e){let n=Av(e);return Av(t).forEach(i=>{lh(n,i)||n.push(i)}),n}function qS(t,e){return Av(e).filter(n=>!lh(t,n))}var dh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Mv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Nv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ss=class extends dh{get formDirective(){return null}get path(){return null}},Oc=class extends dh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},hh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},KB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},$8=le(V({},KB),{"[class.ng-submitted]":"isSubmitted"}),li=(()=>{class t extends hh{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(q(Oc,2))}}static{this.\u0275dir=ke({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Yl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[tn]})}}return t})(),di=(()=>{class t extends hh{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(q(Ss,10))}}static{this.\u0275dir=ke({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Yl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[tn]})}}return t})();var Rc="VALID",uh="INVALID",bs="PENDING",Mc="DISABLED",As=class{},fh=class extends As{constructor(e,n){super(),this.value=e,this.source=n}},xc=class extends As{constructor(e,n){super(),this.pristine=e,this.source=n}},Pc=class extends As{constructor(e,n){super(),this.touched=e,this.source=n}},Ts=class extends As{constructor(e,n){super(),this.status=e,this.source=n}};function rA(t){return(yh(t)?t.validators:t)||null}function QB(t){return Array.isArray(t)?Mv(t):t||null}function iA(t,e){return(yh(e)?e.asyncValidators:t)||null}function YB(t){return Array.isArray(t)?Nv(t):t||null}function yh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function ZB(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new H(1e3,"");if(!r[n])throw new H(1001,"")}function JB(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new H(1002,"")})}var ph=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ha(()=>this.statusReactive()),this.statusReactive=ja(void 0),this._pristine=Ha(()=>this.pristineReactive()),this.pristineReactive=ja(!0),this._touched=Ha(()=>this.touchedReactive()),this.touchedReactive=ja(!1),this._events=new tt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ar(this.statusReactive)}set status(e){ar(()=>this.statusReactive.set(e))}get valid(){return this.status===Rc}get invalid(){return this.status===uh}get pending(){return this.status==bs}get disabled(){return this.status===Mc}get enabled(){return this.status!==Mc}get pristine(){return ar(this.pristineReactive)}set pristine(e){ar(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return ar(this.touchedReactive)}set touched(e){ar(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(HS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(HS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(qS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(qS(e,this._rawAsyncValidators))}hasValidator(e){return lh(this._rawValidators,e)}hasAsyncValidator(e){return lh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(le(V({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Pc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Pc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(le(V({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new xc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new xc(!0,r))}markAsPending(e={}){this.status=bs;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ts(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(le(V({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Mc,this.errors=null,this._forEachChild(i=>{i.disable(le(V({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fh(this.value,r)),this._events.next(new Ts(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(V({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Rc,this._forEachChild(r=>{r.enable(le(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(le(V({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rc||this.status===bs)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fh(this.value,n)),this._events.next(new Ts(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(le(V({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mc:Rc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=bs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=XS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ts(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new je,this.statusChanges=new je}_calculateStatus(){return this._allControlsDisabled()?Mc:this.errors?uh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bs)?bs:this._anyControlsHaveStatus(uh)?uh:Rc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new xc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Pc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=QB(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=YB(this._rawAsyncValidators)}},mh=class extends ph{constructor(e,n,r){super(rA(n),iA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){JB(this,!0,e),Object.keys(e).forEach(r=>{ZB(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var xv=new B("CallSetDisabledState",{providedIn:"root",factory:()=>Pv}),Pv="always";function XB(t,e){return[...e.path,t]}function oA(t,e,n=Pv){sA(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),t$(t,e),r$(t,e),n$(t,e),e$(t,e)}function zS(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function e$(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function sA(t,e){let n=GB(t);e.validator!==null?t.setValidators($S(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=WB(t);e.asyncValidator!==null?t.setAsyncValidators($S(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();zS(e._rawValidators,i),zS(e._rawAsyncValidators,i)}function t$(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&aA(t,e)})}function n$(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&aA(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function aA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function r$(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function i$(t,e){t==null,sA(t,e)}function o$(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function s$(t){return Object.getPrototypeOf(t.constructor)===gh}function a$(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function c$(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Ln?n=o:s$(o)?r=o:i=o}),i||r||n||null}var u$={provide:Ss,useExisting:An(()=>Dr)},Nc=Promise.resolve(),Dr=(()=>{class t extends Ss{get submitted(){return ar(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Ha(()=>this.submittedReactive()),this.submittedReactive=ja(!1),this._directives=new Set,this.ngSubmit=new je,this.form=new mh({},Mv(n),Nv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Nc.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),oA(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Nc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Nc.then(()=>{let r=this._findContainer(n.path),i=new mh({});i$(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Nc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Nc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),a$(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(q(Rv,10),q(ZS,10),q(xv,8))}}static{this.\u0275dir=ke({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&rt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Jr([u$]),tn]})}}return t})();function GS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function WS(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var l$=class extends ph{constructor(e=null,n,r){super(rA(n),iA(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(WS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){GS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){GS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){WS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var d$={provide:Oc,useExisting:An(()=>Cr)},KS=Promise.resolve(),Cr=(()=>{class t extends Oc{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new l$,this._registered=!1,this.name="",this.update=new je,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=c$(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),o$(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){oA(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){KS.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&ei(r);KS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?XB(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(q(Ss,9),q(Rv,10),q(ZS,10),q(kc,10),q(Xr,8),q(xv,8))}}static{this.\u0275dir=ke({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Jr([d$]),tn,rr]})}}return t})(),hi=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=ke({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),h$={provide:kc,useExisting:An(()=>Ov),multi:!0},Ov=(()=>{class t extends gh{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ir(t)))(i||t)}})()}static{this.\u0275dir=ke({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&rt("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Jr([h$]),tn]})}}return t})();var f$={provide:kc,useExisting:An(()=>vh),multi:!0};function cA(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function p$(t){return t.split(":")[0]}var vh=(()=>{class t extends gh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=cA(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=p$(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ir(t)))(i||t)}})()}static{this.\u0275dir=ke({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&rt("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Jr([f$]),tn]})}}return t})(),uA=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(cA(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(q(Ot),q(xn),q(vh,9))}}static{this.\u0275dir=ke({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),m$={provide:kc,useExisting:An(()=>lA),multi:!0};function QS(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function g$(t){return t.split(":")[0]}var lA=(()=>{class t extends gh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=g$(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ir(t)))(i||t)}})()}static{this.\u0275dir=ke({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&rt("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Jr([m$]),tn]})}}return t})(),dA=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(QS(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(QS(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(q(Ot),q(xn),q(lA,9))}}static{this.\u0275dir=ke({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var y$=(()=>{class t{constructor(){this._validator=BS}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):BS,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=ke({type:t,features:[rr]})}}return t})();var v$={provide:Rv,useExisting:An(()=>Fc),multi:!0};var Fc=(()=>{class t extends y${constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ei,this.createValidator=n=>$B}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ir(t)))(i||t)}})()}static{this.\u0275dir=ke({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ua("required",i._enabled?"":null)},inputs:{required:"required"},features:[Jr([v$]),tn]})}}return t})();var _$=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Qr({type:t})}static{this.\u0275inj=Kr({})}}return t})();var fi=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:xv,useValue:n.callSetDisabledState??Pv}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Qr({type:t})}static{this.\u0275inj=Kr({imports:[_$]})}}return t})();var Ih=class t{transform(e){if(!e)return e;let r=e.replace(/\D/g,"").match(/^(\d{2})(\d{5})(\d{4})$/);return r?`(${r[1]}) ${r[2]}-${r[3]}`:e}static \u0275fac=function(n){return new(n||t)};static \u0275pipe=Ko({name:"phoneMask",type:t,pure:!0,standalone:!0})};var hA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fA={};var pi,kv;(function(){var t;function e(D,y){function _(){}_.prototype=y.prototype,D.D=y.prototype,D.prototype=new _,D.prototype.constructor=D,D.C=function(E,C,A){for(var I=Array(arguments.length-2),qn=2;qn<arguments.length;qn++)I[qn-2]=arguments[qn];return y.prototype[C].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,y,_){_||(_=0);var E=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)E[C]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(C=0;16>C;++C)E[C]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=D.g[0],_=D.g[1],C=D.g[2];var A=D.g[3],I=y+(A^_&(C^A))+E[0]+3614090360&4294967295;y=_+(I<<7&4294967295|I>>>25),I=A+(C^y&(_^C))+E[1]+3905402710&4294967295,A=y+(I<<12&4294967295|I>>>20),I=C+(_^A&(y^_))+E[2]+606105819&4294967295,C=A+(I<<17&4294967295|I>>>15),I=_+(y^C&(A^y))+E[3]+3250441966&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(A^_&(C^A))+E[4]+4118548399&4294967295,y=_+(I<<7&4294967295|I>>>25),I=A+(C^y&(_^C))+E[5]+1200080426&4294967295,A=y+(I<<12&4294967295|I>>>20),I=C+(_^A&(y^_))+E[6]+2821735955&4294967295,C=A+(I<<17&4294967295|I>>>15),I=_+(y^C&(A^y))+E[7]+4249261313&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(A^_&(C^A))+E[8]+1770035416&4294967295,y=_+(I<<7&4294967295|I>>>25),I=A+(C^y&(_^C))+E[9]+2336552879&4294967295,A=y+(I<<12&4294967295|I>>>20),I=C+(_^A&(y^_))+E[10]+4294925233&4294967295,C=A+(I<<17&4294967295|I>>>15),I=_+(y^C&(A^y))+E[11]+2304563134&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(A^_&(C^A))+E[12]+1804603682&4294967295,y=_+(I<<7&4294967295|I>>>25),I=A+(C^y&(_^C))+E[13]+4254626195&4294967295,A=y+(I<<12&4294967295|I>>>20),I=C+(_^A&(y^_))+E[14]+2792965006&4294967295,C=A+(I<<17&4294967295|I>>>15),I=_+(y^C&(A^y))+E[15]+1236535329&4294967295,_=C+(I<<22&4294967295|I>>>10),I=y+(C^A&(_^C))+E[1]+4129170786&4294967295,y=_+(I<<5&4294967295|I>>>27),I=A+(_^C&(y^_))+E[6]+3225465664&4294967295,A=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(A^y))+E[11]+643717713&4294967295,C=A+(I<<14&4294967295|I>>>18),I=_+(A^y&(C^A))+E[0]+3921069994&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^A&(_^C))+E[5]+3593408605&4294967295,y=_+(I<<5&4294967295|I>>>27),I=A+(_^C&(y^_))+E[10]+38016083&4294967295,A=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(A^y))+E[15]+3634488961&4294967295,C=A+(I<<14&4294967295|I>>>18),I=_+(A^y&(C^A))+E[4]+3889429448&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^A&(_^C))+E[9]+568446438&4294967295,y=_+(I<<5&4294967295|I>>>27),I=A+(_^C&(y^_))+E[14]+3275163606&4294967295,A=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(A^y))+E[3]+4107603335&4294967295,C=A+(I<<14&4294967295|I>>>18),I=_+(A^y&(C^A))+E[8]+1163531501&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(C^A&(_^C))+E[13]+2850285829&4294967295,y=_+(I<<5&4294967295|I>>>27),I=A+(_^C&(y^_))+E[2]+4243563512&4294967295,A=y+(I<<9&4294967295|I>>>23),I=C+(y^_&(A^y))+E[7]+1735328473&4294967295,C=A+(I<<14&4294967295|I>>>18),I=_+(A^y&(C^A))+E[12]+2368359562&4294967295,_=C+(I<<20&4294967295|I>>>12),I=y+(_^C^A)+E[5]+4294588738&4294967295,y=_+(I<<4&4294967295|I>>>28),I=A+(y^_^C)+E[8]+2272392833&4294967295,A=y+(I<<11&4294967295|I>>>21),I=C+(A^y^_)+E[11]+1839030562&4294967295,C=A+(I<<16&4294967295|I>>>16),I=_+(C^A^y)+E[14]+4259657740&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^A)+E[1]+2763975236&4294967295,y=_+(I<<4&4294967295|I>>>28),I=A+(y^_^C)+E[4]+1272893353&4294967295,A=y+(I<<11&4294967295|I>>>21),I=C+(A^y^_)+E[7]+4139469664&4294967295,C=A+(I<<16&4294967295|I>>>16),I=_+(C^A^y)+E[10]+3200236656&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^A)+E[13]+681279174&4294967295,y=_+(I<<4&4294967295|I>>>28),I=A+(y^_^C)+E[0]+3936430074&4294967295,A=y+(I<<11&4294967295|I>>>21),I=C+(A^y^_)+E[3]+3572445317&4294967295,C=A+(I<<16&4294967295|I>>>16),I=_+(C^A^y)+E[6]+76029189&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(_^C^A)+E[9]+3654602809&4294967295,y=_+(I<<4&4294967295|I>>>28),I=A+(y^_^C)+E[12]+3873151461&4294967295,A=y+(I<<11&4294967295|I>>>21),I=C+(A^y^_)+E[15]+530742520&4294967295,C=A+(I<<16&4294967295|I>>>16),I=_+(C^A^y)+E[2]+3299628645&4294967295,_=C+(I<<23&4294967295|I>>>9),I=y+(C^(_|~A))+E[0]+4096336452&4294967295,y=_+(I<<6&4294967295|I>>>26),I=A+(_^(y|~C))+E[7]+1126891415&4294967295,A=y+(I<<10&4294967295|I>>>22),I=C+(y^(A|~_))+E[14]+2878612391&4294967295,C=A+(I<<15&4294967295|I>>>17),I=_+(A^(C|~y))+E[5]+4237533241&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~A))+E[12]+1700485571&4294967295,y=_+(I<<6&4294967295|I>>>26),I=A+(_^(y|~C))+E[3]+2399980690&4294967295,A=y+(I<<10&4294967295|I>>>22),I=C+(y^(A|~_))+E[10]+4293915773&4294967295,C=A+(I<<15&4294967295|I>>>17),I=_+(A^(C|~y))+E[1]+2240044497&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~A))+E[8]+1873313359&4294967295,y=_+(I<<6&4294967295|I>>>26),I=A+(_^(y|~C))+E[15]+4264355552&4294967295,A=y+(I<<10&4294967295|I>>>22),I=C+(y^(A|~_))+E[6]+2734768916&4294967295,C=A+(I<<15&4294967295|I>>>17),I=_+(A^(C|~y))+E[13]+1309151649&4294967295,_=C+(I<<21&4294967295|I>>>11),I=y+(C^(_|~A))+E[4]+4149444226&4294967295,y=_+(I<<6&4294967295|I>>>26),I=A+(_^(y|~C))+E[11]+3174756917&4294967295,A=y+(I<<10&4294967295|I>>>22),I=C+(y^(A|~_))+E[2]+718787259&4294967295,C=A+(I<<15&4294967295|I>>>17),I=_+(A^(C|~y))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+y&4294967295,D.g[1]=D.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+A&4294967295}r.prototype.u=function(D,y){y===void 0&&(y=D.length);for(var _=y-this.blockSize,E=this.B,C=this.h,A=0;A<y;){if(C==0)for(;A<=_;)i(this,D,A),A+=this.blockSize;if(typeof D=="string"){for(;A<y;)if(E[C++]=D.charCodeAt(A++),C==this.blockSize){i(this,E),C=0;break}}else for(;A<y;)if(E[C++]=D[A++],C==this.blockSize){i(this,E),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var y=1;y<D.length-8;++y)D[y]=0;var _=8*this.o;for(y=D.length-8;y<D.length;++y)D[y]=_&255,_/=256;for(this.u(D),D=Array(16),y=_=0;4>y;++y)for(var E=0;32>E;E+=8)D[_++]=this.g[y]>>>E&255;return D};function o(D,y){var _=a;return Object.prototype.hasOwnProperty.call(_,D)?_[D]:_[D]=y(D)}function s(D,y){this.h=y;for(var _=[],E=!0,C=D.length-1;0<=C;C--){var A=D[C]|0;E&&A==y||(_[C]=A,E=!1)}this.g=_}var a={};function u(D){return-128<=D&&128>D?o(D,function(y){return new s([y|0],0>y?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return x(l(-D));for(var y=[],_=1,E=0;D>=_;E++)y[E]=D/_|0,_*=4294967296;return new s(y,0)}function h(D,y){if(D.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(D.charAt(0)=="-")return x(h(D.substring(1),y));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),E=p,C=0;C<D.length;C+=8){var A=Math.min(8,D.length-C),I=parseInt(D.substring(C,C+A),y);8>A?(A=l(Math.pow(y,A)),E=E.j(A).add(l(I))):(E=E.j(_),E=E.add(l(I)))}return E}var p=u(0),g=u(1),v=u(16777216);t=s.prototype,t.m=function(){if(P(this))return-x(this).m();for(var D=0,y=1,_=0;_<this.g.length;_++){var E=this.i(_);D+=(0<=E?E:4294967296+E)*y,y*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(R(this))return"0";if(P(this))return"-"+x(this).toString(D);for(var y=l(Math.pow(D,6)),_=this,E="";;){var C=re(_,y).g;_=j(_,C.j(y));var A=((0<_.g.length?_.g[0]:_.h)>>>0).toString(D);if(_=C,R(_))return A+E;for(;6>A.length;)A="0"+A;E=A+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function R(D){if(D.h!=0)return!1;for(var y=0;y<D.g.length;y++)if(D.g[y]!=0)return!1;return!0}function P(D){return D.h==-1}t.l=function(D){return D=j(this,D),P(D)?-1:R(D)?0:1};function x(D){for(var y=D.g.length,_=[],E=0;E<y;E++)_[E]=~D.g[E];return new s(_,~D.h).add(g)}t.abs=function(){return P(this)?x(this):this},t.add=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0,C=0;C<=y;C++){var A=E+(this.i(C)&65535)+(D.i(C)&65535),I=(A>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);E=I>>>16,A&=65535,I&=65535,_[C]=I<<16|A}return new s(_,_[_.length-1]&-2147483648?-1:0)};function j(D,y){return D.add(x(y))}t.j=function(D){if(R(this)||R(D))return p;if(P(this))return P(D)?x(this).j(x(D)):x(x(this).j(D));if(P(D))return x(this.j(x(D)));if(0>this.l(v)&&0>D.l(v))return l(this.m()*D.m());for(var y=this.g.length+D.g.length,_=[],E=0;E<2*y;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<D.g.length;C++){var A=this.i(E)>>>16,I=this.i(E)&65535,qn=D.i(C)>>>16,na=D.i(C)&65535;_[2*E+2*C]+=I*na,G(_,2*E+2*C),_[2*E+2*C+1]+=A*na,G(_,2*E+2*C+1),_[2*E+2*C+1]+=I*qn,G(_,2*E+2*C+1),_[2*E+2*C+2]+=A*qn,G(_,2*E+2*C+2)}for(E=0;E<y;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=y;E<2*y;E++)_[E]=0;return new s(_,0)};function G(D,y){for(;(D[y]&65535)!=D[y];)D[y+1]+=D[y]>>>16,D[y]&=65535,y++}function W(D,y){this.g=D,this.h=y}function re(D,y){if(R(y))throw Error("division by zero");if(R(D))return new W(p,p);if(P(D))return y=re(x(D),y),new W(x(y.g),x(y.h));if(P(y))return y=re(D,x(y)),new W(x(y.g),y.h);if(30<D.g.length){if(P(D)||P(y))throw Error("slowDivide_ only works with positive integers.");for(var _=g,E=y;0>=E.l(D);)_=Ne(_),E=Ne(E);var C=ee(_,1),A=ee(E,1);for(E=ee(E,2),_=ee(_,2);!R(E);){var I=A.add(E);0>=I.l(D)&&(C=C.add(_),A=I),E=ee(E,1),_=ee(_,1)}return y=j(D,C.j(y)),new W(C,y)}for(C=p;0<=D.l(y);){for(_=Math.max(1,Math.floor(D.m()/y.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),A=l(_),I=A.j(y);P(I)||0<I.l(D);)_-=E,A=l(_),I=A.j(y);R(A)&&(A=g),C=C.add(A),D=j(D,I)}return new W(C,D)}t.A=function(D){return re(this,D).h},t.and=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)&D.i(E);return new s(_,this.h&D.h)},t.or=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)|D.i(E);return new s(_,this.h|D.h)},t.xor=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)^D.i(E);return new s(_,this.h^D.h)};function Ne(D){for(var y=D.g.length+1,_=[],E=0;E<y;E++)_[E]=D.i(E)<<1|D.i(E-1)>>>31;return new s(_,D.h)}function ee(D,y){var _=y>>5;y%=32;for(var E=D.g.length-_,C=[],A=0;A<E;A++)C[A]=0<y?D.i(A+_)>>>y|D.i(A+_+1)<<32-y:D.i(A+_);return new s(C,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,kv=fA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,pi=fA.Integer=s}).apply(typeof hA<"u"?hA:typeof self<"u"?self:typeof window<"u"?window:{});var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},br={};var Fv,I$,Rs,Vv,Vc,Eh,Lv,jv,Uv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof wh=="object"&&wh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var b=c[m];if(!(b in f))break e;f=f[b]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,b={next:function(){if(!m&&f<c.length){var M=f++;return{value:d(M,c[M]),done:!1}}return m=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,m),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function R(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,b,M){for(var F=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)F[Te-2]=arguments[Te];return d.prototype[b].apply(m,F)}}function P(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function x(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let b=c.length||0,M=m.length||0;c.length=b+M;for(let F=0;F<M;F++)c[b+F]=m[F]}else c.push(m)}}class j{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function G(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var Ne=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ee(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,m;for(let b=1;b<arguments.length;b++){m=arguments[b];for(f in m)c[f]=m[f];for(let M=0;M<_.length;M++)f=_[M],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function A(c){a.setTimeout(()=>{throw c},0)}function I(){var c=hf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class qn{constructor(){this.h=this.g=null}add(d,f){let m=na.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var na=new j(()=>new $R,c=>c.reset());class $R{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ra,ia=!1,hf=new qn,UI=()=>{let c=a.Promise.resolve(void 0);ra=()=>{c.then(HR)}};var HR=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){A(f)}var d=na;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}ia=!1};function Mr(){this.s=this.s,this.C=this.C}Mr.prototype.s=!1,Mr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Mr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}pt.prototype.h=function(){this.defaultPrevented=!0};var qR=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function oa(c,d){if(pt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ne){e:{try{re(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:zR[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&oa.aa.h.call(this)}}R(oa,pt);var zR={2:"touch",3:"pen",4:"mouse"};oa.prototype.h=function(){oa.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var sa="closure_listenable_"+(1e6*Math.random()|0),GR=0;function WR(c,d,f,m,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=b,this.key=++GR,this.da=this.fa=!1}function su(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function au(c){this.src=c,this.g={},this.h=0}au.prototype.add=function(c,d,f,m,b){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var F=pf(c,d,m,b);return-1<F?(d=c[F],f||(d.fa=!1)):(d=new WR(d,this.src,M,!!m,b),d.fa=f,c.push(d)),d};function ff(c,d){var f=d.type;if(f in c.g){var m=c.g[f],b=Array.prototype.indexOf.call(m,d,void 0),M;(M=0<=b)&&Array.prototype.splice.call(m,b,1),M&&(su(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function pf(c,d,f,m){for(var b=0;b<c.length;++b){var M=c[b];if(!M.da&&M.listener==d&&M.capture==!!f&&M.ha==m)return b}return-1}var mf="closure_lm_"+(1e6*Math.random()|0),gf={};function BI(c,d,f,m,b){if(m&&m.once)return HI(c,d,f,m,b);if(Array.isArray(d)){for(var M=0;M<d.length;M++)BI(c,d[M],f,m,b);return null}return f=If(f),c&&c[sa]?c.K(d,f,l(m)?!!m.capture:!!m,b):$I(c,d,f,!1,m,b)}function $I(c,d,f,m,b,M){if(!d)throw Error("Invalid event type");var F=l(b)?!!b.capture:!!b,Te=vf(c);if(Te||(c[mf]=Te=new au(c)),f=Te.add(d,f,m,F,M),f.proxy)return f;if(m=KR(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)qR||(b=F),b===void 0&&(b=!1),c.addEventListener(d.toString(),m,b);else if(c.attachEvent)c.attachEvent(zI(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function KR(){function c(f){return d.call(c.src,c.listener,f)}let d=QR;return c}function HI(c,d,f,m,b){if(Array.isArray(d)){for(var M=0;M<d.length;M++)HI(c,d[M],f,m,b);return null}return f=If(f),c&&c[sa]?c.L(d,f,l(m)?!!m.capture:!!m,b):$I(c,d,f,!0,m,b)}function qI(c,d,f,m,b){if(Array.isArray(d))for(var M=0;M<d.length;M++)qI(c,d[M],f,m,b);else m=l(m)?!!m.capture:!!m,f=If(f),c&&c[sa]?(c=c.i,d=String(d).toString(),d in c.g&&(M=c.g[d],f=pf(M,f,m,b),-1<f&&(su(M[f]),Array.prototype.splice.call(M,f,1),M.length==0&&(delete c.g[d],c.h--)))):c&&(c=vf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=pf(d,f,m,b)),(f=-1<c?d[c]:null)&&yf(f))}function yf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[sa])ff(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(zI(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=vf(d))?(ff(f,c),f.h==0&&(f.src=null,d[mf]=null)):su(c)}}}function zI(c){return c in gf?gf[c]:gf[c]="on"+c}function QR(c,d){if(c.da)c=!0;else{d=new oa(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&yf(c),c=f.call(m,d)}return c}function vf(c){return c=c[mf],c instanceof au?c:null}var _f="__closure_events_fn_"+(1e9*Math.random()>>>0);function If(c){return typeof c=="function"?c:(c[_f]||(c[_f]=function(d){return c.handleEvent(d)}),c[_f])}function mt(){Mr.call(this),this.i=new au(this),this.M=this,this.F=null}R(mt,Mr),mt.prototype[sa]=!0,mt.prototype.removeEventListener=function(c,d,f,m){qI(this,c,d,f,m)};function St(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new pt(d,c);else if(d instanceof pt)d.target=d.target||c;else{var b=d;d=new pt(m,c),E(d,b)}if(b=!0,f)for(var M=f.length-1;0<=M;M--){var F=d.g=f[M];b=cu(F,m,!0,d)&&b}if(F=d.g=c,b=cu(F,m,!0,d)&&b,b=cu(F,m,!1,d)&&b,f)for(M=0;M<f.length;M++)F=d.g=f[M],b=cu(F,m,!1,d)&&b}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)su(f[m]);delete c.g[d],c.h--}}this.F=null},mt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},mt.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function cu(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,M=0;M<d.length;++M){var F=d[M];if(F&&!F.da&&F.capture==f){var Te=F.listener,ut=F.ha||F.src;F.fa&&ff(c.i,F),b=Te.call(ut,m)!==!1&&b}}return b&&!m.defaultPrevented}function GI(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function WI(c){c.g=GI(()=>{c.g=null,c.i&&(c.i=!1,WI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class YR extends Mr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:WI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aa(c){Mr.call(this),this.h=c,this.g={}}R(aa,Mr);var KI=[];function QI(c){ee(c.g,function(d,f){this.g.hasOwnProperty(f)&&yf(d)},c),c.g={}}aa.prototype.N=function(){aa.aa.N.call(this),QI(this)},aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wf=a.JSON.stringify,ZR=a.JSON.parse,JR=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Ef(){}Ef.prototype.h=null;function YI(c){return c.h||(c.h=c.i())}function ZI(){}var ca={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Df(){pt.call(this,"d")}R(Df,pt);function Cf(){pt.call(this,"c")}R(Cf,pt);var _i={},JI=null;function uu(){return JI=JI||new mt}_i.La="serverreachability";function XI(c){pt.call(this,_i.La,c)}R(XI,pt);function ua(c){let d=uu();St(d,new XI(d))}_i.STAT_EVENT="statevent";function ew(c,d){pt.call(this,_i.STAT_EVENT,c),this.stat=d}R(ew,pt);function At(c){let d=uu();St(d,new ew(d,c))}_i.Ma="timingevent";function tw(c,d){pt.call(this,_i.Ma,c),this.size=d}R(tw,pt);function la(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function da(){this.g=!0}da.prototype.xa=function(){this.g=!1};function XR(c,d,f,m,b,M){c.info(function(){if(c.g)if(M)for(var F="",Te=M.split("&"),ut=0;ut<Te.length;ut++){var _e=Te[ut].split("=");if(1<_e.length){var gt=_e[0];_e=_e[1];var yt=gt.split("_");F=2<=yt.length&&yt[1]=="type"?F+(gt+"="+_e+"&"):F+(gt+"=redacted&")}}else F=null;else F=M;return"XMLHTTP REQ ("+m+") [attempt "+b+"]: "+d+`
`+f+`
`+F})}function eM(c,d,f,m,b,M,F){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+b+"]: "+d+`
`+f+`
`+M+" "+F})}function mo(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+nM(c,f)+(m?" "+m:"")})}function tM(c,d){c.info(function(){return"TIMEOUT: "+d})}da.prototype.info=function(){};function nM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var b=m[1];if(Array.isArray(b)&&!(1>b.length)){var M=b[0];if(M!="noop"&&M!="stop"&&M!="close")for(var F=1;F<b.length;F++)b[F]=""}}}}return wf(f)}catch{return d}}var lu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bf;function du(){}R(du,Ef),du.prototype.g=function(){return new XMLHttpRequest},du.prototype.i=function(){return{}},bf=new du;function Nr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rw}function rw(){this.i=null,this.g="",this.h=!1}var iw={},Tf={};function Sf(c,d,f){c.L=1,c.v=mu(zn(d)),c.m=f,c.P=!0,ow(c,null)}function ow(c,d){c.F=Date.now(),hu(c),c.A=zn(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),_w(f.i,"t",m),c.C=0,f=c.j.J,c.h=new rw,c.g=Vw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new YR(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(KI[0]=b.toString()),b=KI);for(var M=0;M<b.length;M++){var F=BI(f,b[M],m||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ua(),XR(c.i,c.u,c.A,c.l,c.R,c.m)}Nr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Gn(c)==3?d.j():this.Y(c)},Nr.prototype.Y=function(c){try{if(c==this.g)e:{let yt=Gn(this.g);var d=this.g.Ba();let vo=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||Tw(this.g)))){this.J||yt!=4||d==7||(d==8||0>=vo?ua(3):ua(2)),Af(this);var f=this.g.Z();this.X=f;t:if(sw(this)){var m=Tw(this.g);c="";var b=m.length,M=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ii(this),ha(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(M&&d==b-1)});m.length=0,this.h.g+=c,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,eM(this.i,this.u,this.A,this.l,this.R,yt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,ut=this.g;if((Te=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Te)){var _e=Te;break t}}_e=null}if(f=_e)mo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rf(this,f);else{this.o=!1,this.s=3,At(12),Ii(this),ha(this);break e}}if(this.P){f=!0;let an;for(;!this.J&&this.C<F.length;)if(an=rM(this,F),an==Tf){yt==4&&(this.s=4,At(14),f=!1),mo(this.i,this.l,null,"[Incomplete Response]");break}else if(an==iw){this.s=4,At(15),mo(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else mo(this.i,this.l,an,null),Rf(this,an);if(sw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||F.length!=0||this.h.h||(this.s=1,At(16),f=!1),this.o=this.o&&f,!f)mo(this.i,this.l,F,"[Invalid Chunked Response]"),Ii(this),ha(this);else if(0<F.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),kf(gt),gt.M=!0,At(11))}}else mo(this.i,this.l,F,null),Rf(this,F);yt==4&&Ii(this),this.o&&!this.J&&(yt==4?Pw(this.j,this):(this.o=!1,hu(this)))}else IM(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),Ii(this),ha(this)}}}catch{}finally{}};function sw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function rM(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Tf:(f=Number(d.substring(f,m)),isNaN(f)?iw:(m+=1,m+f>d.length?Tf:(d=d.slice(m,m+f),c.C=m+f,d)))}Nr.prototype.cancel=function(){this.J=!0,Ii(this)};function hu(c){c.S=Date.now()+c.I,aw(c,c.I)}function aw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=la(g(c.ba,c),d)}function Af(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Nr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(tM(this.i,this.A),this.L!=2&&(ua(),At(17)),Ii(this),this.s=2,ha(this)):aw(this,this.S-c)};function ha(c){c.j.G==0||c.J||Pw(c.j,c)}function Ii(c){Af(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,QI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Rf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Mf(f.h,c))){if(!c.K&&Mf(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var b=m;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Iu(f),vu(f);else break e;Of(f),At(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=la(g(f.Za,f),6e3));if(1>=lw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ei(f,11)}else if((c.K||f.g==c)&&Iu(f),!G(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let _e=b[d];if(f.T=_e[0],_e=_e[1],f.G==2)if(_e[0]=="c"){f.K=_e[1],f.ia=_e[2];let gt=_e[3];gt!=null&&(f.la=gt,f.j.info("VER="+f.la));let yt=_e[4];yt!=null&&(f.Aa=yt,f.j.info("SVER="+f.Aa));let vo=_e[5];vo!=null&&typeof vo=="number"&&0<vo&&(m=1.5*vo,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let an=c.g;if(an){let Eu=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eu){var M=m.h;M.g||Eu.indexOf("spdy")==-1&&Eu.indexOf("quic")==-1&&Eu.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Nf(M,M.h),M.h=null))}if(m.D){let Ff=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;Ff&&(m.ya=Ff,xe(m.I,m.D,Ff))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var F=c;if(m.qa=Fw(m,m.J?m.ia:null,m.W),F.K){dw(m.h,F);var Te=F,ut=m.L;ut&&(Te.I=ut),Te.B&&(Af(Te),hu(Te)),m.g=F}else Nw(m);0<f.i.length&&_u(f)}else _e[0]!="stop"&&_e[0]!="close"||Ei(f,7);else f.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?Ei(f,7):Pf(f):_e[0]!="noop"&&f.l&&f.l.ta(_e),f.v=0)}}ua(4)}catch{}}var iM=class{constructor(c,d){this.g=c,this.map=d}};function cw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function uw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function lw(c){return c.h?1:c.g?c.g.size:0}function Mf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Nf(c,d){c.g?c.g.add(d):c.h=d}function dw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}cw.prototype.cancel=function(){if(this.i=hw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function hw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return P(c.i)}function oM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function sM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function fw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=sM(c),m=oM(c),b=m.length,M=0;M<b;M++)d.call(void 0,m[M],f&&f[M],c)}var pw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),b=null;if(0<=m){var M=c[f].substring(0,m);b=c[f].substring(m+1)}else M=c[f];d(M,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function wi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wi){this.h=c.h,fu(this,c.j),this.o=c.o,this.g=c.g,pu(this,c.s),this.l=c.l;var d=c.i,f=new ma;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),mw(this,f),this.m=c.m}else c&&(d=String(c).match(pw))?(this.h=!1,fu(this,d[1]||"",!0),this.o=fa(d[2]||""),this.g=fa(d[3]||"",!0),pu(this,d[4]),this.l=fa(d[5]||"",!0),mw(this,d[6]||"",!0),this.m=fa(d[7]||"")):(this.h=!1,this.i=new ma(null,this.h))}wi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(pa(d,gw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(pa(d,gw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(pa(f,f.charAt(0)=="/"?lM:uM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",pa(f,hM)),c.join("")};function zn(c){return new wi(c)}function fu(c,d,f){c.j=f?fa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function pu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function mw(c,d,f){d instanceof ma?(c.i=d,fM(c.i,c.h)):(f||(d=pa(d,dM)),c.i=new ma(d,c.h))}function xe(c,d,f){c.i.set(d,f)}function mu(c){return xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function fa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function pa(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,cM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var gw=/[#\/\?@]/g,uM=/[#\?:]/g,lM=/[#\?]/g,dM=/[#\?@]/g,hM=/#/g;function ma(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function xr(c){c.g||(c.g=new Map,c.h=0,c.i&&aM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=ma.prototype,t.add=function(c,d){xr(this),this.i=null,c=go(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function yw(c,d){xr(c),d=go(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function vw(c,d){return xr(c),d=go(c,d),c.g.has(d)}t.forEach=function(c,d){xr(this),this.g.forEach(function(f,m){f.forEach(function(b){c.call(d,b,m,this)},this)},this)},t.na=function(){xr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let b=c[m];for(let M=0;M<b.length;M++)f.push(d[m])}return f},t.V=function(c){xr(this);let d=[];if(typeof c=="string")vw(this,c)&&(d=d.concat(this.g.get(go(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return xr(this),this.i=null,c=go(this,c),vw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function _w(c,d,f){yw(c,d),0<f.length&&(c.i=null,c.g.set(go(c,d),P(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let M=encodeURIComponent(String(m)),F=this.V(m);for(m=0;m<F.length;m++){var b=M;F[m]!==""&&(b+="="+encodeURIComponent(String(F[m]))),c.push(b)}}return this.i=c.join("&")};function go(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function fM(c,d){d&&!c.j&&(xr(c),c.i=null,c.g.forEach(function(f,m){var b=m.toLowerCase();m!=b&&(yw(this,m),_w(this,b,f))},c)),c.j=d}function pM(c,d){let f=new da;if(a.Image){let m=new Image;m.onload=v(Pr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=v(Pr,f,"TestLoadImage: error",!1,d,m),m.onabort=v(Pr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=v(Pr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function mM(c,d){let f=new da,m=new AbortController,b=setTimeout(()=>{m.abort(),Pr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(M=>{clearTimeout(b),M.ok?Pr(f,"TestPingServer: ok",!0,d):Pr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Pr(f,"TestPingServer: error",!1,d)})}function Pr(c,d,f,m,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),m(f)}catch{}}function gM(){this.g=new JR}function yM(c,d,f){let m=f||"";try{fw(c,function(b,M){let F=b;l(b)&&(F=wf(b)),d.push(m+M+"="+encodeURIComponent(F))})}catch(b){throw d.push(m+"type="+encodeURIComponent("_badmap")),b}}function ga(c){this.l=c.Ub||null,this.j=c.eb||!1}R(ga,Ef),ga.prototype.g=function(){return new gu(this.l,this.j)},ga.prototype.i=function(c){return function(){return c}}({});function gu(c,d){mt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(gu,mt),t=gu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,va(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ya(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,va(this)),this.g&&(this.readyState=3,va(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Iw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Iw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ya(this):va(this),this.readyState==3&&Iw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ya(this))},t.Qa=function(c){this.g&&(this.response=c,ya(this))},t.ga=function(){this.g&&ya(this)};function ya(c){c.readyState=4,c.l=null,c.j=null,c.v=null,va(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function va(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(gu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ww(c){let d="";return ee(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function xf(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=ww(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):xe(c,d,f))}function Ve(c){mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Ve,mt);var vM=/^https?$/i,_M=["POST","PUT"];t=Ve.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bf.g(),this.v=this.o?YI(this.o):YI(bf),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(M){Ew(this,M);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var b in m)f.set(b,m[b]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let M of m.keys())f.set(M,m.get(M));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(M=>M.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(_M,d,void 0))||m||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,F]of f)this.g.setRequestHeader(M,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bw(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){Ew(this,M)}};function Ew(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Dw(c),yu(c)}function Dw(c){c.A||(c.A=!0,St(c,"complete"),St(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,St(this,"complete"),St(this,"abort"),yu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yu(this,!0)),Ve.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Cw(this):this.bb())},t.bb=function(){Cw(this)};function Cw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Gn(c)!=4||c.Z()!=2)){if(c.u&&Gn(c)==4)GI(c.Ea,0,c);else if(St(c,"readystatechange"),Gn(c)==4){c.h=!1;try{let F=c.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=F===0){var b=String(c.D).match(pw)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),m=!vM.test(b?b.toLowerCase():"")}f=m}if(f)St(c,"complete"),St(c,"success");else{c.m=6;try{var M=2<Gn(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",Dw(c)}}finally{yu(c)}}}}function yu(c,d){if(c.g){bw(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||St(c,"ready");try{f.onreadystatechange=m}catch{}}}function bw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),ZR(d)}};function Tw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function IM(c){let d={};c=(c.g&&2<=Gn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(G(c[m]))continue;var f=C(c[m]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let M=d[b]||[];d[b]=M,M.push(f)}D(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _a(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Sw(c){this.Aa=0,this.i=[],this.j=new da,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_a("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_a("baseRetryDelayMs",5e3,c),this.cb=_a("retryDelaySeedMs",1e4,c),this.Wa=_a("forwardChannelMaxRetries",2,c),this.wa=_a("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new cw(c&&c.concurrentRequestLimit),this.Da=new gM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Sw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,m){At(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=Fw(this,null,this.W),_u(this)};function Pf(c){if(Aw(c),c.G==3){var d=c.U++,f=zn(c.I);if(xe(f,"SID",c.K),xe(f,"RID",d),xe(f,"TYPE","terminate"),Ia(c,f),d=new Nr(c,c.j,d),d.L=2,d.v=mu(zn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Vw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),hu(d)}kw(c)}function vu(c){c.g&&(kf(c),c.g.cancel(),c.g=null)}function Aw(c){vu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Iu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function _u(c){if(!uw(c.h)&&!c.s){c.s=!0;var d=c.Ga;ra||UI(),ia||(ra(),ia=!0),hf.add(d,c),c.B=0}}function wM(c,d){return lw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=la(g(c.Ga,c,d),Ow(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new Nr(this,this.j,c),M=this.o;if(this.S&&(M?(M=y(M),E(M,this.S)):M=this.S),this.m!==null||this.O||(b.H=M,M=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Mw(this,b,d),f=zn(this.I),xe(f,"RID",c),xe(f,"CVER",22),this.D&&xe(f,"X-HTTP-Session-Id",this.D),Ia(this,f),M&&(this.O?d="headers="+encodeURIComponent(String(ww(M)))+"&"+d:this.m&&xf(f,this.m,M)),Nf(this.h,b),this.Ua&&xe(f,"TYPE","init"),this.P?(xe(f,"$req",d),xe(f,"SID","null"),b.T=!0,Sf(b,f,null)):Sf(b,f,d),this.G=2}}else this.G==3&&(c?Rw(this,c):this.i.length==0||uw(this.h)||Rw(this))};function Rw(c,d){var f;d?f=d.l:f=c.U++;let m=zn(c.I);xe(m,"SID",c.K),xe(m,"RID",f),xe(m,"AID",c.T),Ia(c,m),c.m&&c.o&&xf(m,c.m,c.o),f=new Nr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Mw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Nf(c.h,f),Sf(f,m,d)}function Ia(c,d){c.H&&ee(c.H,function(f,m){xe(d,m,f)}),c.l&&fw({},function(f,m){xe(d,m,f)})}function Mw(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var b=c.i;let M=-1;for(;;){let F=["count="+f];M==-1?0<f?(M=b[0].g,F.push("ofs="+M)):M=0:F.push("ofs="+M);let Te=!0;for(let ut=0;ut<f;ut++){let _e=b[ut].g,gt=b[ut].map;if(_e-=M,0>_e)M=Math.max(0,b[ut].g-100),Te=!1;else try{yM(gt,F,"req"+_e+"_")}catch{m&&m(gt)}}if(Te){m=F.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function Nw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ra||UI(),ia||(ra(),ia=!0),hf.add(d,c),c.v=0}}function Of(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=la(g(c.Fa,c),Ow(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,xw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=la(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),vu(this),xw(this))};function kf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function xw(c){c.g=new Nr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=zn(c.qa);xe(d,"RID","rpc"),xe(d,"SID",c.K),xe(d,"AID",c.T),xe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&xe(d,"TO",c.ja),xe(d,"TYPE","xmlhttp"),Ia(c,d),c.m&&c.o&&xf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=mu(zn(d)),f.m=null,f.P=!0,ow(f,c)}t.Za=function(){this.C!=null&&(this.C=null,vu(this),Of(this),At(19))};function Iu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Pw(c,d){var f=null;if(c.g==d){Iu(c),kf(c),c.g=null;var m=2}else if(Mf(c.h,d))f=d.D,dw(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;m=uu(),St(m,new tw(m,f)),_u(c)}else Nw(c);else if(b=d.s,b==3||b==0&&0<d.X||!(m==1&&wM(c,d)||m==2&&Of(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function Ow(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ei(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let b=!m;m=new wi(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||fu(m,"https"),mu(m),b?pM(m.toString(),f):mM(m.toString(),f)}else At(2);c.G=0,c.l&&c.l.sa(d),kw(c),Aw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function kw(c){if(c.G=0,c.ka=[],c.l){let d=hw(c.h);(d.length!=0||c.i.length!=0)&&(x(c.ka,d),x(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function Fw(c,d,f){var m=f instanceof wi?zn(f):new wi(f);if(m.g!="")d&&(m.g=d+"."+m.g),pu(m,m.s);else{var b=a.location;m=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var M=new wi(null);m&&fu(M,m),d&&(M.g=d),b&&pu(M,b),f&&(M.l=f),m=M}return f=c.D,d=c.ya,f&&d&&xe(m,f,d),xe(m,"VER",c.la),Ia(c,m),m}function Vw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ve(new ga({eb:f})):new Ve(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lw(){}t=Lw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wu(){}wu.prototype.g=function(c,d){return new Lt(c,d)};function Lt(c,d){mt.call(this),this.g=new Sw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!G(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!G(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new yo(this)}R(Lt,mt),Lt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){Pf(this.g)},Lt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=wf(c),c=f);d.i.push(new iM(d.Ya++,c)),d.G==3&&_u(d)},Lt.prototype.N=function(){this.g.l=null,delete this.j,Pf(this.g),delete this.g,Lt.aa.N.call(this)};function jw(c){Df.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}R(jw,Df);function Uw(){Cf.call(this),this.status=1}R(Uw,Cf);function yo(c){this.g=c}R(yo,Lw),yo.prototype.ua=function(){St(this.g,"a")},yo.prototype.ta=function(c){St(this.g,new jw(c))},yo.prototype.sa=function(c){St(this.g,new Uw)},yo.prototype.ra=function(){St(this.g,"b")},wu.prototype.createWebChannel=wu.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,Uv=br.createWebChannelTransport=function(){return new wu},jv=br.getStatEventTarget=function(){return uu()},Lv=br.Event=_i,Eh=br.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lu.NO_ERROR=0,lu.TIMEOUT=8,lu.HTTP_ERROR=6,Vc=br.ErrorCode=lu,nw.COMPLETE="complete",Vv=br.EventType=nw,ZI.EventType=ca,ca.OPEN="a",ca.CLOSE="b",ca.ERROR="c",ca.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Rs=br.WebChannel=ZI,I$=br.FetchXmlHttpFactory=ga,Ve.prototype.listenOnce=Ve.prototype.L,Ve.prototype.getLastError=Ve.prototype.Ka,Ve.prototype.getLastErrorCode=Ve.prototype.Ba,Ve.prototype.getStatus=Ve.prototype.Z,Ve.prototype.getResponseJson=Ve.prototype.Oa,Ve.prototype.getResponseText=Ve.prototype.oa,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Ha,Fv=br.XhrIo=Ve}).apply(typeof wh<"u"?wh:typeof self<"u"?self:typeof window<"u"?window:{});var pA="@firebase/firestore";var ct=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ct.UNAUTHENTICATED=new ct(null),ct.GOOGLE_CREDENTIALS=new ct("google-credentials-uid"),ct.FIRST_PARTY=new ct("first-party-uid"),ct.MOCK_USER=new ct("mock-user");var Js="10.14.0";var uo=new ri("@firebase/firestore");function Lc(){return uo.logLevel}function U(t,...e){if(uo.logLevel<=he.DEBUG){let n=e.map(EI);uo.debug(`Firestore (${Js}): ${t}`,...n)}}function Ar(t,...e){if(uo.logLevel<=he.ERROR){let n=e.map(EI);uo.error(`Firestore (${Js}): ${t}`,...n)}}function js(t,...e){if(uo.logLevel<=he.WARN){let n=e.map(EI);uo.warn(`Firestore (${Js}): ${t}`,...n)}}function EI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ne(t="Unexpected state"){let e=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: `+t;throw Ar(e),new Error(e)}function Ue(t,e){t||ne()}function ge(t,e){return t}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends Kt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Sr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Th=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Gv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ct.UNAUTHENTICATED))}shutdown(){}},Wv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Kv=class{constructor(e){this.t=e,this.currentUser=ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ue(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Sr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Sr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new Th(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new ct(e)}},Qv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ct.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Yv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Qv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Zv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Jv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ue(this.o===void 0);let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new Zv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function w$(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Xv=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=w$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function De(t,e){return t<e?-1:t>e?1:0}function Us(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var sn=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new z(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new z(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var se=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new sn(0,0))}static max(){return new t(new sn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Sh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(),r===void 0?r=e.length-n:r>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},We=class t extends Sh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new z(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},E$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,vn=class t extends Sh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return E$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new z(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new z(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new z(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Z=class t{constructor(e){this.path=e}static fromPath(e){return new t(We.fromString(e))}static fromName(e){return new t(We.fromString(e).popFirst(5))}static empty(){return new t(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new We(e.slice()))}};var e_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};e_.UNKNOWN_ID=-1;function D$(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new sn(n+1,0):new sn(n,r));return new lo(i,Z.empty(),e)}function C$(t){return new lo(t.readTime,t.key,-1)}var lo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(se.min(),Z.empty(),-1)}static max(){return new t(se.max(),Z.empty(),-1)}};function b$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}var T$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",t_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function DI(t){return w(this,null,function*(){if(t.code!==L.FAILED_PRECONDITION||t.message!==T$)throw t;U("LocalStore","Unexpectedly lost primary lease")})}var k=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function S$(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nu(t){return t.name==="IndexedDbTransactionError"}var GA=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Zh(t){return t==null}function Ah(t){return t===0&&1/t==-1/0}var A$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],r7=[...A$,"documentOverlays"],R$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],M$=R$,N$=[...M$,"indexConfiguration","indexState","indexEntries"];var i7=[...N$,"globals"];function mA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Jh(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function x$(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Be=class t{constructor(e,n){this.comparator=e,this.root=n||Un.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ps(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ps(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ps(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ps(this.root,e,this.comparator,!0)}},Ps=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Un=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();let e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}};Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var bt=class t{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Rh(this.data.getIterator())}getIteratorFrom(e){return new Rh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Rh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var so=class t{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new t([])}unionWith(e){let n=new bt(vn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Us(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Mh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Tt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Mh("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Tt.EMPTY_BYTE_STRING=new Tt("");var P$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(t){if(Ue(!!t),typeof t=="string"){let e=0,n=P$.exec(t);if(Ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(t.seconds),nanos:Oe(t.nanos)}}function Oe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function mi(t){return typeof t=="string"?Tt.fromBase64String(t):Tt.fromUint8Array(t)}function CI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function bI(t){let e=t.mapValue.fields.__previous_value__;return CI(e)?bI(e):e}function zc(t){let e=Rr(t.mapValue.fields.__local_write_time__.timestampValue);return new sn(e.seconds,e.nanos)}var n_=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Nh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Dh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ho(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?CI(t)?4:KA(t)?9007199254740991:WA(t)?10:11:ne()}function $n(t,e){if(t===e)return!0;let n=ho(t);if(n!==ho(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zc(t).isEqual(zc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Rr(i.timestampValue),a=Rr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return mi(i.bytesValue).isEqual(mi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Oe(i.geoPointValue.latitude)===Oe(o.geoPointValue.latitude)&&Oe(i.geoPointValue.longitude)===Oe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Oe(i.integerValue)===Oe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Oe(i.doubleValue),a=Oe(o.doubleValue);return s===a?Ah(s)===Ah(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Us(t.arrayValue.values||[],e.arrayValue.values||[],$n);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(mA(s)!==mA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!$n(s[u],a[u])))return!1;return!0}(t,e);default:return ne()}}function Gc(t,e){return(t.values||[]).find(n=>$n(n,e))!==void 0}function Bs(t,e){if(t===e)return 0;let n=ho(t),r=ho(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Oe(o.integerValue||o.doubleValue),u=Oe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return gA(t.timestampValue,e.timestampValue);case 4:return gA(zc(t),zc(e));case 5:return De(t.stringValue,e.stringValue);case 6:return function(o,s){let a=mi(o),u=mi(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=De(a[l],u[l]);if(h!==0)return h}return De(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=De(Oe(o.latitude),Oe(s.latitude));return a!==0?a:De(Oe(o.longitude),Oe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return yA(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,R=(u=g.value)===null||u===void 0?void 0:u.arrayValue,P=De(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=R?.values)===null||h===void 0?void 0:h.length)||0);return P!==0?P:yA(v,R)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Dh.mapValue&&s===Dh.mapValue)return 0;if(o===Dh.mapValue)return 1;if(s===Dh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=De(u[p],h[p]);if(g!==0)return g;let v=Bs(a[u[p]],l[h[p]]);if(v!==0)return v}return De(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ne()}}function gA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);let n=Rr(t),r=Rr(e),i=De(n.seconds,r.seconds);return i!==0?i:De(n.nanos,r.nanos)}function yA(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Bs(n[i],r[i]);if(o)return o}return De(n.length,r.length)}function $s(t){return r_(t)}function r_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Rr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return mi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=r_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${r_(n.fields[s])}`;return i+"}"}(t.mapValue):ne()}function i_(t){return!!t&&"integerValue"in t}function TI(t){return!!t&&"arrayValue"in t}function vA(t){return!!t&&"nullValue"in t}function _A(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bv(t){return!!t&&"mapValue"in t}function WA(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Uc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Jh(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Uc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function KA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Tr=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uc(n)}setAll(e){let n=vn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Uc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Bv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $n(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Jh(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Uc(this.value))}};var _n=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,se.min(),se.min(),se.min(),Tr.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,se.min(),se.min(),Tr.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,se.min(),se.min(),Tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Hs=class{constructor(e,n){this.position=e,this.inclusive=n}};function IA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Z.comparator(Z.fromName(s.referenceValue),n.key):r=Bs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function wA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$n(t.position[n],e.position[n]))return!1;return!0}var qs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function O$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var xh=class{},et=class t extends xh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new s_(e,n,r):n==="array-contains"?new u_(e,r):n==="in"?new l_(e,r):n==="not-in"?new d_(e,r):n==="array-contains-any"?new h_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new a_(e,r):new c_(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bs(n,this.value)):n!==null&&ho(this.value)===ho(n)&&this.matchesComparison(Bs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Hn=class t extends xh{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return QA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function QA(t){return t.op==="and"}function YA(t){return k$(t)&&QA(t)}function k$(t){for(let e of t.filters)if(e instanceof Hn)return!1;return!0}function o_(t){if(t instanceof et)return t.field.canonicalString()+t.op.toString()+$s(t.value);if(YA(t))return t.filters.map(e=>o_(e)).join(",");{let e=t.filters.map(n=>o_(n)).join(",");return`${t.op}(${e})`}}function ZA(t,e){return t instanceof et?function(r,i){return i instanceof et&&r.op===i.op&&r.field.isEqual(i.field)&&$n(r.value,i.value)}(t,e):t instanceof Hn?function(r,i){return i instanceof Hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&ZA(s,i.filters[a]),!0):!1}(t,e):void ne()}function JA(t){return t instanceof et?function(n){return`${n.field.canonicalString()} ${n.op} ${$s(n.value)}`}(t):t instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(JA).join(" ,")+"}"}(t):"Filter"}var s_=class extends et{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){let n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}},a_=class extends et{constructor(e,n){super(e,"in",n),this.keys=XA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},c_=class extends et{constructor(e,n){super(e,"not-in",n),this.keys=XA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function XA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}var u_=class extends et{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return TI(n)&&Gc(n.arrayValue,this.value)}},l_=class extends et{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Gc(this.value.arrayValue,n)}},d_=class extends et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Gc(this.value.arrayValue,n)}},h_=class extends et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!TI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gc(this.value.arrayValue,r))}};var f_=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function EA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new f_(t,e,n,r,i,o,s)}function SI(t){let e=ge(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>o_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$s(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$s(r)).join(",")),e.ue=n}return e.ue}function AI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!O$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wA(t.startAt,e.startAt)&&wA(t.endAt,e.endAt)}function p_(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var zs=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function F$(t,e,n,r,i,o,s,a){return new zs(t,e,n,r,i,o,s,a)}function eR(t){return new zs(t)}function DA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function V$(t){return t.collectionGroup!==null}function Bc(t){let e=ge(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new bt(vn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new qs(o,r))}),n.has(vn.keyField().canonicalString())||e.ce.push(new qs(vn.keyField(),r))}return e.ce}function Bn(t){let e=ge(t);return e.le||(e.le=L$(e,Bc(t))),e.le}function L$(t,e){if(t.limitType==="F")return EA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new qs(i.field,o)});let n=t.endAt?new Hs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hs(t.startAt.position,t.startAt.inclusive):null;return EA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function m_(t,e,n){return new zs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xh(t,e){return AI(Bn(t),Bn(e))&&t.limitType===e.limitType}function tR(t){return`${SI(Bn(t))}|lt:${t.limitType}`}function Ms(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>JA(i)).join(", ")}]`),Zh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>$s(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>$s(i)).join(",")),`Target(${r})`}(Bn(t))}; limitType=${t.limitType})`}function ef(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Bc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=IA(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Bc(r),i)||r.endAt&&!function(s,a,u){let l=IA(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Bc(r),i))}(t,e)}function j$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nR(t){return(e,n)=>{let r=!1;for(let i of Bc(t)){let o=U$(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function U$(t,e,n){let r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Bs(u,l):ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}var gi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Jh(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return x$(this.inner)}size(){return this.innerSize}};var B$=new Be(Z.comparator);function yi(){return B$}var rR=new Be(Z.comparator);function jc(...t){let e=rR;for(let n of t)e=e.insert(n.key,n);return e}function $$(t){let e=rR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ao(){return $c()}function iR(){return $c()}function $c(){return new gi(t=>t.toString(),(t,e)=>t.isEqual(e))}var s7=new Be(Z.comparator),H$=new bt(Z.comparator);function ve(...t){let e=H$;for(let n of t)e=e.add(n);return e}var q$=new bt(De);function z$(){return q$}function G$(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function W$(t){return{integerValue:""+t}}var Gs=class{constructor(){this._=void 0}};function K$(t,e,n){return t instanceof Wc?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&CI(o)&&(o=bI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ws?oR(t,e):t instanceof Ks?sR(t,e):function(i,o){let s=Y$(i,o),a=CA(s)+CA(i.Pe);return i_(s)&&i_(i.Pe)?W$(a):G$(i.serializer,a)}(t,e)}function Q$(t,e,n){return t instanceof Ws?oR(t,e):t instanceof Ks?sR(t,e):n}function Y$(t,e){return t instanceof Kc?function(r){return i_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Wc=class extends Gs{},Ws=class extends Gs{constructor(e){super(),this.elements=e}};function oR(t,e){let n=aR(e);for(let r of t.elements)n.some(i=>$n(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ks=class extends Gs{constructor(e){super(),this.elements=e}};function sR(t,e){let n=aR(e);for(let r of t.elements)n=n.filter(i=>!$n(i,r));return{arrayValue:{values:n}}}var Kc=class extends Gs{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function CA(t){return Oe(t.integerValue||t.doubleValue)}function aR(t){return TI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Z$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ws&&i instanceof Ws||r instanceof Ks&&i instanceof Ks?Us(r.elements,i.elements,$n):r instanceof Kc&&i instanceof Kc?$n(r.Pe,i.Pe):r instanceof Wc&&i instanceof Wc}(t.transform,e.transform)}var Hc=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function bh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Qc=class{};function cR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new g_(t.key,Hc.none()):new Yc(t.key,t.data,Hc.none());{let n=t.data,r=Tr.empty(),i=new bt(vn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Qs(t.key,r,new so(i.toArray()),Hc.none())}}function J$(t,e,n){t instanceof Yc?function(i,o,s){let a=i.value.clone(),u=TA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Qs?function(i,o,s){if(!bh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=TA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(uR(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function qc(t,e,n,r){return t instanceof Yc?function(o,s,a,u){if(!bh(o.precondition,s))return a;let l=o.value.clone(),h=SA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qs?function(o,s,a,u){if(!bh(o.precondition,s))return a;let l=SA(o.fieldTransforms,u,s),h=s.data;return h.setAll(uR(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return bh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function bA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Us(r,i,(o,s)=>Z$(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Yc=class extends Qc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Qs=class extends Qc{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function uR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function TA(t,e,n){let r=new Map;Ue(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Q$(s,a,n[i]))}return r}function SA(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,K$(o,s,e))}return r}var g_=class extends Qc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var y_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&J$(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=qc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=qc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=iR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=cR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&Us(this.mutations,e.mutations,(n,r)=>bA(n,r))&&Us(this.baseMutations,e.baseMutations,(n,r)=>bA(n,r))}};var v_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var __=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ze,me;function lR(t){if(t===void 0)return Ar("GRPC error has no .code"),L.UNKNOWN;switch(t){case ze.OK:return L.OK;case ze.CANCELLED:return L.CANCELLED;case ze.UNKNOWN:return L.UNKNOWN;case ze.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case ze.INTERNAL:return L.INTERNAL;case ze.UNAVAILABLE:return L.UNAVAILABLE;case ze.UNAUTHENTICATED:return L.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case ze.NOT_FOUND:return L.NOT_FOUND;case ze.ALREADY_EXISTS:return L.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return L.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case ze.ABORTED:return L.ABORTED;case ze.OUT_OF_RANGE:return L.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return L.UNIMPLEMENTED;case ze.DATA_LOSS:return L.DATA_LOSS;default:return ne()}}(me=ze||(ze={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";var AA=null;function X$(){return new TextEncoder}var eH=new pi([4294967295,4294967295],0);function RA(t){let e=X$().encode(t),n=new kv;return n.update(e),new Uint8Array(n.digest())}function MA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new pi([n,r],0),new pi([i,o],0)]}var I_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new co(`Invalid padding: ${n}`);if(r<0)throw new co(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new co(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new co(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=pi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(pi.fromNumber(r)));return i.compare(eH)===1&&(i=new pi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=RA(e),[r,i]=MA(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=RA(e),[r,i]=MA(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},co=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ph=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Zc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(se.min(),i,new Be(De),yi(),ve())}},Zc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ve(),ve(),ve())}};var ks=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Oh=class{constructor(e,n){this.targetId=e,this.me=n}},kh=class{constructor(e,n,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Fh=class{constructor(){this.fe=0,this.ge=xA(),this.pe=Tt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ve(),n=ve(),r=ve();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new Zc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=xA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},w_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=yi(),this.qe=NA(),this.Qe=new Be(De)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(p_(o))if(r===0){let s=new Z(o.path);this.Ue(n,s,_n.newNoDocument(s,se.min()))}else Ue(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}AA?.et(function(h,p,g,v,R){var P,x,j,G,W,re;let Ne={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},ee=p.unchangedNames;return ee&&(Ne.bloomFilter={applied:R===0,hashCount:(P=ee?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(G=(j=(x=ee?.bits)===null||x===void 0?void 0:x.bitmap)===null||j===void 0?void 0:j.length)!==null&&G!==void 0?G:0,padding:(re=(W=ee?.bits)===null||W===void 0?void 0:W.padding)!==null&&re!==void 0?re:0,mightContain:D=>{var y;return(y=v?.mightContain(D))!==null&&y!==void 0&&y}}),Ne}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=mi(r).toUint8Array()}catch(u){if(u instanceof Mh)return js("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new I_(s,i,o)}catch(u){return js(u instanceof co?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&p_(a.target)){let u=new Z(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,_n.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ve();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Ph(e,n,this.Qe,this.ke,r);return this.ke=yi(),this.qe=NA(),this.Qe=new Be(De),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Fh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new bt(De),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Fh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function NA(){return new Be(Z.comparator)}function xA(){return new Be(Z.comparator)}var tH={asc:"ASCENDING",desc:"DESCENDING"},nH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rH={and:"AND",or:"OR"},E_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function D_(t,e){return t.useProto3Json||Zh(e)?e:{value:e}}function iH(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oH(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Fs(t){return Ue(!!t),se.fromTimestamp(function(n){let r=Rr(n);return new sn(r.seconds,r.nanos)}(t))}function sH(t,e){return C_(t,e).canonicalString()}function C_(t,e){let n=function(i){return new We(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function dR(t){let e=We.fromString(t);return Ue(gR(e)),e}function $v(t,e){let n=dR(e);if(n.get(1)!==t.databaseId.projectId)throw new z(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new z(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(fR(n))}function hR(t,e){return sH(t.databaseId,e)}function aH(t){let e=dR(t);return e.length===4?We.emptyPath():fR(e)}function PA(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fR(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function cH(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ue(h===void 0||typeof h=="string"),Tt.fromBase64String(h||"")):(Ue(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Tt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?L.UNKNOWN:lR(l.code);return new z(h,l.message||"")}(s);n=new kh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=$v(t,r.document.name),o=Fs(r.document.updateTime),s=r.document.createTime?Fs(r.document.createTime):se.min(),a=new Tr({mapValue:{fields:r.document.fields}}),u=_n.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new ks(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=$v(t,r.document),o=r.readTime?Fs(r.readTime):se.min(),s=_n.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ks([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=$v(t,r.document),o=r.removedTargetIds||[];n=new ks([],o,i,null)}else{if(!("filter"in e))return ne();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new __(i,o),a=r.targetId;n=new Oh(a,s)}}return n}function uH(t,e){return{documents:[hR(t,e.path)]}}function lH(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hR(t,i);let o=function(l){if(l.length!==0)return mR(Hn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:Ns(g.field),direction:fH(g.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=D_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function dH(t){let e=aH(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ue(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let g=pR(p);return g instanceof Hn&&YA(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(R){return new qs(xs(R.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,Zh(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){let g=!!p.before,v=p.values||[];return new Hs(v,g)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let g=!p.before,v=p.values||[];return new Hs(v,g)}(n.endAt)),F$(e,i,s,o,a,"F",u,l)}function hH(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=xs(n.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=xs(n.unaryFilter.field);return et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=xs(n.unaryFilter.field);return et.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=xs(n.unaryFilter.field);return et.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):t.fieldFilter!==void 0?function(n){return et.create(xs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Hn.create(n.compositeFilter.filters.map(r=>pR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(t):ne()}function fH(t){return tH[t]}function pH(t){return nH[t]}function mH(t){return rH[t]}function Ns(t){return{fieldPath:t.canonicalString()}}function xs(t){return vn.fromServerFormat(t.fieldPath)}function mR(t){return t instanceof et?function(n){if(n.op==="=="){if(_A(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NAN"}};if(vA(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_A(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NOT_NAN"}};if(vA(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ns(n.field),op:pH(n.op),value:n.value}}}(t):t instanceof Hn?function(n){let r=n.getFilters().map(i=>mR(i));return r.length===1?r[0]:{compositeFilter:{op:mH(n.op),filters:r}}}(t):ne()}function gR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Jc=class t{constructor(e,n,r,i,o=se.min(),s=se.min(),a=Tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var b_=class{constructor(e){this.ct=e}};function gH(t){let e=dH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?m_(e,e.limit,"L"):e}var Vh=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Oe(e.integerValue));else if("doubleValue"in e){let r=Oe(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Ah(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Rr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(mi(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?KA(e)?this.dt(n,Number.MAX_SAFE_INTEGER):WA(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ne()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Oe(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),Z.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Vh.vt=new Vh;var T_=class{constructor(){this.un=new S_}addToCollectionParentIndex(e,n){return this.un.add(n),k.resolve()}getCollectionParents(e,n){return k.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return k.resolve()}deleteFieldIndex(e,n){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,n){return k.resolve()}getDocumentsMatchingTarget(e,n){return k.resolve(null)}getIndexType(e,n){return k.resolve(0)}getFieldIndexes(e,n){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,n){return k.resolve(lo.min())}getMinOffsetFromCollectionGroup(e,n){return k.resolve(lo.min())}updateCollectionGroup(e,n,r){return k.resolve()}updateIndexEntries(e,n){return k.resolve()}},S_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new bt(We.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bt(We.comparator)).toArray()}};var a7=new Uint8Array(0);var jn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(41943040,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);var Xc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var A_=class{constructor(){this.changes=new gi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?k.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var R_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var M_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&qc(r.mutation,i,so.empty(),sn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){let i=ao();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=jc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=ao();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=yi(),s=$c(),a=function(){return $c()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Qs)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),qc(h.mutation,l,h.mutation.getFieldMask(),sn.now())):s.set(l.key,so.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new R_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=$c(),i=new Be((s,a)=>s-a),o=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||so.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ve()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=iR();h.forEach(g=>{if(!o.has(g)){let v=cR(n.get(g),r.get(g));v!==null&&p.set(g,v),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):V$(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):k.resolve(ao()),a=-1,u=o;return s.next(l=>k.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?k.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ve())).next(h=>({batchId:a,changes:$$(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let i=jc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=jc();return this.indexManager.getCollectionParents(e,o).next(a=>k.forEach(a,u=>{let l=function(p,g){return new zs(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,_n.newInvalidDocument(h)))});let a=jc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&qc(h.mutation,l,so.empty(),sn.now()),ef(n,l)&&(a=a.insert(u,l))}),a})}};var N_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return k.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Fs(i.createTime)}}(n)),k.resolve()}getNamedQuery(e,n){return k.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:gH(i.bundledQuery),readTime:Fs(i.readTime)}}(n)),k.resolve()}};var x_=class{constructor(){this.overlays=new Be(Z.comparator),this.Ir=new Map}getOverlay(e,n){return k.resolve(this.overlays.get(n))}getOverlays(e,n){let r=ao();return k.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),k.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),k.resolve()}getOverlaysForCollection(e,n,r){let i=ao(),o=n.length+1,s=new Z(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return k.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Be((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=ao(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=ao(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return k.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new v_(n,r));let o=this.Ir.get(n);o===void 0&&(o=ve(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var P_=class{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,k.resolve()}};var eu=class{constructor(){this.Tr=new bt(Ge.Er),this.dr=new bt(Ge.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Ge(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ge(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new Z(new We([])),r=new Ge(n,e),i=new Ge(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new Z(new We([])),r=new Ge(n,e),i=new Ge(n,e+1),o=ve();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ge(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ge=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Z.comparator(e.key,n.key)||De(e.wr,n.wr)}static Ar(e,n){return De(e.wr,n.wr)||Z.comparator(e.key,n.key)}};var O_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new bt(Ge.Er)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new y_(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Ge(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,n){return k.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ge(n,0),i=new Ge(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bt(De);return n.forEach(i=>{let o=new Ge(i,0),s=new Ge(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),k.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;Z.isDocumentKey(o)||(o=o.child(""));let s=new Ge(new Z(o),0),a=new bt(De);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),k.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ue(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return k.forEach(n.mutations,i=>{let o=new Ge(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Ge(n,0),i=this.br.firstAfterOrEqual(r);return k.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var k_=class{constructor(e){this.Mr=e,this.docs=function(){return new Be(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return k.resolve(r?r.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let r=yi();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():_n.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=yi(),s=n.path,a=new Z(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||b$(C$(h),r)<=0||(i.has(h.key)||ef(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ne()}Or(e,n){return k.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new F_(this)}getSize(e){return k.resolve(this.size)}},F_=class extends A_{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),k.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var V_=class{constructor(e){this.persistence=e,this.Nr=new gi(n=>SI(n),AI),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new eu,this.targetCount=0,this.kr=Xc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),k.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Xc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,k.resolve()}updateTargetData(e,n){return this.Kn(n),k.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(o).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return k.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),k.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),k.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return k.resolve(r)}containsKey(e,n){return k.resolve(this.Br.containsKey(n))}};var L_=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new GA(0),this.Kr=!1,this.Kr=!0,this.$r=new P_,this.referenceDelegate=e(this),this.Ur=new V_(this),this.indexManager=new T_,this.remoteDocumentCache=function(i){return new k_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new b_(n),this.Gr=new N_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new x_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new O_(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);let i=new j_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return k.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},j_=class extends t_{constructor(e){super(),this.currentSequenceNumber=e}},U_=class t{constructor(e){this.persistence=e,this.Jr=new eu,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ne()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),k.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),k.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Xr,r=>{let i=Z.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return k.or([()=>k.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var B_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ve(),i=ve();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var $_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var H_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return wT()?8:S$(at())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new $_;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Lc()<=he.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Ms(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),k.resolve()):(Lc()<=he.DEBUG&&U("QueryEngine","Query:",Ms(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Lc()<=he.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Ms(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bn(n))):k.resolve())}Yi(e,n){if(DA(n))return k.resolve(null);let r=Bn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=m_(n,null,"F"),r=Bn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ve(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,m_(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return DA(n)||i.isEqual(se.min())?k.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?k.resolve(null):(Lc()<=he.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ms(n)),this.rs(e,s,n,D$(i,-1)).next(a=>a))})}ts(e,n){let r=new bt(nR(e));return n.forEach((i,o)=>{ef(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Lc()<=he.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Ms(n)),this.Ji.getDocumentsMatchingQuery(e,n,lo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var q_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Be(De),this._s=new gi(o=>SI(o),AI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function yH(t,e,n,r){return new q_(t,e,n,r)}function yR(t,e){return w(this,null,function*(){let n=ge(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ve();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function vR(t){let e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function vH(t,e){let n=ge(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let v=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Tt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(P,x,j){return P.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(g,v,h)&&a.push(n.Ur.updateTargetData(o,v))});let u=yi(),l=ve();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(_H(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(se.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function _H(t,e,n){let r=ve(),i=ve();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=yi();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function IH(t,e){let n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,k.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Jc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function z_(t,e,n){return w(this,null,function*(){let r=ge(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!nu(s))throw s;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function OA(t,e,n){let r=ge(t),i=se.min(),o=ve();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ge(u),g=p._s.get(h);return g!==void 0?k.resolve(p.os.get(g)):p.Ur.getTargetData(l,h)}(r,s,Bn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:se.min(),n?o:ve())).next(a=>(wH(r,j$(e),a),{documents:a,Ts:o})))}function wH(t,e,n){let r=t.us.get(e)||se.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Lh=class{constructor(){this.activeTargetIds=z$()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var G_=class{constructor(){this.so=new Lh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Lh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var W_=class{_o(e){}shutdown(){}};var jh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ch=null;function Hv(){return Ch===null?Ch=function(){return 268435456+Math.round(2147483648*Math.random())}():Ch++,"0x"+Ch.toString(16)}var EH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var K_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ct="WebChannelConnection",Q_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=Hv(),u=this.xo(n,r.toUriEncodedString());U("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(U("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw js("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Js}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=EH[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=Hv();return new Promise((s,a)=>{let u=new Fv;u.setWithCredentials(!0),u.listenOnce(Vv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Vc.NO_ERROR:let h=u.getResponseJson();U(Ct,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Vc.TIMEOUT:U(Ct,`RPC '${e}' ${o} timed out`),a(new z(L.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:let p=u.getStatus();if(U(Ct,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);let v=g?.error;if(v&&v.status&&v.message){let R=function(x){let j=x.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(j)>=0?j:L.UNKNOWN}(v.status);a(new z(R,v.message))}else a(new z(L.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new z(L.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{U(Ct,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);U(Ct,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Hv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Uv(),a=jv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");U(Ct,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),g=!1,v=!1,R=new K_({Io:x=>{v?U(Ct,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(g||(U(Ct,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),U(Ct,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},To:()=>p.close()}),P=(x,j,G)=>{x.listen(j,W=>{try{G(W)}catch(re){setTimeout(()=>{throw re},0)}})};return P(p,Rs.EventType.OPEN,()=>{v||(U(Ct,`RPC '${e}' stream ${i} transport opened.`),R.yo())}),P(p,Rs.EventType.CLOSE,()=>{v||(v=!0,U(Ct,`RPC '${e}' stream ${i} transport closed`),R.So())}),P(p,Rs.EventType.ERROR,x=>{v||(v=!0,js(Ct,`RPC '${e}' stream ${i} transport errored:`,x),R.So(new z(L.UNAVAILABLE,"The operation could not be completed")))}),P(p,Rs.EventType.MESSAGE,x=>{var j;if(!v){let G=x.data[0];Ue(!!G);let W=G,re=W.error||((j=W[0])===null||j===void 0?void 0:j.error);if(re){U(Ct,`RPC '${e}' stream ${i} received error:`,re);let Ne=re.status,ee=function(_){let E=ze[_];if(E!==void 0)return lR(E)}(Ne),D=re.message;ee===void 0&&(ee=L.INTERNAL,D="Unknown error status: "+Ne+" with message "+re.message),v=!0,R.So(new z(ee,D)),p.close()}else U(Ct,`RPC '${e}' stream ${i} received:`,G),R.bo(G)}}),P(a,Lv.STAT_EVENT,x=>{x.stat===Eh.PROXY?U(Ct,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Eh.NOPROXY&&U(Ct,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{R.wo()},0),R}};function qv(){return typeof document<"u"?document:null}function _R(t){return new E_(t,!0)}var Uh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Y_=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Uh(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(Ar(n.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new z(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Z_=class extends Y_{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=cH(this.serializer,e),r=function(o){if(!("targetChange"in o))return se.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?Fs(s.readTime):se.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=PA(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=p_(u)?{documents:uH(o,u)}:{query:lH(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=oH(o,s.resumeToken);let l=D_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(se.min())>0){a.readTime=iH(o,s.snapshotVersion.toTimestamp());let l=D_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=hH(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=PA(this.serializer),n.removeTarget=e,this.a_(n)}};var J_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new z(L.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,C_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(L.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,C_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(L.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},X_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ar(n),this.D_=!1):U("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var eI=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>w(this,null,function*(){iu(this)&&(U("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=ge(u);l.L_.add(4),yield ru(l),l.q_.set("Unknown"),l.L_.delete(4),yield tf(l)})}(this))}))}),this.q_=new X_(r,i)}};function tf(t){return w(this,null,function*(){if(iu(t))for(let e of t.B_)yield e(!0)})}function ru(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function IR(t,e){let n=ge(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),xI(n)?NI(n):Xs(n).r_()&&MI(n,e))}function RI(t,e){let n=ge(t),r=Xs(n);n.N_.delete(e),r.r_()&&wR(n,e),n.N_.size===0&&(r.r_()?r.o_():iu(n)&&n.q_.set("Unknown"))}function MI(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xs(t).A_(e)}function wR(t,e){t.Q_.xe(e),Xs(t).R_(e)}function NI(t){t.Q_=new w_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Xs(t).start(),t.q_.v_()}function xI(t){return iu(t)&&!Xs(t).n_()&&t.N_.size>0}function iu(t){return ge(t).L_.size===0}function ER(t){t.Q_=void 0}function DH(t){return w(this,null,function*(){t.q_.set("Online")})}function CH(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{MI(t,e)})})}function bH(t,e){return w(this,null,function*(){ER(t),xI(t)?(t.q_.M_(e),NI(t)):t.q_.set("Unknown")})}function TH(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof kh&&e.state===2&&e.cause)try{yield function(i,o){return w(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield kA(t,r)}else if(e instanceof ks?t.Q_.Ke(e):e instanceof Oh?t.Q_.He(e):t.Q_.We(e),!n.isEqual(se.min()))try{let r=yield vR(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Tt.EMPTY_BYTE_STRING,h.snapshotVersion)),wR(o,u);let p=new Jc(h.target,u,l,h.sequenceNumber);MI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){U("RemoteStore","Failed to raise snapshot:",r),yield kA(t,r)}})}function kA(t,e,n){return w(this,null,function*(){if(!nu(e))throw e;t.L_.add(1),yield ru(t),t.q_.set("Offline"),n||(n=()=>vR(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){U("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield tf(t)}))})}function FA(t,e){return w(this,null,function*(){let n=ge(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");let r=iu(n);n.L_.add(3),yield ru(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield tf(n)})}function SH(t,e){return w(this,null,function*(){let n=ge(t);e?(n.L_.delete(2),yield tf(n)):e||(n.L_.add(2),yield ru(n),n.q_.set("Unknown"))})}function Xs(t){return t.K_||(t.K_=function(n,r,i){let o=ge(n);return o.w_(),new Z_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:DH.bind(null,t),Ro:CH.bind(null,t),mo:bH.bind(null,t),d_:TH.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),xI(t)?NI(t):t.q_.set("Unknown")):(yield t.K_.stop(),ER(t))}))),t.K_}var tI=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function DR(t,e){if(Ar("AsyncQueue",`${e}: ${t}`),nu(t))return new z(L.UNAVAILABLE,`${e}: ${t}`);throw t}var Bh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=jc(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var $h=class{constructor(){this.W_=new Be(Z.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ne():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Ys=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Bh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var nI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},rI=class{constructor(){this.queries=VA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ge(n),o=i.queries;i.queries=VA(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new z(L.ABORTED,"Firestore shutting down"))}};function VA(){return new gi(t=>tR(t),Xh)}function AH(t,e){return w(this,null,function*(){let n=ge(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new nI,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=DR(s,`Initialization of query '${Ms(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&PI(n)})}function RH(t,e){return w(this,null,function*(){let n=ge(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function MH(t,e){let n=ge(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&PI(n)}function NH(t,e,n){let r=ge(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function PI(t){t.Y_.forEach(e=>{e.next()})}var iI,LA;(LA=iI||(iI={})).ea="default",LA.Cache="cache";var oI=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ys(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ys.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==iI.Cache}};var Hh=class{constructor(e){this.key=e}},qh=class{constructor(e){this.key=e}},sI=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ve(),this.mutatedKeys=ve(),this.Aa=nR(e),this.Ra=new Bh(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new $h,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),v=ef(this.query,p)?p:null,R=!!g&&this.mutatedKeys.has(g.key),P=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),x=!1;g&&v?g.data.isEqual(v.data)?R!==P&&(r.track({type:3,doc:v}),x=!0):this.ga(g,v)||(r.track({type:2,doc:v}),x=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!g&&v?(r.track({type:0,doc:v}),x=!0):g&&!v&&(r.track({type:1,doc:g}),x=!0,(u||l)&&(a=!0)),x&&(v?(s=s.add(v),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(v,R){let P=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return P(v)-P(R)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Ys(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new $h,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ve(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new qh(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Hh(r))}),n}ba(e){this.Ta=e.Ts,this.da=ve();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ys.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},aI=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},cI=class{constructor(e){this.key=e,this.va=!1}},uI=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new gi(a=>tR(a),Xh),this.Ma=new Map,this.xa=new Set,this.Oa=new Be(Z.comparator),this.Na=new Map,this.La=new eu,this.Ba={},this.ka=new Map,this.qa=Xc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function xH(t,e,n=!0){return w(this,null,function*(){let r=AR(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield CR(r,e,n,!0),i})}function PH(t,e){return w(this,null,function*(){let n=AR(t);yield CR(n,e,!0,!1)})}function CR(t,e,n,r){return w(this,null,function*(){let i=yield IH(t.localStore,Bn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield OH(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&IR(t.remoteStore,i),a})}function OH(t,e,n,r,i){return w(this,null,function*(){t.Ka=(p,g,v)=>function(P,x,j,G){return w(this,null,function*(){let W=x.view.ma(j);W.ns&&(W=yield OA(P.localStore,x.query,!1).then(({documents:D})=>x.view.ma(D,W)));let re=G&&G.targetChanges.get(x.targetId),Ne=G&&G.targetMismatches.get(x.targetId)!=null,ee=x.view.applyChanges(W,P.isPrimaryClient,re,Ne);return UA(P,x.targetId,ee.wa),ee.snapshot})}(t,p,g,v);let o=yield OA(t.localStore,e,!0),s=new sI(e,o.Ts),a=s.ma(o.documents),u=Zc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);UA(t,n,l.wa);let h=new aI(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function kH(t,e,n){return w(this,null,function*(){let r=ge(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Xh(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield z_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&RI(r.remoteStore,i.targetId),lI(r,i.targetId)}).catch(DI))):(lI(r,i.targetId),yield z_(r.localStore,i.targetId,!0))})}function FH(t,e){return w(this,null,function*(){let n=ge(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),RI(n.remoteStore,r.targetId))})}function bR(t,e){return w(this,null,function*(){let n=ge(t);try{let r=yield vH(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ue(s.va):i.removedDocuments.size>0&&(Ue(s.va),s.va=!1))}),yield SR(n,r,e)}catch(r){yield DI(r)}})}function jA(t,e,n){let r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ge(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.j_)g.Z_(a)&&(l=!0)}),l&&PI(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function VH(t,e,n){return w(this,null,function*(){let r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Be(Z.comparator);s=s.insert(o,_n.newNoDocument(o,se.min()));let a=ve().add(o),u=new Ph(se.min(),new Map,new Be(De),s,a);yield bR(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),OI(r)}else yield z_(r.localStore,e,!1).then(()=>lI(r,e,n)).catch(DI)})}function lI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||TR(t,r)})}function TR(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(RI(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),OI(t))}function UA(t,e,n){for(let r of n)r instanceof Hh?(t.La.addReference(r.key,e),LH(t,r)):r instanceof qh?(U("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||TR(t,r.key)):ne()}function LH(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(U("SyncEngine","New document in limbo: "+n),t.xa.add(r),OI(t))}function OI(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new Z(We.fromString(e)),r=t.qa.next();t.Na.set(r,new cI(n)),t.Oa=t.Oa.insert(n,r),IR(t.remoteStore,new Jc(Bn(eR(n.path)),r,"TargetPurposeLimboResolution",GA.oe))}}function SR(t,e,n){return w(this,null,function*(){let r=ge(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=B_.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=ge(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(l,g=>k.forEach(g.$i,v=>h.persistence.referenceDelegate.addReference(p,g.targetId,v)).next(()=>k.forEach(g.Ui,v=>h.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))}catch(p){if(!nu(p))throw p;U("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let v=h.os.get(g),R=v.snapshotVersion,P=v.withLastLimboFreeSnapshotVersion(R);h.os=h.os.insert(g,P)}}})}(r.localStore,o))})}function jH(t,e){return w(this,null,function*(){let n=ge(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());let r=yield yR(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new z(L.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield SR(n,r.hs)}})}function UH(t,e){let n=ge(t),r=n.Na.get(e);if(r&&r.va)return ve().add(r.key);{let i=ve(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function AR(t){let e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VH.bind(null,e),e.Ca.d_=MH.bind(null,e.eventManager),e.Ca.$a=NH.bind(null,e.eventManager),e}var BA=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return w(this,null,function*(){this.serializer=_R(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return yH(this.persistence,new H_,n.initialUser,this.serializer)}Ga(n){return new L_(U_.Zr,this.serializer)}Wa(n){return new G_}terminate(){return w(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var BH=(()=>{class t{initialize(n,r){return w(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>jA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=jH.bind(null,this.syncEngine),yield SH(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new rI}()}createDatastore(n){let r=_R(n.databaseInfo.databaseId),i=function(s){return new Q_(s)}(n.databaseInfo);return function(s,a,u,l){return new J_(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new eI(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>jA(this.syncEngine,r,0),function(){return jh.D()?new jh:new W_}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let g=new uI(o,s,a,u,l,h);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){var n,r;yield function(o){return w(this,null,function*(){let s=ge(o);U("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield ru(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var dI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var hI=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ct.UNAUTHENTICATED,this.clientId=Xv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>w(this,null,function*(){U("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(U("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=DR(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function zv(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield yR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function $A(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield $H(t);U("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>FA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>FA(e.remoteStore,i)),t._onlineComponents=e})}function $H(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield zv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;js("Error using user provided cache. Falling back to memory cache: "+n),yield zv(t,new BA)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield zv(t,new BA);return t._offlineComponents})}function HH(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield $A(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield $A(t,new BH))),t._onlineComponents})}function qH(t){return w(this,null,function*(){let e=yield HH(t),n=e.eventManager;return n.onListen=xH.bind(null,e.syncEngine),n.onUnlisten=kH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=PH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FH.bind(null,e.syncEngine),n})}function zH(t,e,n={}){let r=new Sr;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(o,s,a,u,l){let h=new dI({next:g=>{h.Za(),s.enqueueAndForget(()=>RH(o,p)),g.fromCache&&u.source==="server"?l.reject(new z(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new oI(a,h,{includeMetadataChanges:!0,_a:!0});return AH(o,p)}(yield qH(t),t.asyncQueue,e,n,r)})),r.promise}function RR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var HA=new Map;function GH(t,e,n){if(!n)throw new z(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function WH(t,e,n,r){if(e===!0&&r===!0)throw new z(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qA(t){if(Z.isDocumentKey(t))throw new z(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function KH(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne()}function fI(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new z(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=KH(t);throw new z(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var zh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new z(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new z(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new z(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},tu=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zh({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new z(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new z(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Gv;switch(r.type){case"firstParty":return new Yv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=HA.get(n);r&&(U("ComponentProvider","Removing Datastore"),HA.delete(n),r.terminate())}(this),Promise.resolve()}};function MR(t,e,n,r={}){var i;let o=(t=fI(t,tu))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=ct.MOCK_USER;else{a=mT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new z(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ct(l)}t._authCredentials=new Wv(new Th(a,u))}}var Gh=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Zs=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Vs=class t extends Gh{constructor(e,n,r){super(e,n,eR(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Zs(this.firestore,null,new Z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function NR(t,e,...n){if(t=mn(t),GH("collection","path",e),t instanceof tu){let r=We.fromString(e,...n);return qA(r),new Vs(t,null,r)}{if(!(t instanceof Zs||t instanceof Vs))throw new z(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(We.fromString(e,...n));return qA(r),new Vs(t.firestore,null,r)}}var Wh=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Uh(this,"async_queue_retry"),this.Vu=()=>{let r=qv();r&&U("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=qv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=qv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Sr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return w(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!nu(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Ar("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=tI.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ne()}verifyOperationInProgress(){}wu(){return w(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var Kh=class extends tu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Wh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Wh(e),this._firestoreClient=void 0,yield e}})}};function xR(t,e){let n=typeof t=="object"?t:vs(),r=typeof t=="string"?t:e||"(default)",i=_c(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=pT("firestore");o&&MR(i,...o)}return i}function QH(t){if(t._terminated)throw new z(L.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||YH(t),t._firestoreClient}function YH(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new n_(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,RR(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new hI(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var pI=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Tt.fromBase64String(e))}catch(n){throw new z(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Qh=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new z(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var mI=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new z(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new z(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}};var gI=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var ZH=new RegExp("[~\\*/\\[\\]]");function JH(t,e,n){if(e.search(ZH)>=0)throw zA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qh(...e.split("."))._internalPath}catch{throw zA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zA(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new z(L.INVALID_ARGUMENT,a+t+u)}var Yh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Zs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new yI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(PR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},yI=class extends Yh{data(){return super.data()}};function PR(t,e){return typeof e=="string"?JH(t,e):e instanceof Qh?e._internalPath:e._delegate._internalPath}function XH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new z(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var vI=class{convertValue(e,n="none"){switch(ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Jh(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Oe(s.doubleValue));return new gI(o)}convertGeoPoint(e){return new mI(Oe(e.latitude),Oe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=bI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zc(e));default:return null}}convertTimestamp(e){let n=Rr(e);return new sn(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=We.fromString(e);Ue(gR(r));let i=new Nh(r.get(1),r.get(3)),o=new Z(r.popFirst(5));return i.isEqual(n)||Ar(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};var Os=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},_I=class extends Yh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ls(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(PR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ls=class extends _I{data(e={}){return super.data(e)}},II=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Os(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ls(this._firestore,this._userDataWriter,r.key,r,new Os(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Ls(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Os(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Ls(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Os(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:e4(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function e4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}var wI=class extends vI{constructor(e){super(),this.firestore=e}convertBytes(e){return new pI(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zs(this.firestore,null,n)}};function OR(t){t=fI(t,Gh);let e=fI(t.firestore,Kh),n=QH(e),r=new wI(e);return XH(t._query),zH(n,t._query).then(i=>new II(e,r,t,i))}(function(e,n=!0){(function(i){Js=i})(si),oi(new on("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Kh(new Kv(r.getProvider("auth-internal")),new Jv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new z(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Xe(pA,"4.7.3",e),Xe(pA,"4.7.3","esm2017")})();var fo=class{constructor(e){return e}},kR="firestore",kI=class{constructor(){return Ic(kR)}};var FI=new B("angularfire2.firestore-instances");function t4(t,e){let n=Hd(kR,t,e);return n&&new fo(n)}function n4(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new fo(r)}}var r4={provide:kI,deps:[[new _t,FI]]},i4={provide:fo,useFactory:t4,deps:[[new _t,FI],vr]};function FR(t,...e){return Xe("angularfire",Ji.full,"fst"),Rn([i4,r4,{provide:FI,useFactory:n4(t),multi:!0,deps:[Ce,dt,ws,Xi,[new _t,Ac],[new _t,Is],...e]}])}var VR=yn(NR,!0);var LR=yn(OR,!0);var jR=yn(xR,!0);var nf=class t{firebaseFirestore=O(fo);getCollection(e){return w(this,null,function*(){return(yield LR(VR(this.firebaseFirestore,e))).docs.map(r=>r.data())})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};function s4(t,e){if(t&1&&(T(0,"tr")(1,"td"),N(2),S(),T(3,"td"),N(4),S(),T(5,"td"),N(6),sr(7,"phoneMask"),S()()),t&2){let n=e.$implicit;X(2),ht(n.name),X(2),ht(n.email),X(2),ht(RC(7,3,n.phone))}}var rf=class t{constructor(e,n){this.route=e;this.firestoreService=n;console.log(this.route.snapshot)}devedores=[];nome="";email="";telefone="";ngOnInit(){this.carregarDevedores()}carregarDevedores(){return w(this,null,function*(){try{this.devedores=yield this.firestoreService.getCollection("devedores"),console.log("Devedores:",this.devedores)}catch(e){console.error("Erro ao carregar devedores:",e)}})}adicionarPessoa(){}limparFormulario(){this.nome="",this.email="",this.telefone=""}static \u0275fac=function(n){return new(n||t)(q(On),q(nf))};static \u0275cmp=nt({type:t,selectors:[["app-pessoa"]],standalone:!0,features:[ot],decls:46,vars:4,consts:[[1,"container","p-4"],["data-bs-toggle","modal","data-bs-target","#minhaModal",1,"btn","btn-primary"],[1,"container"],[1,"p-4","border-0","shadow","mt-3","w40"],[1,"d-flex","justify-content-between"],[1,"me-2",3,"click"],[1,"bi","bi-arrow-clockwise",2,"font-size","larger"],[1,"table","table-sm","table-hover"],[1,"table-dark"],[4,"ngFor","ngForOf"],["id","minhaModal",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body"],[1,"form-label"],["for","inputName",1,"form-label"],["name","inputName","type","text","id","inputName",1,"form-control",3,"ngModelChange","ngModel"],["for","inputEmail",1,"form-label","mt-3"],["name","inputEmail","type","text","id","inputEmail",1,"form-control",3,"ngModelChange","ngModel"],["for","inputPhone",1,"form-label","mt-3"],["name","inputPhone","type","text","id","inputPhone",1,"form-control",3,"ngModelChange","ngModel"],[1,"botoes","mt-3","d-flex","justify-content-between"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-success"],[1,"btn","btn-danger"]],template:function(n,r){n&1&&(T(0,"div",0)(1,"a",1),N(2,"Nova pessoa"),S()(),T(3,"div",2)(4,"div",3)(5,"div",4)(6,"h4"),N(7,"Pessoas"),S(),T(8,"a",5),rt("click",function(){return r.carregarDevedores()}),Pe(9,"i",6),S()(),T(10,"table",7)(11,"thead",8)(12,"tr")(13,"th"),N(14,"Nome"),S(),T(15,"th"),N(16,"E-mail"),S(),T(17,"th"),N(18,"Telefone"),S()()(),T(19,"tbody"),kt(20,s4,8,5,"tr",9),S()()()(),T(21,"div",10)(22,"div",11)(23,"div",12)(24,"div",13)(25,"h6",14),N(26,"Nova pessoa"),S(),Pe(27,"button",15),S(),T(28,"div",16)(29,"form",17)(30,"label",18),N(31,"Nome"),S(),T(32,"input",19),Je("ngModelChange",function(o){return it(r.nome,o)||(r.nome=o),o}),S(),T(33,"label",20),N(34,"E-mail"),S(),T(35,"input",21),Je("ngModelChange",function(o){return it(r.email,o)||(r.email=o),o}),S(),T(36,"label",22),N(37,"Telefone"),S(),T(38,"input",23),Je("ngModelChange",function(o){return it(r.telefone,o)||(r.telefone=o),o}),S(),T(39,"div",24)(40,"button",25),rt("click",function(){return r.adicionarPessoa()}),N(41,"Cadastrar"),S(),T(42,"button",26),N(43,"Editar"),S(),T(44,"button",27),N(45,"Excluir"),S()()()()()()()),n&2&&(X(20),Et("ngForOf",r.devedores),X(12),Ze("ngModel",r.nome),X(3),Ze("ngModel",r.email),X(3),Ze("ngModel",r.telefone))},dependencies:[zt,ns,fi,hi,Ln,li,di,Cr,Dr,Ih],styles:["*[_ngcontent-%COMP%]{font-family:Roboto,sans-serif}.w40[_ngcontent-%COMP%]{border-radius:10px}@media (max-width: 500px){.table[_ngcontent-%COMP%]{font-size:10px}}"]})};var ea={_origin:"https://api.emailjs.com"};var VI=(t,e,n)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};var ou=class{constructor(e){this.status=e.status,this.text=e.responseText}};var LI=(t,e,n={})=>new Promise((r,i)=>{let o=new XMLHttpRequest;o.addEventListener("load",({target:s})=>{let a=new ou(s);a.status===200||a.text==="OK"?r(a):i(a)}),o.addEventListener("error",({target:s})=>{i(new ou(s))}),o.open("POST",ea._origin+t,!0),Object.keys(n).forEach(s=>{o.setRequestHeader(s,n[s])}),o.send(e)});var jI=(t,e,n,r)=>{let i=r||ea._userID;return VI(i,t,e),LI("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})};function c4(t,e){if(t&1&&(T(0,"tr")(1,"td",29),N(2),sr(3,"date"),S(),T(4,"td",29),N(5),S(),T(6,"td",29),N(7),sr(8,"currency"),S(),T(9,"td",29),N(10),S(),T(11,"td",29),N(12),S()()),t&2){let n=e.$implicit;X(2),ht(es(3,5,n.data,"dd/MM/yyyy")),X(3),ht(n.descricao),X(2),ht(es(8,8,n.valor,"BRL")),X(3),ht(n.parcelas),X(2),ht(n.devedor)}}function u4(t,e){if(t&1&&(T(0,"option",30),N(1),S()),t&2){let n=e.$implicit;Et("value",n),X(),or(" ",n," ")}}var of=class t{descricao="";valor=null;data=null;parcelas=null;devedorSelecionado="";devedores=["Alan","Tiffani","Alcione","Rosangela","Valdemar"];compras=[{data:"2020-01-01",descricao:"Tenis Everlast",valor:349,parcelas:6,devedor:"Alan"},{data:"2020-01-01",descricao:"Vestido",valor:89.9,parcelas:2,devedor:"Tiffani"},{data:"2020-01-01",descricao:"Spotify",valor:8.75,parcelas:1,devedor:"Valdemar"},{data:"2020-01-01",descricao:"MeliMais",valor:27.99,parcelas:1,devedor:"Alcione"},{data:"2020-01-01",descricao:"Joelheira",valor:71.35,parcelas:2,devedor:"Tiffani"},{data:"2020-01-01",descricao:"Netflix",valor:44.9,parcelas:1,devedor:"Alan"},{data:"2020-01-01",descricao:"Vestido",valor:89.9,parcelas:2,devedor:"Tiffani"},{data:"2020-01-01",descricao:"Spotify",valor:8.75,parcelas:1,devedor:"Valdemar"},{data:"2020-01-01",descricao:"MeliMais",valor:27.99,parcelas:1,devedor:"Alcione"},{data:"2020-01-01",descricao:"Joelheira",valor:71.35,parcelas:2,devedor:"Tiffani"},{data:"2020-01-01",descricao:"Netflix",valor:44.9,parcelas:1,devedor:"Alan"},{data:"2020-01-01",descricao:"Vestido",valor:89.9,parcelas:2,devedor:"Tiffani"},{data:"2020-01-01",descricao:"Spotify",valor:8.75,parcelas:1,devedor:"Valdemar"},{data:"2020-01-01",descricao:"MeliMais",valor:27.99,parcelas:1,devedor:"Alcione"},{data:"2020-01-01",descricao:"Joelheira",valor:71.35,parcelas:2,devedor:"Tiffani"},{data:"2020-01-01",descricao:"Netflix",valor:44.9,parcelas:1,devedor:"Alan"}];enviarEmail(){let e={to_name:"Alan",message:`
      Descri\xE7\xE3o da compra: ${this.descricao}
      Valor: ${this.valor}
      Data: ${this.data}
      Parcelas: ${this.parcelas}
      Devedor: ${this.devedorSelecionado}
    `};jI("service_5fqwrsh","template_oauxvwx",e,"WAAguCCAu6d6svmvk").then(n=>{console.log(n.text)},n=>{console.log(n.text)}),alert("Compra cadastrada com sucesso!"),this.descricao="",this.valor=null,this.data=null,this.parcelas=null,this.devedorSelecionado=""}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=nt({type:t,selectors:[["app-compra"]],standalone:!0,features:[ot],decls:58,vars:11,consts:[[1,"container","p-4"],["data-bs-toggle","modal","data-bs-target","#minhaModal",1,"btn","btn-primary"],[1,"container","mt-3"],[1,"p-4","border-0","shadow","w40"],[1,"fw-bold"],[1,"table","table-hover","table-sm"],[4,"ngFor","ngForOf"],["id","minhaModal",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],["for","descricao",1,"form-label"],["type","text","name","descricao","id","descricao","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","mb-3"],[1,"col"],["for","valor",1,"form-label"],["type","number","name","valor","id","valor","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","data",1,"form-label"],["type","date","name","data","id","data","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","quantidade",1,"form-label"],["type","text","name","parcelas","id","quantidade","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","devedor",1,"form-label"],["name","select","id","devedor","required","",1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[1,"fs-sm","fw-light"],[3,"value"]],template:function(n,r){n&1&&(T(0,"div",0)(1,"a",1),N(2,"Nova compra"),S()(),T(3,"div",2)(4,"div",3)(5,"h5",4),N(6,"\xDAltimas compras"),S(),T(7,"table",5)(8,"thead")(9,"tr")(10,"th"),N(11,"Data"),S(),T(12,"th"),N(13,"Descri\xE7\xE3o"),S(),T(14,"th"),N(15,"Valor"),S(),T(16,"th"),N(17,"Parcelas"),S(),T(18,"th"),N(19,"Devedor"),S()()(),T(20,"tbody"),kt(21,c4,13,11,"tr",6),sr(22,"slice"),S()()()(),T(23,"div",7)(24,"div",8)(25,"div",9)(26,"div",10)(27,"h6",11),N(28,"Nova compra"),S(),Pe(29,"button",12),S(),T(30,"div",13)(31,"form")(32,"div",14)(33,"label",15),N(34,"Descri\xE7\xE3o"),S(),T(35,"input",16),Je("ngModelChange",function(o){return it(r.descricao,o)||(r.descricao=o),o}),S()(),T(36,"div",17)(37,"div",18)(38,"label",19),N(39,"Valor"),S(),T(40,"input",20),Je("ngModelChange",function(o){return it(r.valor,o)||(r.valor=o),o}),S()(),T(41,"div",18)(42,"label",21),N(43,"Data"),S(),T(44,"input",22),Je("ngModelChange",function(o){return it(r.data,o)||(r.data=o),o}),S()()(),T(45,"div",17)(46,"div",18)(47,"label",23),N(48,"Parcelas"),S(),T(49,"input",24),Je("ngModelChange",function(o){return it(r.parcelas,o)||(r.parcelas=o),o}),S()(),T(50,"div",18)(51,"label",25),N(52,"Devedor"),S(),T(53,"select",26),Je("ngModelChange",function(o){return it(r.devedorSelecionado,o)||(r.devedorSelecionado=o),o}),kt(54,u4,2,2,"option",27),S()()(),T(55,"div")(56,"button",28),rt("click",function(){return r.enviarEmail()}),N(57,"Cadastrar"),S()()()()()()()),n&2&&(X(21),Et("ngForOf",MC(22,7,r.compras,0,5)),X(14),Ze("ngModel",r.descricao),X(5),Ze("ngModel",r.valor),X(4),Ze("ngModel",r.data),X(5),Ze("ngModel",r.parcelas),X(4),Ze("ngModel",r.devedorSelecionado),X(),Et("ngForOf",r.devedores))},dependencies:[fi,hi,uA,dA,Ln,Ov,vh,li,di,Fc,Cr,Dr,zt,ns,ob,pd,fd],styles:["*[_ngcontent-%COMP%]{font-family:Roboto,sans-serif}.w40[_ngcontent-%COMP%]{width:100%;border-radius:15px;background-color:#fff}@media (max-width: 576px){.content[_ngcontent-%COMP%]{width:100%}}@media (max-width: 400px){.table[_ngcontent-%COMP%]{font-size:10px}}"]})};function l4(t,e){if(t&1&&(T(0,"tr")(1,"td",6),N(2),sr(3,"date"),S(),T(4,"td",6),N(5),S(),T(6,"td",6),N(7),sr(8,"currency"),S(),T(9,"td",6),N(10),S(),T(11,"td",6),N(12),S()()),t&2){let n=e.$implicit;X(2),ht(es(3,5,n.data,"dd/MM/yyyy")),X(3),ht(n.descricao),X(2),ht(es(8,8,n.valor,"BRL")),X(3),ht(n.parcelas),X(2),ht(n.devedor)}}var sf=class t{compras=[{data:"2020-01-01",descricao:"Tenis Everlast",valor:349,parcelas:6,devedor:"Alan"},{data:"2020-01-01",descricao:"Vestido",valor:89.9,parcelas:2,devedor:"Tiffani"},{data:"2020-01-01",descricao:"Spotify",valor:8.75,parcelas:1,devedor:"Valdemar"},{data:"2020-01-01",descricao:"MeliMais",valor:27.99,parcelas:1,devedor:"Alcione"},{data:"2020-01-01",descricao:"Joelheira",valor:71.35,parcelas:2,devedor:"Tiffani"},{data:"2020-01-01",descricao:"Netflix",valor:44.9,parcelas:1,devedor:"Alan"},{data:"2020-01-01",descricao:"Robo as pirador de p\xF3",valor:44.9,parcelas:1,devedor:"Alan"},{data:"2020-01-01",descricao:"Netflix",valor:44.9,parcelas:1,devedor:"Alan"},{data:"2020-01-01",descricao:"Netflix",valor:44.9,parcelas:1,devedor:"Alan"}];static \u0275fac=function(n){return new(n||t)};static \u0275cmp=nt({type:t,selectors:[["app-cartao"]],standalone:!0,features:[ot],decls:21,vars:1,consts:[[1,"container-fluid","my-3"],[1,"container","d-flex","justify-content-between","gap-3"],[1,"p-4","border-0","shadow","w40"],[1,"fw-bold"],[1,"table","table-hover","table-sm"],[4,"ngFor","ngForOf"],[1,"fs-sm","fw-light"]],template:function(n,r){n&1&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),N(4,"\xDAltimos pagamentos"),S(),T(5,"table",4)(6,"thead")(7,"tr")(8,"th"),N(9,"Data"),S(),T(10,"th"),N(11,"Descri\xE7\xE3o"),S(),T(12,"th"),N(13,"Valor"),S(),T(14,"th"),N(15,"Parcelas"),S(),T(16,"th"),N(17,"Pessoa"),S()()(),T(18,"tbody"),kt(19,l4,13,11,"tr",5),S()()(),Pe(20,"div",2),S()()),n&2&&(X(19),Et("ngForOf",r.compras))},dependencies:[zt,ns,pd,fd],styles:[".w40[_ngcontent-%COMP%]{width:60%;border-radius:15px;background-color:#fff}@media (max-width: 992px){.container[_ngcontent-%COMP%]{flex-direction:column}.w40[_ngcontent-%COMP%]{width:100%;margin:auto}}@media (max-width: 400px){.table[_ngcontent-%COMP%]{font-size:9px}}"]})};var ta=class t{firebaseAuth=O(io);register(e,n,r,i){let o=VS(this.firebaseAuth,e,n).then(s=>US(s.user,{displayName:i}));return Se(o)}login(e,n){let r=jS(this.firebaseAuth,e,n).then(()=>{});return Se(r)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};function d4(t,e){if(t&1&&(T(0,"div",24),N(1),S()),t&2){let n=Ba();X(),or(" ",n.errorMessage," ")}}var af=class t{constructor(e){this.router=e}authService=O(ta);usuario="";senha="";errorMessage="";login(){this.authService.login(this.usuario,this.senha).subscribe({next:()=>{this.errorMessage="",this.router.navigate(["/fatura"])},error:e=>{this.errorMessage="Usu\xE1rio ou senha inv\xE1lidos"}})}static \u0275fac=function(n){return new(n||t)(q(Dt))};static \u0275cmp=nt({type:t,selectors:[["app-login"]],standalone:!0,features:[ot],decls:32,vars:3,consts:[[1,"container","mt-3","pt-5"],[1,"row"],[1,"col-12","col-sm-8","col-md-6","m-auto"],[1,"card","border-0","shadow"],[1,"card-body"],[1,"text-center","my-3"],["xmlns","http://www.w3.org/2000/svg","width","60","height","60","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person-circle"],["d","M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"],["fill-rule","evenodd","d","M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"],["id","google-link",1,"form-control","d-flex","align-items-center"],["id","google","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48","width","22px","height","22px"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"],[1,"mx-auto"],[1,"fw-normal","text-center","mt-3"],[3,"ngSubmit"],["type","text","name","usuario","id","usuario","placeholder","E-mail",1,"form-control","py-2",3,"ngModelChange","ngModel"],["type","password","name","senha","id","","placeholder","Senha",1,"form-control","my-4","py-2",3,"ngModelChange","ngModel"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"text-center"],["type","submit",1,"btn","btn-primary"],["routerLink","register",1,"nav-link","mt-2"],["role","alert",1,"alert","alert-danger"]],template:function(n,r){n&1&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),Fm(),T(6,"svg",6),Pe(7,"path",7)(8,"path",8),S()(),Vm(),T(9,"div")(10,"h5",5),N(11,"Acesse sua conta"),S()(),T(12,"a",9),Fm(),T(13,"svg",10),Pe(14,"path",11)(15,"path",12)(16,"path",13)(17,"path",14),S(),Vm(),T(18,"span",15),N(19,"Entre com o Google"),S()(),T(20,"div")(21,"p",16),N(22,"ou"),S()(),T(23,"form",17),rt("ngSubmit",function(){return r.login()}),T(24,"input",18),Je("ngModelChange",function(o){return it(r.usuario,o)||(r.usuario=o),o}),S(),T(25,"input",19),Je("ngModelChange",function(o){return it(r.senha,o)||(r.senha=o),o}),S(),kt(26,d4,2,1,"div",20),T(27,"div",21)(28,"button",22),N(29,"Entrar"),S(),T(30,"a",23),N(31,"N\xE3o possui uma conta?"),S()()()()()()()()),n&2&&(X(24),Ze("ngModel",r.usuario),X(),Ze("ngModel",r.senha),X(),Et("ngIf",r.errorMessage))},dependencies:[fi,hi,Ln,li,di,Cr,Dr,zt,rs,ps],styles:["#google-link[_ngcontent-%COMP%]{text-decoration:none}#google-link[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#ea4335;color:#fff}#google-link[_ngcontent-%COMP%]:hover   #google[_ngcontent-%COMP%]{display:none}"]})};var vi=class t{constructor(e){this.router=e}canActivate(e,n){return localStorage.getItem("isAuthenticated")==="true"?!0:(this.router.navigate(["/"]),!1)}static \u0275fac=function(n){return new(n||t)(Q(Dt))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};function h4(t,e){if(t&1&&(T(0,"div",14),N(1),S()),t&2){let n=Ba();X(),or(" ",n.successMessage," ")}}function f4(t,e){if(t&1&&(T(0,"div",15),N(1),S()),t&2){let n=Ba();X(),or(" ",n.errorMessage," ")}}var cf=class t{authService=O(ta);email="";name="";phone="";password="";successMessage="";errorMessage="";onSubmit(){this.authService.register(this.email,this.password,this.phone,this.name).subscribe({next:()=>{this.errorMessage="",this.successMessage="Usu\xE1rio criado com sucesso"},error:e=>{this.successMessage="",this.errorMessage="Erro ao criar usu\xE1rio"}})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=nt({type:t,selectors:[["app-registro"]],standalone:!0,features:[ot],decls:20,vars:6,consts:[[1,"container"],[1,"my-3"],[3,"ngSubmit"],["for","inputName",1,"form-label","mt-3"],["type","text","name","inputName","id","inputName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","inputPhone",1,"form-label","mt-3"],["type","text","name","inputPhone","id","inputPhone",1,"form-control",3,"ngModelChange","ngModel"],["for","inputEmail",1,"form-label","mt-3"],["type","email","name","inputEmail","id","inputEmail","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","inputPassword",1,"form-label","mt-3"],["type","password","name","inputPassword","id","inputPassword","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","alert alert-success mt-3","role","alert",4,"ngIf"],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],["type","submit",1,"btn","btn-primary","my-3"],["role","alert",1,"alert","alert-success","mt-3"],["role","alert",1,"alert","alert-danger","mt-3"]],template:function(n,r){n&1&&(T(0,"div",0)(1,"h6",1),N(2,"Cadastro"),S(),T(3,"form",2),rt("ngSubmit",function(){return r.onSubmit()}),T(4,"label",3),N(5,"Nome"),S(),T(6,"input",4),Je("ngModelChange",function(o){return it(r.name,o)||(r.name=o),o}),S(),T(7,"label",5),N(8,"Telefone"),S(),T(9,"input",6),Je("ngModelChange",function(o){return it(r.phone,o)||(r.phone=o),o}),S(),T(10,"label",7),N(11,"E-mail"),S(),T(12,"input",8),Je("ngModelChange",function(o){return it(r.email,o)||(r.email=o),o}),S(),T(13,"label",9),N(14,"Senha"),S(),T(15,"input",10),Je("ngModelChange",function(o){return it(r.password,o)||(r.password=o),o}),S(),kt(16,h4,2,1,"div",11)(17,f4,2,1,"div",12),T(18,"button",13),N(19,"Cadastrar"),S()()()),n&2&&(X(6),Ze("ngModel",r.name),X(3),Ze("ngModel",r.phone),X(3),Ze("ngModel",r.email),X(3),Ze("ngModel",r.password),X(),Et("ngIf",r.successMessage),X(),Et("ngIf",r.errorMessage))},dependencies:[fi,hi,Ln,li,di,Fc,Cr,Dr,zt,rs]})};var uf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=nt({type:t,selectors:[["app-dashboard"]],standalone:!0,features:[ot],decls:71,vars:0,consts:[[1,"container","mt-3"],[1,"p-4","border-0","shadow","w40"],[1,"fw-bold"],[1,"d-flex","justify-content-between"],[1,"mt-3"],[1,"table","table-hover","table-sm"],[1,"fs-sm","fw-light"]],template:function(n,r){n&1&&(T(0,"div",0)(1,"div",1)(2,"h5",2),N(3,"Fatura atual"),S(),T(4,"div",3)(5,"div")(6,"p",2),N(7,"Total"),S(),T(8,"p"),N(9,"R$ 1360,00"),S()(),T(10,"div")(11,"p",2),N(12,"Vencimento"),S(),T(13,"p"),N(14,"10/01/2024"),S()()()(),T(15,"div",4)(16,"div",1)(17,"h5",2),N(18,"Total individual"),S(),T(19,"table",5)(20,"thead")(21,"tr")(22,"th"),N(23,"Devedor"),S(),T(24,"th"),N(25,"Valor"),S()()(),T(26,"tbody")(27,"tr")(28,"td",6),N(29,"Alan"),S(),T(30,"td",6),N(31,"R$ 654,00"),S()(),T(32,"tr")(33,"td",6),N(34,"Tiffani"),S(),T(35,"td",6),N(36,"R$ 680,00"),S()()()()(),T(37,"div",4)(38,"div",1)(39,"h5",2),N(40,"\xDAltimas parcelas"),S(),T(41,"table",5)(42,"thead")(43,"tr")(44,"th"),N(45,"Descri\xE7\xE3o"),S(),T(46,"th"),N(47,"Devedor"),S(),T(48,"th"),N(49,"Parcela"),S(),T(50,"th"),N(51,"Valor"),S()()(),T(52,"tbody")(53,"tr")(54,"td",6),N(55,"Joelheira"),S(),T(56,"td",6),N(57,"Tiffani"),S(),T(58,"td",6),N(59,"2"),S(),T(60,"td",6),N(61,"R$ 31,50"),S()(),T(62,"tr")(63,"td",6),N(64,"Vestido"),S(),T(65,"td",6),N(66,"Tiffani"),S(),T(67,"td",6),N(68,"5"),S(),T(69,"td",6),N(70,"R$ 45,00"),S()()()()()()()())},styles:[".w40[_ngcontent-%COMP%]{border-radius:15px}@media (max-width: 400px){.table[_ngcontent-%COMP%]{font-size:12px}}"]})};var lf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=nt({type:t,selectors:[["app-fatura"]],standalone:!0,features:[ot],decls:101,vars:0,consts:[[1,"container","mt-3"],[1,"p-4","border-0","shadow","w40"],[1,"d-flex","align-items-center","justify-content-between"],[1,"btn"],[1,"bi","bi-caret-left-fill"],[1,"text-center"],[1,"bi","bi-caret-right-fill"],[1,"d-flex","mt-3","justify-content-between"],[1,"fw-bold","m-0"],[1,"d-flex","justify-content-between","align-items-end","my-2"],[1,"btn","btn-success","btn-sm"],[1,"table","table-hover","table-sm"],[1,"fs-sm","fw-light"],[1,"d-flex","flex-column"],[2,"font-size","xx-small"],[1,"my-3"],[1,"fw-bold"],[1,"w-75"],[1,"invisible",2,"height","10vh"]],template:function(n,r){n&1&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),Pe(4,"i",4),S(),T(5,"h5",5),N(6,"Janeiro"),S(),T(7,"button",3),Pe(8,"i",6),S()(),T(9,"div",7)(10,"div")(11,"p",8),N(12,"Total"),S(),T(13,"p"),N(14,"R$ 1360,00"),S()(),T(15,"div")(16,"p",8),N(17,"Vencimento"),S(),T(18,"p"),N(19,"10/01/2024"),S()()(),T(20,"div",9)(21,"p",8),N(22,"Despesas da fatura"),S(),T(23,"button",10),N(24,"Pagar"),S()(),T(25,"table",11)(26,"thead")(27,"tr")(28,"th"),N(29,"Pessoa"),S(),T(30,"th"),N(31,"Descri\xE7\xE3o"),S(),T(32,"th"),N(33,"Valor"),S()()(),T(34,"tbody")(35,"tr")(36,"td",12),N(37,"Tiffani"),S(),T(38,"td",12)(39,"div",13)(40,"span"),N(41,"Joelheira Tiffani"),S(),T(42,"span",14),N(43,"2 de 2"),S()()(),T(44,"td",12),N(45,"R$ 31,50"),S()(),T(46,"tr")(47,"td",12),N(48,"Tiffani"),S(),T(49,"td",12)(50,"div",13)(51,"span"),N(52,"Vestido"),S(),T(53,"span",14),N(54,"2 de 3"),S()()(),T(55,"td",12),N(56,"R$ 54,00"),S()(),T(57,"tr")(58,"td",12),N(59,"Alan"),S(),T(60,"td",12)(61,"div",13)(62,"span"),N(63,"T\xEAnis"),S(),T(64,"span",14),N(65,"2 de 6"),S()()(),T(66,"td",12),N(67,"R$ 99,80"),S()()()()(),T(68,"div",15)(69,"div",1)(70,"p",16),N(71,"Total individual"),S(),T(72,"table",11)(73,"thead")(74,"tr")(75,"th",17),N(76,"Pessoa"),S(),T(77,"th"),N(78,"Valor"),S()()(),T(79,"tbody")(80,"tr")(81,"td",12),N(82,"Tiffani"),S(),T(83,"td",12),N(84,"R$ 85,50"),S()(),T(85,"tr")(86,"td",12),N(87,"Alan"),S(),T(88,"td",12),N(89,"R$ 99,80"),S()(),T(90,"tr")(91,"td",12),N(92,"Alcione"),S(),T(93,"td",12),N(94,"R$ 27,99"),S()(),T(95,"tr")(96,"td",12),N(97,"Valdemar"),S(),T(98,"td",12),N(99,"R$ 8,75"),S()()()()()(),Pe(100,"div",18),S())},styles:[".w40[_ngcontent-%COMP%]{border-radius:15px}@media (max-width: 400px){.table[_ngcontent-%COMP%]{font-size:14px}}"]})};var UR=[{path:"",component:af},{path:"register",component:cf},{path:"pessoa",component:rf,canActivate:[vi]},{path:"compra",component:of,canActivate:[vi]},{path:"cartao",component:sf,canActivate:[vi]},{path:"dashboard",component:uf,canActivate:[vi]},{path:"fatura",component:lf,canActivate:[vi]}];var p4={apiKey:oo.firebaseConfig.apiKey,authDomain:oo.firebaseConfig.authDomain,projectId:oo.firebaseConfig.projectId,storageBucket:oo.firebaseConfig.storageBucket,messagingSenderId:oo.firebaseConfig.messagingSenderId,appId:oo.firebaseConfig.appId},BR={providers:[FC({eventCoalescing:!0}),oT(UR),jT(()=>UT(p4)),FS(()=>LS()),FR(()=>jR())]};function m4(t,e){t&1&&(T(0,"div",1)(1,"a",2),Pe(2,"i",3),S(),T(3,"a",4),Pe(4,"i",5),S(),T(5,"a",6),Pe(6,"i",7),S(),T(7,"a",8),Pe(8,"i",9),S(),T(9,"a",10),Pe(10,"i",11),S()())}var df=class t{constructor(e){this.router=e;this.router.events.subscribe(()=>{this.showNavbar=this.router.url!=="/"})}title="SistemaCartaoAngular";showNavbar=!0;static \u0275fac=function(n){return new(n||t)(q(Dt))};static \u0275cmp=nt({type:t,selectors:[["app-root"]],standalone:!0,features:[ot],decls:2,vars:1,consts:[["class","container-fluid bg-dark position-fixed bottom-0",4,"ngIf"],[1,"container-fluid","bg-dark","position-fixed","bottom-0"],["routerLink","pessoa","routerLinkActive","active",1,"btn","btn-dark","btn-lg","btn-block"],[1,"bi","bi-person-fill"],["routerLink","compra","routerLinkActive","active",1,"btn","btn-dark","btn-lg","btn-block"],[1,"bi","bi-cart-fill"],["routerLink","fatura","routerLinkActive","active",1,"btn","btn-dark","btn-lg","btn-block"],[1,"bi","bi-clipboard-data-fill"],["routerLink","dashboard","routerLinkActive","active",1,"btn","btn-dark","btn-lg","btn-block"],[1,"bi","bi-bar-chart-line-fill"],["routerLink","cartao","routerLinkActive","active",1,"btn","btn-dark","btn-lg","btn-block"],[1,"bi","bi-wallet-fill"]],template:function(n,r){n&1&&(Pe(0,"router-outlet"),kt(1,m4,11,0,"div",0)),n&2&&(X(),Et("ngIf",r.showNavbar))},dependencies:[hy,ps,zt,rs,lT,rT],styles:[".container-fluid[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:8vh}.active[_ngcontent-%COMP%]{background-color:#14171a}"]})};pb(df,BR).catch(t=>console.error(t));
